# Quest Board

## Available

### Critical
[worktree] Use git worktrees for raid branches - keep main repo on main, create .undercity/worktrees/<raid-id>/ for each raid so main stays editable
[worktree] Raiders work in their worktree, elevator merges from worktree back to main
[robustness] Add rate limit detection - catch 429 errors, pause squad, show countdown timer, auto-resume when quota resets
[robustness] Add basic error recovery - if raider fails mid-waypoint, save partial progress and allow retry
[self-improvement] Add ability for agents to add new quests - when quester/sheriff discovers work, they should be able to queue it
[self-improvement] Parse agent output for "[NEW QUEST: ...]" markers and auto-add to quest board
[self-improvement] Have sheriff generate follow-up quests for issues found during review
[elevator] Improve elevator to auto-resolve conflicts using git merge -X theirs strategy
[elevator] Add fallback merge strategies: try ours, then theirs, then report specific conflict files
[elevator] Make elevator retry failed merges after other branches succeed (conflicts may resolve)
[elevator] Implement optimal merge strategy: rebase from fresh main first, then try clean merge, then -X ours (prefer main), only report conflicts if truly unresolvable
[elevator] Ensure quester always creates branch from latest main - fetch and checkout fresh main before branching to avoid stale code conflicts
[elevator] Fix elevator auto-processing - branches should auto-merge to main after sheriff approval, currently requires manual merge intervention

### High
[parallelism] Add parallel quester support - spawn multiple questers working on different waypoints simultaneously
[parallelism] Implement waypoint splitting in logistics - break large tasks into independent subtasks for parallel execution
[parallelism] Add a --parallel flag to control max concurrent agents (default 3, max 5)
[parallelism] Track which files each quester is touching to avoid conflicts between parallel agents
[speed] Add context summarization - don't pass entire plan file to every agent, summarize relevant parts
[speed] Add timeout handling - if an agent takes >10 minutes, log warning and consider intervention

### Medium
[planning] Parse plan files into discrete goals/waypoints upfront instead of re-reading whole plan each iteration
[planning] Track which plan steps are complete in backlog so we don't re-check via codebase analysis
[planning] Add plan progress tracking - show "Step 3/7: Adding authentication" not just "executing"
[planning] Add "undercity import-plan <plan.md>" command to auto-extract quests from Claude plan files
[planning] Add context field to Quest interface - allow storing relevant plan snippets per quest
[planning] Implement context sharding - pass only relevant context to each raider type (flute gets less, quester gets more)
[visibility] Fix streamAgentActivity to properly show tool calls from SDK message format
[visibility] Add progress bar to plan command output (not just status command)
[visibility] Show estimated time remaining based on historical raid durations
[visibility] Add a --quiet flag for minimal output (just errors and completion)
[robustness] Add retry logic for failed agents - if quester fails, retry once before giving up
[robustness] Implement graceful degradation - if sheriff fails, still allow manual review option
[robustness] Add health checks - detect stuck agents (no activity for 5+ minutes)
[robustness] Save partial work on agent failure - don't lose progress if one agent crashes
[robustness] Handle rate limits gracefully - detect 429 errors, pause squad, show countdown to resume
[robustness] Add "undercity abort" command for emergency stop of runaway raids (kill all raiders, save state)
[robustness] Implement conversation compaction - summarize long raider contexts to avoid token limits
[theme] Add "rat check" phase before extraction - dedicated review for hidden bugs that look harmless but will betray later
[theme] Add --light flag for "free loadout" mode - Haiku-only quick runs for small tasks, minimal context, minimal loss
[theme] Add pre-raid "extraction camper" check - detect potential merge conflicts before starting work, not at the end
[verbose] Add --verbose flag to show detailed raider activity during raids (tool calls, file reads, decisions)
[verbose] Add more streaming output for raiders - show what they're reading, writing, and deciding in real-time
[verbose] Create debug mode that logs full raider context/prompts for troubleshooting slow or stuck raiders
[tui] Build a TUI (terminal UI) dashboard to monitor parallel raiders and squads in real-time
[tui] Show raider status, current waypoint, progress bars, and live activity in a split-pane layout
[tui] Support for multiple concurrent squads with clear visual separation

### Low
[qol] Add "undercity pause" command to pause a raid without surrendering
[qol] Add "undercity resume" command to continue a paused raid
[qol] Add "undercity logs <agent-id>" to see full output from a specific agent
[qol] Add config file support (.undercityrc) for default options like --stream, model choices
[qol] Add per-quest model selection - allow overriding raider models for specific quests
[future] Add cross-raid memory in stash - remember patterns/decisions from previous raids
[future] Add "rival raider" mode - spawn a review agent that tries to break the quester's code
[future] Implement Rule of Five verification - actually check that 5 review passes happened
[theme] Update "Raid extracted successfully" to "Extraction complete" or "Squad extracted"
[theme] Review all log messages for ARC Raiders theme consistency
[theme] Use ARC Raiders CLI phrases: "Going topside...", "Sheriff on patrol", "Rat spotted", "Contact!"

## Extracted
2026-01-09: Standardize agent terminology (flute/logistics/quester/sheriff)
2026-01-09: Rename MergeQueue to Elevator
2026-01-09: Add Philosophy section to README
2026-01-09: Fix quester model (Opus â†’ Sonnet) in docs
2026-01-09: Add cspell dictionary
2026-01-xx: Add vitest tests for raid, cli, backlog modules (120 tests total)
2026-01-xx: Add --dry-run flag to slingshot
2026-01-xx: Add history command for completed raids
2026-01-xx: Add progress percentage to status command
2026-01-xx: Switch quester from Opus to Sonnet for speed
2026-01-xx: Cache flute results - if codebase hasn't changed, reuse previous flute intel

## Abandoned
