
> undercity@0.1.0 test /home/justin/.cache/undercity-worktrees/L2hvbWUvanVz/task-mlb8h51i-824f55
> vitest

[33mTesting types with tsc and vue-tsc is an experimental feature.
Breaking changes might not follow SemVer, please pin Vitest's version when using it.[39m

[1m[46m RUN [49m[22m [36mv4.0.16 [39m[90m/home/justin/.cache/undercity-worktrees/L2hvbWUvanVz/task-mlb8h51i-824f55[39m

[18:48:54] [32mINFO[39m: [36mDual logging started[39m
    [35msessionId[39m: "test-session-123"
    [35mlogFile[39m: ".test-undercity/logs/current.log"
[18:48:54] [32mINFO[39m: [36mDual logging stopped[39m
[18:48:54] [32mINFO[39m: [36mDual logging started[39m
    [35msessionId[39m: "test-session-123"
    [35mlogFile[39m: ".test-undercity/logs/current.log"
[18:48:54] [32mINFO[39m: [36mDual logging stopped[39m
[18:48:54] [32mINFO[39m: [36mDual logging started[39m
    [35msessionId[39m: "test-session-123"
    [35mlogFile[39m: ".test-undercity/logs/current.log"
[18:48:54] [32mINFO[39m: [36mDual logging stopped[39m
[18:48:54] [32mINFO[39m: [36mDual logging started[39m
    [35msessionId[39m: "test-session-123"
    [35mlogFile[39m: ".test-undercity/logs/current.log"
[18:48:54] [32mINFO[39m: [36mDual logging stopped[39m
[18:48:54] [32mINFO[39m: [36mDual logging started[39m
    [35msessionId[39m: "test-session-123"
    [35mlogFile[39m: ".test-undercity/logs/current.log"
[18:48:54] [32mINFO[39m: [36mDual logging stopped[39m
[18:48:54] [32mINFO[39m: [36mDual logging started[39m
    [35msessionId[39m: "test-session-123"
    [35mlogFile[39m: ".test-undercity/logs/current.log"
[18:48:54] [34mDEBUG[39m: [36mNo existing index found, starting fresh[39m
    [35mmodule[39m: "ast-index"
[18:48:54] [34mDEBUG[39m: [36mAST index empty, cannot use as primary source[39m
    [35mmodule[39m: "session"
[18:48:54] [34mDEBUG[39m: [36mAST index insufficient, falling back to file search[39m
    [35mmodule[39m: "session"
[90mstdout[2m | src/__tests__/task-scheduler.test.ts[2m > [22m[2mTaskScheduler[2m > [22m[2mPerformance regression tests[2m > [22m[2mshould handle 30 tasks efficiently
[22m[39mfindParallelizableSets(30 tasks) completed in 51.34ms

(node:2403834) [DEP0190] DeprecationWarning: Passing args to a child process with shell option true can lead to security vulnerabilities, as the arguments are not escaped, only concatenated.
(Use `node --trace-deprecation ...` to show where the warning was created)
[18:48:54] [34mDEBUG[39m: [36mContext preparation complete[39m
    [35mmodule[39m: "session"
    [35mmode[39m: "compact"
    [35mtokenBudget[39m: 4000
    [35mtokenBudgetUsed[39m: 383
    [35mtargetFiles[39m: 0
    [35msymbolStubs[39m: 0
[18:48:54] [34mDEBUG[39m: [36mNo existing index found, starting fresh[39m
    [35mmodule[39m: "ast-index"
[18:48:54] [34mDEBUG[39m: [36mAST index empty, cannot use as primary source[39m
    [35mmodule[39m: "session"
[18:48:54] [34mDEBUG[39m: [36mAST index insufficient, falling back to file search[39m
    [35mmodule[39m: "session"
[18:48:54] [34mDEBUG[39m: [36mAdded to merge queue[39m
    [35mmodule[39m: "git"
    [35mbranch[39m: "test-branch"
    [35mstepId[39m: "step-1"
    [35magentId[39m: "agent-1"
    [35mmodifiedFilesCount[39m: 0
[18:48:54] [34mDEBUG[39m: [36mAdded to merge queue[39m
    [35mmodule[39m: "git"
    [35mbranch[39m: "test-branch"
    [35mstepId[39m: "step-1"
    [35magentId[39m: "agent-1"
    [35mmodifiedFilesCount[39m: 2
[18:48:54] [34mDEBUG[39m: [36mAdded to merge queue[39m
    [35mmodule[39m: "git"
    [35mbranch[39m: "branch-1"
    [35mstepId[39m: "step-1"
    [35magentId[39m: "agent-1"
    [35mmodifiedFilesCount[39m: 0
[18:48:54] [34mDEBUG[39m: [36mAdded to merge queue[39m
    [35mmodule[39m: "git"
    [35mbranch[39m: "branch-1"
    [35mstepId[39m: "step-1"
    [35magentId[39m: "agent-1"
    [35mmodifiedFilesCount[39m: 2
[18:48:54] [34mDEBUG[39m: [36mAdded to merge queue[39m
    [35mmodule[39m: "git"
    [35mbranch[39m: "branch-2"
    [35mstepId[39m: "step-2"
    [35magentId[39m: "agent-2"
    [35mmodifiedFilesCount[39m: 2
[18:48:54] [33mWARN[39m: [36mPre-merge conflict detected: branches modify same files[39m
    [35mmodule[39m: "git"
    [35mbranchA[39m: "branch-1"
    [35mbranchB[39m: "branch-2"
    [35moverlappingFiles[39m: [
      "shared.ts"
    ]
    [35mcount[39m: 1
[18:48:54] [34mDEBUG[39m: [36mAdded to merge queue[39m
    [35mmodule[39m: "git"
    [35mbranch[39m: "branch-1"
    [35mstepId[39m: "step-1"
    [35magentId[39m: "agent-1"
    [35mmodifiedFilesCount[39m: 1
[18:48:54] [34mDEBUG[39m: [36mAdded to merge queue[39m
    [35mmodule[39m: "git"
    [35mbranch[39m: "branch-2"
    [35mstepId[39m: "step-2"
    [35magentId[39m: "agent-2"
    [35mmodifiedFilesCount[39m: 1
[18:48:54] [34mDEBUG[39m: [36mAdded to merge queue[39m
    [35mmodule[39m: "git"
    [35mbranch[39m: "branch-1"
    [35mstepId[39m: "step-1"
    [35magentId[39m: "agent-1"
    [35mmodifiedFilesCount[39m: 2
[18:48:54] [34mDEBUG[39m: [36mAdded to merge queue[39m
    [35mmodule[39m: "git"
    [35mbranch[39m: "branch-1"
    [35mstepId[39m: "step-1"
    [35magentId[39m: "agent-1"
    [35mmodifiedFilesCount[39m: 1
[18:48:54] [34mDEBUG[39m: [36mAdded to merge queue[39m
    [35mmodule[39m: "git"
    [35mbranch[39m: "branch-2"
    [35mstepId[39m: "step-2"
    [35magentId[39m: "agent-2"
    [35mmodifiedFilesCount[39m: 1
[18:48:54] [34mDEBUG[39m: [36mAdded to merge queue[39m
    [35mmodule[39m: "git"
    [35mbranch[39m: "branch-3"
    [35mstepId[39m: "step-3"
    [35magentId[39m: "agent-3"
    [35mmodifiedFilesCount[39m: 1
[18:48:54] [33mWARN[39m: [36mPre-merge conflict detected: branches modify same files[39m
    [35mmodule[39m: "git"
    [35mbranchA[39m: "branch-1"
    [35mbranchB[39m: "branch-2"
    [35moverlappingFiles[39m: [
      "shared.ts"
    ]
    [35mcount[39m: 1
[18:48:54] [34mDEBUG[39m: [36mAdded to merge queue[39m
    [35mmodule[39m: "git"
    [35mbranch[39m: "branch-1"
    [35mstepId[39m: "step-1"
    [35magentId[39m: "agent-1"
    [35mmodifiedFilesCount[39m: 0
[18:48:54] [34mDEBUG[39m: [36mAdded to merge queue[39m
    [35mmodule[39m: "git"
    [35mbranch[39m: "branch-2"
    [35mstepId[39m: "step-2"
    [35magentId[39m: "agent-2"
    [35mmodifiedFilesCount[39m: 0
[18:48:54] [34mDEBUG[39m: [36mMerge strategy updated[39m
    [35mmodule[39m: "git"
    [35mstrategy[39m: "ours"
[18:48:54] [34mDEBUG[39m: [36mRetry config updated[39m
    [35mmodule[39m: "git"
    [35mconfig[39m: {
      "enabled": true,
      "maxRetries": 10,
      "baseDelayMs": 1000,
      "maxDelayMs": 30000
    }
[18:48:54] [34mDEBUG[39m: [36mAdded to merge queue[39m
    [35mmodule[39m: "git"
    [35mbranch[39m: "branch-1"
    [35mstepId[39m: "step-1"
    [35magentId[39m: "agent-1"
    [35mmodifiedFilesCount[39m: 0
[18:48:54] [34mDEBUG[39m: [36mAdded to merge queue[39m
    [35mmodule[39m: "git"
    [35mbranch[39m: "branch-1"
    [35mstepId[39m: "step-1"
    [35magentId[39m: "agent-1"
    [35mmodifiedFilesCount[39m: 0
[18:48:54] [34mDEBUG[39m: [36mAdded to merge queue[39m
    [35mmodule[39m: "git"
    [35mbranch[39m: "branch-2"
    [35mstepId[39m: "step-2"
    [35magentId[39m: "agent-2"
    [35mmodifiedFilesCount[39m: 0
[18:48:54] [34mDEBUG[39m: [36mAdded to merge queue[39m
    [35mmodule[39m: "git"
    [35mbranch[39m: "test-add-1770403734749"
    [35mstepId[39m: "step-1"
    [35magentId[39m: "agent-1"
    [35mmodifiedFilesCount[39m: 0
[18:48:54] [34mDEBUG[39m: [36mChecking out branch[39m
    [35mmodule[39m: "git"
    [35mbranch[39m: "test-add-1770403734749"
[18:48:54] [34mDEBUG[39m: [36mRebasing[39m
    [35mmodule[39m: "git"
    [35mbranch[39m: "test-add-1770403734749"
    [35monto[39m: "main"
[18:48:54] [34mDEBUG[39m: [36mRunning tests[39m
    [35mmodule[39m: "git"
    [35mbranch[39m: "test-add-1770403734749"
[18:48:54] [32mINFO[39m: [36mDual logging stopped[39m
    [35msessionId[39m: "test-session-123"
[18:48:54] [32mINFO[39m: [36mLog rotated[39m
    [35marchivePath[39m: ".test-undercity/logs/session-test-session-123-2026-02-06T18-48-54-822Z.log"
    [35msessionId[39m: "test-session-123"
[18:48:54] [34mDEBUG[39m: [36mContext preparation complete[39m
    [35mmodule[39m: "session"
    [35mmode[39m: "compact"
    [35mtokenBudget[39m: 4000
    [35mtokenBudgetUsed[39m: 487
    [35mtargetFiles[39m: 0
    [35msymbolStubs[39m: 0
[18:48:54] [34mDEBUG[39m: [36mNo existing index found, starting fresh[39m
    [35mmodule[39m: "ast-index"
[18:48:54] [34mDEBUG[39m: [36mAST index empty, cannot use as primary source[39m
    [35mmodule[39m: "session"
[18:48:54] [34mDEBUG[39m: [36mAST index insufficient, falling back to file search[39m
    [35mmodule[39m: "session"
[18:48:54] [34mDEBUG[39m: [36mContext preparation complete[39m
    [35mmodule[39m: "session"
    [35mmode[39m: "compact"
    [35mtokenBudget[39m: 4000
    [35mtokenBudgetUsed[39m: 620
    [35mtargetFiles[39m: 1
    [35msymbolStubs[39m: 0
[18:48:54] [34mDEBUG[39m: [36mNo existing index found, starting fresh[39m
    [35mmodule[39m: "ast-index"
[18:48:54] [34mDEBUG[39m: [36mAST index empty, cannot use as primary source[39m
    [35mmodule[39m: "session"
[18:48:54] [34mDEBUG[39m: [36mAST index insufficient, falling back to file search[39m
    [35mmodule[39m: "session"
[90mstdout[2m | src/__tests__/task-scheduler.test.ts[2m > [22m[2mTaskScheduler[2m > [22m[2mPerformance regression tests[2m > [22m[2mshould handle 50 tasks without performance degradation
[22m[39mfindParallelizableSets(50 tasks) completed in 89.03ms

[90mstdout[2m | src/__tests__/task-scheduler.test.ts[2m > [22m[2mTaskScheduler[2m > [22m[2mPerformance regression tests[2m > [22m[2mshould generate combinations efficiently
[22m[39mgenerateQuestCombinations(40 tasks) completed in 3.21ms

[18:48:55] [32mINFO[39m: [36mDual logging started[39m
    [35msessionId[39m: "test-session-123"
    [35mlogFile[39m: ".test-undercity/logs/current.log"
[18:48:55] [32mINFO[39m: [36mDual logging stopped[39m
    [35msessionId[39m: "test-session-123"
[18:48:55] [32mINFO[39m: [36mLog rotated[39m
    [35marchivePath[39m: ".test-undercity/logs/session-test-session-123-2026-02-06T18-48-55-024Z.log"
    [35msessionId[39m: "test-session-123"
[90mstdout[2m | src/__tests__/task-scheduler.test.ts[2m > [22m[2mTaskScheduler[2m > [22m[2mPerformance regression tests[2m > [22m[2mshould be faster than O(nÂ²) baseline
[22m[39mCurrent implementation (40 tasks): 36.48ms

[90mstdout[2m | src/__tests__/task-scheduler.test.ts[2m > [22m[2mTaskScheduler[2m > [22m[2mPerformance regression tests[2m > [22m[2mshould maintain reasonable memory usage with multiple task sets
[22m[39mMemory increase for 35 tasks: -5.22 MB

 [32mâœ“[39m src/__tests__/task-scheduler.test.ts [2m([22m[2m25 tests[22m[2m)[22m[33m 360[2mms[22m[39m
 [32mâœ“[39m src/__tests__/dual-logger.test.ts [2m([22m[2m9 tests[22m[2m)[22m[33m 945[2mms[22m[39m
     [33m[2mâœ“[22m[39m should rotate logs when session ends [33m 301[2mms[22m[39m
 [32mâœ“[39m src/__tests__/integration/merge-queue.test.ts [2m([22m[2m25 tests[22m[2m)[22m[33m 914[2mms[22m[39m
       [33m[2mâœ“[22m[39m should add items and track their status [33m 535[2mms[22m[39m
[18:48:55] [33mWARN[39m: [36mBranch preserved for manual recovery[39m
    [35mmodule[39m: "git"
    [35mbranch[39m: "test-add-1770403734749"
    error: "â€‰ERR_PNPM_NO_IMPORTER_MANIFEST_FOUNDâ€‰ No package.json (or package.yaml, or package.json5) was found in \"/tmp/merge-queue-test-JDQhGG\".\n"
[18:48:54] [34mDEBUG[39m: [36mContext preparation complete[39m
    [35mmodule[39m: "session"
    [35mmode[39m: "compact"
    [35mtokenBudget[39m: 4000
    [35mtokenBudgetUsed[39m: 390
    [35mtargetFiles[39m: 0
    [35msymbolStubs[39m: 0
[18:48:55] [34mDEBUG[39m: [36mNo existing index found, starting fresh[39m
    [35mmodule[39m: "ast-index"
[18:48:55] [34mDEBUG[39m: [36mAST index empty, cannot use as primary source[39m
    [35mmodule[39m: "session"
[18:48:55] [34mDEBUG[39m: [36mAST index insufficient, falling back to file search[39m
    [35mmodule[39m: "session"
[18:48:55] [34mDEBUG[39m: [36mContext preparation complete[39m
    [35mmodule[39m: "session"
    [35mmode[39m: "compact"
    [35mtokenBudget[39m: 4000
    [35mtokenBudgetUsed[39m: 366
    [35mtargetFiles[39m: 0
    [35msymbolStubs[39m: 0
[18:48:55] [34mDEBUG[39m: [36mNo existing index found, starting fresh[39m
    [35mmodule[39m: "ast-index"
[18:48:55] [34mDEBUG[39m: [36mAST index empty, cannot use as primary source[39m
    [35mmodule[39m: "session"
[18:48:55] [34mDEBUG[39m: [36mAST index insufficient, falling back to file search[39m
    [35mmodule[39m: "session"
[18:48:55] [34mDEBUG[39m: [36mContext preparation complete[39m
    [35mmodule[39m: "session"
    [35mmode[39m: "compact"
    [35mtokenBudget[39m: 4000
    [35mtokenBudgetUsed[39m: 384
    [35mtargetFiles[39m: 0
    [35msymbolStubs[39m: 0
[18:48:55] [34mDEBUG[39m: [36mNo existing index found, starting fresh[39m
    [35mmodule[39m: "ast-index"
[18:48:55] [34mDEBUG[39m: [36mAST index empty, cannot use as primary source[39m
    [35mmodule[39m: "session"
[18:48:55] [34mDEBUG[39m: [36mAST index insufficient, falling back to file search[39m
    [35mmodule[39m: "session"
[18:48:55] [34mDEBUG[39m: [36mContext preparation complete[39m
    [35mmodule[39m: "session"
    [35mmode[39m: "compact"
    [35mtokenBudget[39m: 4000
    [35mtokenBudgetUsed[39m: 385
    [35mtargetFiles[39m: 0
    [35msymbolStubs[39m: 0
[18:48:55] [34mDEBUG[39m: [36mNo existing index found, starting fresh[39m
    [35mmodule[39m: "ast-index"
[18:48:55] [34mDEBUG[39m: [36mAST index empty, cannot use as primary source[39m
    [35mmodule[39m: "session"
[18:48:55] [34mDEBUG[39m: [36mAST index insufficient, falling back to file search[39m
    [35mmodule[39m: "session"
 [32mâœ“[39m src/__tests__/knowledge.test.ts [2m([22m[2m82 tests[22m[2m)[22m[32m 277[2mms[22m[39m
[18:48:55] [33mWARN[39m: [36mFailed to parse knowledge.json, returning default knowledge base[39m
    [35mmodule[39m: "session"
    [35mpath[39m: "/tmp/knowledge-test-4nUjhu/knowledge.json"
    error: "Expected property name or '}' in JSON at position 1 (line 1 column 2)"
[18:48:55] [34mDEBUG[39m: [36mContext preparation complete[39m
    [35mmodule[39m: "session"
    [35mmode[39m: "compact"
    [35mtokenBudget[39m: 4000
    [35mtokenBudgetUsed[39m: 421
    [35mtargetFiles[39m: 0
    [35msymbolStubs[39m: 0
[18:48:55] [34mDEBUG[39m: [36mNo existing index found, starting fresh[39m
    [35mmodule[39m: "ast-index"
[18:48:55] [34mDEBUG[39m: [36mAST index empty, cannot use as primary source[39m
    [35mmodule[39m: "session"
[18:48:55] [34mDEBUG[39m: [36mAST index insufficient, falling back to file search[39m
    [35mmodule[39m: "session"
[18:48:56] [34mDEBUG[39m: [36mContext preparation complete[39m
    [35mmodule[39m: "session"
    [35mmode[39m: "compact"
    [35mtokenBudget[39m: 4000
    [35mtokenBudgetUsed[39m: 399
    [35mtargetFiles[39m: 0
    [35msymbolStubs[39m: 0
[18:48:56] [34mDEBUG[39m: [36mNo existing index found, starting fresh[39m
    [35mmodule[39m: "ast-index"
[18:48:56] [34mDEBUG[39m: [36mAST index empty, cannot use as primary source[39m
    [35mmodule[39m: "session"
[18:48:56] [34mDEBUG[39m: [36mAST index insufficient, falling back to file search[39m
    [35mmodule[39m: "session"
[18:48:56] [34mDEBUG[39m: [36mContext preparation complete[39m
    [35mmodule[39m: "session"
    [35mmode[39m: "compact"
    [35mtokenBudget[39m: 4000
    [35mtokenBudgetUsed[39m: 382
    [35mtargetFiles[39m: 0
    [35msymbolStubs[39m: 0
[18:48:56] [34mDEBUG[39m: [36mNo existing index found, starting fresh[39m
    [35mmodule[39m: "ast-index"
[18:48:56] [34mDEBUG[39m: [36mAST index empty, cannot use as primary source[39m
    [35mmodule[39m: "session"
[18:48:56] [34mDEBUG[39m: [36mAST index insufficient, falling back to file search[39m
    [35mmodule[39m: "session"
 [32mâœ“[39m src/__tests__/decision-tracker.test.ts [2m([22m[2m58 tests[22m[2m)[22m[33m 366[2mms[22m[39m
[00:00:00] [34mDEBUG[39m: [36mIndexed resolved decision to RAG[39m
    [35mmodule[39m: "session"
    [35mdecisionId[39m: "dec-lqu5m2o0-4fzyo8"
[18:48:56] [34mDEBUG[39m: [36mContext preparation complete[39m
    [35mmodule[39m: "session"
    [35mmode[39m: "compact"
    [35mtokenBudget[39m: 4000
    [35mtokenBudgetUsed[39m: 421
    [35mtargetFiles[39m: 0
    [35msymbolStubs[39m: 0
[18:48:56] [33mWARN[39m: [36mFailed to load AST index, starting fresh[39m
    [35mmodule[39m: "ast-index"
    error: "SyntaxError: Expected property name or '}' in JSON at position 1 (line 1 column 2)"
[18:48:56] [34mDEBUG[39m: [36mAST index empty, cannot use as primary source[39m
    [35mmodule[39m: "session"
[18:48:56] [34mDEBUG[39m: [36mAST index insufficient, falling back to file search[39m
    [35mmodule[39m: "session"
[18:48:56] [34mDEBUG[39m: [36mContext preparation complete[39m
    [35mmodule[39m: "session"
    [35mmode[39m: "compact"
    [35mtokenBudget[39m: 4000
    [35mtokenBudgetUsed[39m: 382
    [35mtargetFiles[39m: 0
    [35msymbolStubs[39m: 0
[18:48:56] [33mWARN[39m: [36mFailed to load AST index, starting fresh[39m
    [35mmodule[39m: "ast-index"
    error: "TypeError: Cannot convert undefined or null to object"
[18:48:56] [34mDEBUG[39m: [36mAST index empty, cannot use as primary source[39m
    [35mmodule[39m: "session"
[18:48:56] [34mDEBUG[39m: [36mAST index insufficient, falling back to file search[39m
    [35mmodule[39m: "session"
[18:48:56] [34mDEBUG[39m: [36mContext preparation complete[39m
    [35mmodule[39m: "session"
    [35mmode[39m: "compact"
    [35mtokenBudget[39m: 4000
    [35mtokenBudgetUsed[39m: 376
    [35mtargetFiles[39m: 0
    [35msymbolStubs[39m: 0
[18:48:56] [32mINFO[39m: [36mIndex version mismatch, rebuilding[39m
    [35mmodule[39m: "ast-index"
    [35moldVersion[39m: "0.5"
    [35mnewVersion[39m: "1.0"
[18:48:56] [34mDEBUG[39m: [36mAST index empty, cannot use as primary source[39m
    [35mmodule[39m: "session"
[18:48:56] [34mDEBUG[39m: [36mAST index insufficient, falling back to file search[39m
    [35mmodule[39m: "session"
[18:48:56] [34mDEBUG[39m: [36mContext preparation complete[39m
    [35mmodule[39m: "session"
    [35mmode[39m: "compact"
    [35mtokenBudget[39m: 4000
    [35mtokenBudgetUsed[39m: 382
    [35mtargetFiles[39m: 0
    [35msymbolStubs[39m: 0
[18:48:56] [34mDEBUG[39m: [36mLoaded AST index[39m
    [35mmodule[39m: "ast-index"
    [35mfileCount[39m: 1
[18:48:56] [34mDEBUG[39m: [36mAST index primary lookup complete[39m
    [35mmodule[39m: "session"
    [35mfilesFound[39m: 0
    [35msymbolsFound[39m: 0
    [35msymbolStubs[39m: 0
    [35mdependencies[39m: 0
    [35mimpactedFiles[39m: 0
[18:48:56] [34mDEBUG[39m: [36mAST index insufficient, falling back to file search[39m
    [35mmodule[39m: "session"
 [32mâœ“[39m src/__tests__/task-algorithms.test.ts [2m([22m[2m27 tests[22m[2m)[22m[32m 202[2mms[22m[39m
[18:48:56] [34mDEBUG[39m: [36mContext preparation complete[39m
    [35mmodule[39m: "session"
    [35mmode[39m: "compact"
    [35mtokenBudget[39m: 4000
    [35mtokenBudgetUsed[39m: 380
    [35mtargetFiles[39m: 0
    [35msymbolStubs[39m: 0
[18:48:56] [33mWARN[39m: [36mFailed to load AST index, starting fresh[39m
    [35mmodule[39m: "ast-index"
    error: "SyntaxError: Unterminated string in JSON at position 50 (line 1 column 51)"
[18:48:56] [34mDEBUG[39m: [36mAST index empty, cannot use as primary source[39m
    [35mmodule[39m: "session"
[18:48:56] [34mDEBUG[39m: [36mAST index insufficient, falling back to file search[39m
    [35mmodule[39m: "session"
[18:48:56] [34mDEBUG[39m: [36mContext preparation complete[39m
    [35mmodule[39m: "session"
    [35mmode[39m: "compact"
    [35mtokenBudget[39m: 4000
    [35mtokenBudgetUsed[39m: 376
    [35mtargetFiles[39m: 0
    [35msymbolStubs[39m: 0
[18:48:56] [34mDEBUG[39m: [36mNo existing index found, starting fresh[39m
    [35mmodule[39m: "ast-index"
[18:48:56] [34mDEBUG[39m: [36mAST index empty, cannot use as primary source[39m
    [35mmodule[39m: "session"
[18:48:56] [34mDEBUG[39m: [36mAST index insufficient, falling back to file search[39m
    [35mmodule[39m: "session"
[18:48:56] [34mDEBUG[39m: [36mContext preparation complete[39m
    [35mmodule[39m: "session"
    [35mmode[39m: "compact"
    [35mtokenBudget[39m: 4000
    [35mtokenBudgetUsed[39m: 424
    [35mtargetFiles[39m: 0
    [35msymbolStubs[39m: 0
[18:48:56] [34mDEBUG[39m: [36mNo existing index found, starting fresh[39m
    [35mmodule[39m: "ast-index"
[18:48:56] [34mDEBUG[39m: [36mAST index empty, cannot use as primary source[39m
    [35mmodule[39m: "session"
[18:48:56] [34mDEBUG[39m: [36mAST index insufficient, falling back to file search[39m
    [35mmodule[39m: "session"
[18:48:56] [34mDEBUG[39m: [36mContext preparation complete[39m
    [35mmodule[39m: "session"
    [35mmode[39m: "compact"
    [35mtokenBudget[39m: 4000
    [35mtokenBudgetUsed[39m: 387
    [35mtargetFiles[39m: 0
    [35msymbolStubs[39m: 0
[18:48:56] [34mDEBUG[39m: [36mNo existing index found, starting fresh[39m
    [35mmodule[39m: "ast-index"
[18:48:56] [34mDEBUG[39m: [36mAST index empty, cannot use as primary source[39m
    [35mmodule[39m: "session"
[18:48:56] [34mDEBUG[39m: [36mAST index insufficient, falling back to file search[39m
    [35mmodule[39m: "session"
[18:48:56] [34mDEBUG[39m: [36mContext preparation complete[39m
    [35mmodule[39m: "session"
    [35mmode[39m: "compact"
    [35mtokenBudget[39m: 4000
    [35mtokenBudgetUsed[39m: 392
    [35mtargetFiles[39m: 0
    [35msymbolStubs[39m: 0
[18:48:56] [34mDEBUG[39m: [36mNo existing index found, starting fresh[39m
    [35mmodule[39m: "ast-index"
[18:48:56] [34mDEBUG[39m: [36mAST index empty, cannot use as primary source[39m
    [35mmodule[39m: "session"
[18:48:56] [34mDEBUG[39m: [36mAST index insufficient, falling back to file search[39m
    [35mmodule[39m: "session"
[18:48:56] [34mDEBUG[39m: [36mContext preparation complete[39m
    [35mmodule[39m: "session"
    [35mmode[39m: "compact"
    [35mtokenBudget[39m: 4000
    [35mtokenBudgetUsed[39m: 384
    [35mtargetFiles[39m: 0
    [35msymbolStubs[39m: 0
[18:48:56] [34mDEBUG[39m: [36mNo existing index found, starting fresh[39m
    [35mmodule[39m: "ast-index"
[18:48:56] [34mDEBUG[39m: [36mAST index empty, cannot use as primary source[39m
    [35mmodule[39m: "session"
[18:48:56] [34mDEBUG[39m: [36mAST index insufficient, falling back to file search[39m
    [35mmodule[39m: "session"
[18:48:56] [34mDEBUG[39m: [36mContext preparation complete[39m
    [35mmodule[39m: "session"
    [35mmode[39m: "compact"
    [35mtokenBudget[39m: 4000
    [35mtokenBudgetUsed[39m: 382
    [35mtargetFiles[39m: 0
    [35msymbolStubs[39m: 0
[18:48:56] [34mDEBUG[39m: [36mNo existing index found, starting fresh[39m
    [35mmodule[39m: "ast-index"
[18:48:56] [34mDEBUG[39m: [36mAST index empty, cannot use as primary source[39m
    [35mmodule[39m: "session"
[18:48:56] [34mDEBUG[39m: [36mAST index insufficient, falling back to file search[39m
    [35mmodule[39m: "session"
[18:48:56] [34mDEBUG[39m: [36mContext preparation complete[39m
    [35mmodule[39m: "session"
    [35mmode[39m: "compact"
    [35mtokenBudget[39m: 4000
    [35mtokenBudgetUsed[39m: 385
    [35mtargetFiles[39m: 0
    [35msymbolStubs[39m: 0
[18:48:56] [34mDEBUG[39m: [36mNo existing index found, starting fresh[39m
    [35mmodule[39m: "ast-index"
[18:48:56] [34mDEBUG[39m: [36mAST index empty, cannot use as primary source[39m
    [35mmodule[39m: "session"
[18:48:56] [34mDEBUG[39m: [36mAST index insufficient, falling back to file search[39m
    [35mmodule[39m: "session"
 [32mâœ“[39m src/__tests__/context.test.ts [2m([22m[2m81 tests[22m[2m)[22m[33m 2012[2mms[22m[39m
       [33m[2mâœ“[22m[39m extracts function signatures from TypeScript file [33m 669[2mms[22m[39m
[18:48:56] [34mDEBUG[39m: [36mContext preparation complete[39m
    [35mmodule[39m: "session"
    [35mmode[39m: "compact"
    [35mtokenBudget[39m: 4000
    [35mtokenBudgetUsed[39m: 392
    [35mtargetFiles[39m: 0
    [35msymbolStubs[39m: 0
 [32mâœ“[39m src/__tests__/task.test.ts [2m([22m[2m56 tests[22m[2m)[22m[33m 406[2mms[22m[39m
[18:48:56] [32mINFO[39m: [36mMigrating database schema[39m
    [35mmodule[39m: "storage"
    [35mcurrentVersion[39m: 0
    [35mtargetVersion[39m: 7
[90mstdout[2m | src/__tests__/network-failures.test.ts[2m > [22m[2mNetwork Failure Handling[2m > [22m[2mRateLimitTracker pause/resume[2m > [22m[2mshould pause for rate limit hit
[22m[39m{"t":"warning","m":"Rate limit hit for sonnet model - pausing sonnet agents only"}
{"t":"status","m":"Rate limit pause: 1:00 remaining (0 agents paused, sonnet model)"}
{"t":"status","m":"Resume at: 2/6/2026, 11:48:56 AM"}
{"t":"status","m":"Per-model status:"}
{"t":"status","m":"  sonnet: 1:00 (until 2/6/2026, 11:48:56 AM)"}

[90mstdout[2m | src/__tests__/network-failures.test.ts[2m > [22m[2mNetwork Failure Handling[2m > [22m[2mRateLimitTracker pause/resume[2m > [22m[2mshould set resume time from retry-after header
[22m[39m{"t":"info","m":"Using API retry-after: 60 seconds"}
{"t":"warning","m":"Rate limit hit for sonnet model - pausing sonnet agents only"}
{"t":"status","m":"Rate limit pause: 0:01 remaining (0 agents paused, sonnet model)"}
{"t":"status","m":"Resume at: 2/6/2026, 10:49:56 AM"}
{"t":"status","m":"Per-model status:"}
{"t":"status","m":"  sonnet: 0:01 (until 2/6/2026, 10:49:56 AM)"}

[90mstdout[2m | src/__tests__/network-failures.test.ts[2m > [22m[2mNetwork Failure Handling[2m > [22m[2mRateLimitTracker pause/resume[2m > [22m[2mshould calculate resume time without retry-after header
[22m[39m{"t":"warning","m":"Rate limit hit for sonnet model - pausing sonnet agents only"}
{"t":"status","m":"Rate limit pause: 1:00 remaining (0 agents paused, sonnet model)"}
{"t":"status","m":"Resume at: 2/6/2026, 11:48:56 AM"}
{"t":"status","m":"Per-model status:"}
{"t":"status","m":"  sonnet: 1:00 (until 2/6/2026, 11:48:56 AM)"}

[90mstdout[2m | src/__tests__/network-failures.test.ts[2m > [22m[2mNetwork Failure Handling[2m > [22m[2mRateLimitTracker pause/resume[2m > [22m[2mshould resume from rate limit pause
[22m[39m{"t":"warning","m":"Rate limit hit for sonnet model - pausing sonnet agents only"}
{"t":"status","m":"Rate limit pause: 1:00 remaining (0 agents paused, sonnet model)"}
{"t":"status","m":"Resume at: 2/6/2026, 11:48:56 AM"}
{"t":"status","m":"Per-model status:"}
{"t":"status","m":"  sonnet: 1:00 (until 2/6/2026, 11:48:56 AM)"}
{"t":"success","m":"Resumed from rate limit pause"}

[90mstdout[2m | src/__tests__/network-failures.test.ts[2m > [22m[2mNetwork Failure Handling[2m > [22m[2mRateLimitTracker pause/resume[2m > [22m[2mshould resume individual model
[22m[39m{"t":"warning","m":"Rate limit hit for sonnet model - pausing sonnet agents only"}
{"t":"status","m":"Rate limit pause: 1:00 remaining (0 agents paused, sonnet model)"}
{"t":"status","m":"Resume at: 2/6/2026, 11:48:56 AM"}
{"t":"status","m":"Per-model status:"}
{"t":"status","m":"  sonnet: 1:00 (until 2/6/2026, 11:48:56 AM)"}
{"t":"warning","m":"Rate limit hit for opus model - pausing opus agents only"}
{"t":"status","m":"Rate limit pause: 1:00 remaining (0 agents paused, opus model)"}
{"t":"status","m":"Resume at: 2/6/2026, 11:48:56 AM"}
{"t":"status","m":"Per-model status:"}
{"t":"status","m":"  sonnet: 1:00 (until 2/6/2026, 11:48:56 AM)"}
{"t":"status","m":"  opus: 1:00 (until 2/6/2026, 11:48:56 AM)"}
{"t":"success","m":"sonnet model resumed from rate limit pause"}

[90mstdout[2m | src/__tests__/network-failures.test.ts[2m > [22m[2mNetwork Failure Handling[2m > [22m[2mRateLimitTracker pause/resume[2m > [22m[2mshould auto-resume when all models unpaused
[22m[39m{"t":"warning","m":"Rate limit hit for sonnet model - pausing sonnet agents only"}
{"t":"status","m":"Rate limit pause: 1:00 remaining (0 agents paused, sonnet model)"}
{"t":"status","m":"Resume at: 2/6/2026, 11:48:56 AM"}
{"t":"status","m":"Per-model status:"}
{"t":"status","m":"  sonnet: 1:00 (until 2/6/2026, 11:48:56 AM)"}
{"t":"success","m":"sonnet model resumed from rate limit pause"}
{"t":"success","m":"All models resumed - squad fully operational"}

[90mstdout[2m | src/__tests__/network-failures.test.ts[2m > [22m[2mNetwork Failure Handling[2m > [22m[2mRateLimitTracker pause/resume[2m > [22m[2mshould get remaining pause time
[22m[39m{"t":"info","m":"Using API retry-after: 120 seconds"}
{"t":"warning","m":"Rate limit hit for sonnet model - pausing sonnet agents only"}
{"t":"status","m":"Rate limit pause: 0:02 remaining (0 agents paused, sonnet model)"}
{"t":"status","m":"Resume at: 2/6/2026, 10:50:56 AM"}
{"t":"status","m":"Per-model status:"}
{"t":"status","m":"  sonnet: 0:02 (until 2/6/2026, 10:50:56 AM)"}

[90mstdout[2m | src/__tests__/network-failures.test.ts[2m > [22m[2mNetwork Failure Handling[2m > [22m[2mRateLimitTracker pause/resume[2m > [22m[2mshould format remaining time
[22m[39m{"t":"info","m":"Using API retry-after: 3661 seconds"}
{"t":"warning","m":"Rate limit hit for sonnet model - pausing sonnet agents only"}
{"t":"status","m":"Rate limit pause: 1:02 remaining (0 agents paused, sonnet model)"}
{"t":"status","m":"Resume at: 2/6/2026, 11:49:57 AM"}
{"t":"status","m":"Per-model status:"}
{"t":"status","m":"  sonnet: 1:02 (until 2/6/2026, 11:49:57 AM)"}

[90mstdout[2m | src/__tests__/network-failures.test.ts[2m > [22m[2mNetwork Failure Handling[2m > [22m[2mRateLimitTracker recording[2m > [22m[2mshould record rate limit hit
[22m[39m{"t":"warning","m":"Rate limit hit for sonnet model - pausing sonnet agents only"}
{"t":"status","m":"Rate limit pause: 1:00 remaining (0 agents paused, sonnet model)"}
{"t":"status","m":"Resume at: 2/6/2026, 11:48:56 AM"}
{"t":"status","m":"Per-model status:"}
{"t":"status","m":"  sonnet: 1:00 (until 2/6/2026, 11:48:56 AM)"}

[90mstdout[2m | src/__tests__/network-failures.test.ts[2m > [22m[2mNetwork Failure Handling[2m > [22m[2mRateLimitTracker recording[2m > [22m[2mshould record rate limit hit with headers
[22m[39m{"t":"info","m":"Using API retry-after: 60 seconds"}
{"t":"warning","m":"Rate limit hit for opus model - pausing opus agents only"}
{"t":"status","m":"Rate limit pause: 0:01 remaining (0 agents paused, opus model)"}
{"t":"status","m":"Resume at: 2/6/2026, 10:49:56 AM"}
{"t":"status","m":"Per-model status:"}
{"t":"status","m":"  opus: 0:01 (until 2/6/2026, 10:49:56 AM)"}

[90mstdout[2m | src/__tests__/network-failures.test.ts[2m > [22m[2mNetwork Failure Handling[2m > [22m[2mRateLimitTracker recording[2m > [22m[2mshould track multiple rate limit hits
[22m[39m{"t":"warning","m":"Rate limit hit for sonnet model - pausing sonnet agents only"}
{"t":"status","m":"Rate limit pause: 1:00 remaining (0 agents paused, sonnet model)"}
{"t":"status","m":"Resume at: 2/6/2026, 11:48:56 AM"}
{"t":"status","m":"Per-model status:"}
{"t":"status","m":"  sonnet: 1:00 (until 2/6/2026, 11:48:56 AM)"}
{"t":"success","m":"Resumed from rate limit pause"}
{"t":"warning","m":"Rate limit hit for sonnet model - pausing sonnet agents only"}
{"t":"status","m":"Rate limit pause: 1:00 remaining (0 agents paused, sonnet model)"}
{"t":"status","m":"Resume at: 2/6/2026, 11:48:56 AM"}
{"t":"status","m":"Per-model status:"}
{"t":"status","m":"  sonnet: 1:00 (until 2/6/2026, 11:48:56 AM)"}
{"t":"success","m":"Resumed from rate limit pause"}
{"t":"warning","m":"Rate limit hit for opus model - pausing opus agents only"}
{"t":"status","m":"Rate limit pause: 1:00 remaining (0 agents paused, opus model)"}
{"t":"status","m":"Resume at: 2/6/2026, 11:48:56 AM"}
{"t":"status","m":"Per-model status:"}
{"t":"status","m":"  opus: 1:00 (until 2/6/2026, 11:48:56 AM)"}

[90mstdout[2m | src/__tests__/network-failures.test.ts[2m > [22m[2mNetwork Failure Handling[2m > [22m[2mRateLimitTracker auto-resume[2m > [22m[2mshould auto-resume when time has passed
[22m[39m{"t":"warning","m":"Rate limit hit for sonnet model - pausing sonnet agents only"}
{"t":"status","m":"Rate limit pause: 1:00 remaining (0 agents paused, sonnet model)"}
{"t":"status","m":"Resume at: 2/6/2026, 11:48:56 AM"}
{"t":"status","m":"Per-model status:"}
{"t":"status","m":"  sonnet: 1:00 (until 2/6/2026, 11:48:56 AM)"}
{"t":"info","m":"Usage has dropped below limits - resuming all models"}
{"t":"success","m":"Resumed from rate limit pause"}

[90mstdout[2m | src/__tests__/network-failures.test.ts[2m > [22m[2mNetwork Failure Handling[2m > [22m[2mRateLimitTracker auto-resume[2m > [22m[2mshould not auto-resume when time has not passed and usage is high
[22m[39m{"t":"warning","m":"Rate limit hit for sonnet model - pausing sonnet agents only"}
{"t":"status","m":"Rate limit pause: 5:10 remaining (0 agents paused, sonnet model)"}
{"t":"status","m":"Resume at: 2/6/2026, 3:58:56 PM"}
{"t":"status","m":"Per-model status:"}
{"t":"status","m":"  sonnet: 5:10 (until 2/6/2026, 3:58:56 PM)"}
{"t":"warning","m":"Proactive 5-hour pause for sonnet - resume at 2026-02-06T23:53:56.978Z"}
{"t":"warning","m":"Rate limit hit for sonnet model - pausing sonnet agents only"}
{"t":"status","m":"Rate limit pause: 5:10 remaining (0 agents paused, sonnet model)"}
{"t":"status","m":"Resume at: 2/6/2026, 3:58:56 PM"}
{"t":"status","m":"Per-model status:"}
{"t":"status","m":"  sonnet: 5:10 (until 2/6/2026, 3:58:56 PM)"}
{"t":"warning","m":"Proactive 5-hour pause for sonnet - resume at 2026-02-06T23:53:56.978Z"}
{"t":"warning","m":"Rate limit hit for sonnet model - pausing sonnet agents only"}
{"t":"status","m":"Rate limit pause: 5:10 remaining (0 agents paused, sonnet model)"}
{"t":"status","m":"Resume at: 2/6/2026, 3:58:56 PM"}
{"t":"status","m":"Per-model status:"}
{"t":"status","m":"  sonnet: 5:10 (until 2/6/2026, 3:58:56 PM)"}
{"t":"warning","m":"Proactive 5-hour pause for sonnet - resume at 2026-02-06T23:53:56.978Z"}
{"t":"warning","m":"Rate limit hit for sonnet model - pausing sonnet agents only"}
{"t":"status","m":"Rate limit pause: 5:10 remaining (0 agents paused, sonnet model)"}
{"t":"status","m":"Resume at: 2/6/2026, 3:58:56 PM"}
{"t":"status","m":"Per-model status:"}
{"t":"status","m":"  sonnet: 5:10 (until 2/6/2026, 3:58:56 PM)"}
{"t":"warning","m":"Proactive 5-hour pause for sonnet - resume at 2026-02-06T23:53:56.978Z"}
{"t":"warning","m":"Rate limit hit for sonnet model - pausing sonnet agents only"}
{"t":"status","m":"Rate limit pause: 5:10 remaining (0 agents paused, sonnet model)"}
{"t":"status","m":"Resume at: 2/6/2026, 3:58:56 PM"}
{"t":"status","m":"Per-model status:"}
{"t":"status","m":"  sonnet: 5:10 (until 2/6/2026, 3:58:56 PM)"}
{"t":"warning","m":"Proactive 5-hour pause for sonnet - resume at 2026-02-06T23:53:56.978Z"}
{"t":"warning","m":"Rate limit hit for sonnet model - pausing sonnet agents only"}
{"t":"status","m":"Rate limit pause: 5:10 remaining (0 agents paused, sonnet model)"}
{"t":"status","m":"Resume at: 2/6/2026, 3:58:56 PM"}
{"t":"status","m":"Per-model status:"}
{"t":"status","m":"  sonnet: 5:10 (until 2/6/2026, 3:58:56 PM)"}
{"t":"warning","m":"Proactive 5-hour pause for sonnet - resume at 2026-02-06T23:53:56.978Z"}
{"t":"warning","m":"Rate limit hit for sonnet model - pausing sonnet agents only"}
{"t":"status","m":"Rate limit pause: 5:10 remaining (0 agents paused, sonnet model)"}
{"t":"status","m":"Resume at: 2/6/2026, 3:58:56 PM"}
{"t":"status","m":"Per-model status:"}
{"t":"status","m":"  sonnet: 5:10 (until 2/6/2026, 3:58:56 PM)"}
{"t":"warning","m":"Proactive 5-hour pause for sonnet - resume at 2026-02-06T23:53:56.978Z"}
{"t":"warning","m":"Rate limit hit for sonnet model - pausing sonnet agents only"}
{"t":"status","m":"Rate limit pause: 5:10 remaining (0 agents paused, sonnet model)"}
{"t":"status","m":"Resume at: 2/6/2026, 3:58:56 PM"}
{"t":"status","m":"Per-model status:"}
{"t":"status","m":"  sonnet: 5:10 (until 2/6/2026, 3:58:56 PM)"}
{"t":"warning","m":"Proactive 5-hour pause for sonnet - resume at 2026-02-06T23:53:56.978Z"}
{"t":"warning","m":"Rate limit hit for sonnet model - pausing sonnet agents only"}
{"t":"status","m":"Rate limit pause: 5:10 remaining (0 agents paused, sonnet model)"}
{"t":"status","m":"Resume at: 2/6/2026, 3:58:56 PM"}
{"t":"status","m":"Per-model status:"}
{"t":"status","m":"  sonnet: 5:10 (until 2/6/2026, 3:58:56 PM)"}
{"t":"warning","m":"Proactive 5-hour pause for sonnet - resume at 2026-02-06T23:53:56.978Z"}
{"t":"warning","m":"Rate limit hit for sonnet model - pausing sonnet agents only"}
{"t":"status","m":"Rate limit pause: 5:10 remaining (0 agents paused, sonnet model)"}
{"t":"status","m":"Resume at: 2/6/2026, 3:58:56 PM"}
{"t":"status","m":"Per-model status:"}
{"t":"status","m":"  sonnet: 5:10 (until 2/6/2026, 3:58:56 PM)"}
{"t":"warning","m":"Proactive 5-hour pause for sonnet - resume at 2026-02-06T23:53:56.978Z"}
{"t":"warning","m":"Rate limit hit for sonnet model - pausing sonnet agents only"}
{"t":"status","m":"Rate limit pause: 5:10 remaining (0 agents paused, sonnet model)"}
{"t":"status","m":"Resume at: 2/6/2026, 3:58:56 PM"}
{"t":"status","m":"Per-model status:"}
{"t":"status","m":"  sonnet: 5:10 (until 2/6/2026, 3:58:56 PM)"}
{"t":"warning","m":"Proactive 5-hour pause for sonnet - resume at 2026-02-06T23:53:56.978Z"}
{"t":"warning","m":"Rate limit hit for sonnet model - pausing sonnet agents only"}
{"t":"status","m":"Rate limit pause: 5:10 remaining (0 agents paused, sonnet model)"}
{"t":"status","m":"Resume at: 2/6/2026, 3:58:56 PM"}
{"t":"status","m":"Per-model status:"}
{"t":"status","m":"  sonnet: 5:10 (until 2/6/2026, 3:58:56 PM)"}
{"t":"warning","m":"Proactive 5-hour pause for sonnet - resume at 2026-02-06T23:53:56.978Z"}
{"t":"warning","m":"Rate limit hit for sonnet model - pausing sonnet agents only"}
{"t":"status","m":"Rate limit pause: 5:10 remaining (0 agents paused, sonnet model)"}
{"t":"status","m":"Resume at: 2/6/2026, 3:58:56 PM"}
{"t":"status","m":"Per-model status:"}
{"t":"status","m":"  sonnet: 5:10 (until 2/6/2026, 3:58:56 PM)"}
{"t":"warning","m":"Proactive 5-hour pause for sonnet - resume at 2026-02-06T23:53:56.978Z"}
{"t":"warning","m":"Rate limit hit for sonnet model - pausing sonnet agents only"}
{"t":"status","m":"Rate limit pause: 5:10 remaining (0 agents paused, sonnet model)"}
{"t":"status","m":"Resume at: 2/6/2026, 3:58:56 PM"}
{"t":"status","m":"Per-model status:"}
{"t":"status","m":"  sonnet: 5:10 (until 2/6/2026, 3:58:56 PM)"}
{"t":"warning","m":"Proactive 5-hour pause for sonnet - resume at 2026-02-06T23:53:56.978Z"}
{"t":"warning","m":"Rate limit hit for sonnet model - pausing sonnet agents only"}
{"t":"status","m":"Rate limit pause: 5:10 remaining (0 agents paused, sonnet model)"}
{"t":"status","m":"Resume at: 2/6/2026, 3:58:56 PM"}
{"t":"status","m":"Per-model status:"}
{"t":"status","m":"  sonnet: 5:10 (until 2/6/2026, 3:58:56 PM)"}
{"t":"warning","m":"Proactive 5-hour pause for sonnet - resume at 2026-02-06T23:53:56.978Z"}
{"t":"warning","m":"Rate limit hit for sonnet model - pausing sonnet agents only"}
{"t":"status","m":"Rate limit pause: 5:10 remaining (0 agents paused, sonnet model)"}
{"t":"status","m":"Resume at: 2/6/2026, 3:58:56 PM"}
{"t":"status","m":"Per-model status:"}
{"t":"status","m":"  sonnet: 5:10 (until 2/6/2026, 3:58:56 PM)"}
{"t":"warning","m":"Proactive 5-hour pause for sonnet - resume at 2026-02-06T23:53:56.978Z"}
{"t":"warning","m":"Rate limit hit for sonnet model - pausing sonnet agents only"}
{"t":"status","m":"Rate limit pause: 5:10 remaining (0 agents paused, sonnet model)"}
{"t":"status","m":"Resume at: 2/6/2026, 3:58:56 PM"}
{"t":"status","m":"Per-model status:"}
{"t":"status","m":"  sonnet: 5:10 (until 2/6/2026, 3:58:56 PM)"}
{"t":"warning","m":"Proactive 5-hour pause for sonnet - resume at 2026-02-06T23:53:56.978Z"}
{"t":"warning","m":"Rate limit hit for sonnet model - pausing sonnet agents only"}
{"t":"status","m":"Rate limit pause: 5:10 remaining (0 agents paused, sonnet model)"}
{"t":"status","m":"Resume at: 2/6/2026, 3:58:56 PM"}
{"t":"status","m":"Per-model status:"}
{"t":"status","m":"  sonnet: 5:10 (until 2/6/2026, 3:58:56 PM)"}
{"t":"warning","m":"Proactive 5-hour pause for sonnet - resume at 2026-02-06T23:53:56.978Z"}
{"t":"warning","m":"Rate limit hit for sonnet model - pausing sonnet agents only"}
{"t":"status","m":"Rate limit pause: 5:10 remaining (0 agents paused, sonnet model)"}
{"t":"status","m":"Resume at: 2/6/2026, 3:58:56 PM"}
{"t":"status","m":"Per-model status:"}
{"t":"status","m":"  sonnet: 5:10 (until 2/6/2026, 3:58:56 PM)"}
{"t":"warning","m":"Proactive 5-hour pause for sonnet - resume at 2026-02-06T23:53:56.978Z"}
{"t":"warning","m":"Rate limit hit for sonnet model - pausing sonnet agents only"}
{"t":"status","m":"Rate limit pause: 5:10 remaining (0 agents paused, sonnet model)"}
{"t":"status","m":"Resume at: 2/6/2026, 3:58:56 PM"}
{"t":"status","m":"Per-model status:"}
{"t":"status","m":"  sonnet: 5:10 (until 2/6/2026, 3:58:56 PM)"}
{"t":"warning","m":"Proactive 5-hour pause for sonnet - resume at 2026-02-06T23:53:56.978Z"}
{"t":"warning","m":"Rate limit hit for sonnet model - pausing sonnet agents only"}
{"t":"status","m":"Rate limit pause: 5:10 remaining (0 agents paused, sonnet model)"}
{"t":"status","m":"Resume at: 2/6/2026, 3:58:56 PM"}
{"t":"status","m":"Per-model status:"}
{"t":"status","m":"  sonnet: 5:10 (until 2/6/2026, 3:58:56 PM)"}
{"t":"warning","m":"Proactive 5-hour pause for sonnet - resume at 2026-02-06T23:53:56.978Z"}
{"t":"warning","m":"Rate limit hit for sonnet model - pausing sonnet agents only"}
{"t":"status","m":"Rate limit pause: 5:10 remaining (0 agents paused, sonnet model)"}
{"t":"status","m":"Resume at: 2/6/2026, 3:58:56 PM"}
{"t":"status","m":"Per-model status:"}
{"t":"status","m":"  sonnet: 5:10 (until 2/6/2026, 3:58:56 PM)"}
{"t":"warning","m":"Proactive 5-hour pause for sonnet - resume at 2026-02-06T23:53:56.978Z"}
{"t":"warning","m":"Rate limit hit for sonnet model - pausing sonnet agents only"}
{"t":"status","m":"Rate limit pause: 5:10 remaining (0 agents paused, sonnet model)"}
{"t":"status","m":"Resume at: 2/6/2026, 3:58:56 PM"}
{"t":"status","m":"Per-model status:"}
{"t":"status","m":"  sonnet: 5:10 (until 2/6/2026, 3:58:56 PM)"}
{"t":"warning","m":"Proactive 5-hour pause for sonnet - resume at 2026-02-06T23:53:56.978Z"}
{"t":"warning","m":"Rate limit hit for sonnet model - pausing sonnet agents only"}
{"t":"status","m":"Rate limit pause: 5:10 remaining (0 agents paused, sonnet model)"}
{"t":"status","m":"Resume at: 2/6/2026, 3:58:56 PM"}
{"t":"status","m":"Per-model status:"}
{"t":"status","m":"  sonnet: 5:10 (until 2/6/2026, 3:58:56 PM)"}
{"t":"warning","m":"Proactive 5-hour pause for sonnet - resume at 2026-02-06T23:53:56.978Z"}
{"t":"warning","m":"Rate limit hit for sonnet model - pausing sonnet agents only"}
{"t":"status","m":"Rate limit pause: 5:10 remaining (0 agents paused, sonnet model)"}
{"t":"status","m":"Resume at: 2/6/2026, 3:58:56 PM"}
{"t":"status","m":"Per-model status:"}
{"t":"status","m":"  sonnet: 5:10 (until 2/6/2026, 3:58:56 PM)"}
{"t":"warning","m":"Proactive 5-hour pause for sonnet - resume at 2026-02-06T23:53:56.978Z"}
{"t":"warning","m":"Rate limit hit for sonnet model - pausing sonnet agents only"}
{"t":"status","m":"Rate limit pause: 5:10 remaining (0 agents paused, sonnet model)"}
{"t":"status","m":"Resume at: 2/6/2026, 3:58:56 PM"}
{"t":"status","m":"Per-model status:"}
{"t":"status","m":"  sonnet: 5:10 (until 2/6/2026, 3:58:56 PM)"}
{"t":"warning","m":"Proactive 5-hour pause for sonnet - resume at 2026-02-06T23:53:56.978Z"}
{"t":"warning","m":"Rate limit hit for sonnet model - pausing sonnet agents only"}
{"t":"status","m":"Rate limit pause: 5:10 remaining (0 agents paused, sonnet model)"}
{"t":"status","m":"Resume at: 2/6/2026, 3:58:56 PM"}
{"t":"status","m":"Per-model status:"}
{"t":"status","m":"  sonnet: 5:10 (until 2/6/2026, 3:58:56 PM)"}
{"t":"warning","m":"Proactive 5-hour pause for sonnet - resume at 2026-02-06T23:53:56.978Z"}
{"t":"warning","m":"Rate limit hit for sonnet model - pausing sonnet agents only"}
{"t":"status","m":"Rate limit pause: 5:10 remaining (0 agents paused, sonnet model)"}
{"t":"status","m":"Resume at: 2/6/2026, 3:58:56 PM"}
{"t":"status","m":"Per-model status:"}
{"t":"status","m":"  sonnet: 5:10 (until 2/6/2026, 3:58:56 PM)"}
{"t":"warning","m":"Proactive 5-hour pause for sonnet - resume at 2026-02-06T23:53:56.978Z"}
{"t":"warning","m":"Rate limit hit for sonnet model - pausing sonnet agents only"}
{"t":"status","m":"Rate limit pause: 5:10 remaining (0 agents paused, sonnet model)"}
{"t":"status","m":"Resume at: 2/6/2026, 3:58:56 PM"}
{"t":"status","m":"Per-model status:"}
{"t":"status","m":"  sonnet: 5:10 (until 2/6/2026, 3:58:56 PM)"}
{"t":"warning","m":"Proactive 5-hour pause for sonnet - resume at 2026-02-06T23:53:56.978Z"}
{"t":"warning","m":"Rate limit hit for sonnet model - pausing sonnet agents only"}
{"t":"status","m":"Rate limit pause: 5:10 remaining (0 agents paused, sonnet model)"}
{"t":"status","m":"Resume at: 2/6/2026, 3:58:56 PM"}
{"t":"status","m":"Per-model status:"}
{"t":"status","m":"  sonnet: 5:10 (until 2/6/2026, 3:58:56 PM)"}
{"t":"warning","m":"Proactive 5-hour pause for sonnet - resume at 2026-02-06T23:53:56.978Z"}
{"t":"warning","m":"Rate limit hit for sonnet model - pausing sonnet agents only"}
{"t":"status","m":"Rate limit pause: 5:10 remaining (0 agents paused, sonnet model)"}
{"t":"status","m":"Resume at: 2/6/2026, 3:58:56 PM"}
{"t":"status","m":"Per-model status:"}
{"t":"status","m":"  sonnet: 5:10 (until 2/6/2026, 3:58:56 PM)"}
{"t":"warning","m":"Proactive 5-hour pause for sonnet - resume at 2026-02-06T23:53:56.978Z"}
{"t":"warning","m":"Rate limit hit for sonnet model - pausing sonnet agents only"}
{"t":"status","m":"Rate limit pause: 5:10 remaining (0 agents paused, sonnet model)"}
{"t":"status","m":"Resume at: 2/6/2026, 3:58:56 PM"}
{"t":"status","m":"Per-model status:"}
{"t":"status","m":"  sonnet: 5:10 (until 2/6/2026, 3:58:56 PM)"}
{"t":"warning","m":"Proactive 5-hour pause for sonnet - resume at 2026-02-06T23:53:56.978Z"}
{"t":"warning","m":"Rate limit hit for sonnet model - pausing sonnet agents only"}
{"t":"status","m":"Rate limit pause: 5:10 remaining (0 agents paused, sonnet model)"}
{"t":"status","m":"Resume at: 2/6/2026, 3:58:56 PM"}
{"t":"status","m":"Per-model status:"}
{"t":"status","m":"  sonnet: 5:10 (until 2/6/2026, 3:58:56 PM)"}
{"t":"warning","m":"Proactive 5-hour pause for sonnet - resume at 2026-02-06T23:53:56.978Z"}
{"t":"warning","m":"Rate limit hit for sonnet model - pausing sonnet agents only"}
{"t":"status","m":"Rate limit pause: 5:10 remaining (0 agents paused, sonnet model)"}
{"t":"status","m":"Resume at: 2/6/2026, 3:58:56 PM"}
{"t":"status","m":"Per-model status:"}
{"t":"status","m":"  sonnet: 5:10 (until 2/6/2026, 3:58:56 PM)"}
{"t":"warning","m":"Proactive 5-hour pause for sonnet - resume at 2026-02-06T23:53:56.978Z"}
{"t":"warning","m":"Rate limit hit for sonnet model - pausing sonnet agents only"}
{"t":"status","m":"Rate limit pause: 5:10 remaining (0 agents paused, sonnet model)"}
{"t":"status","m":"Resume at: 2/6/2026, 3:58:56 PM"}
{"t":"status","m":"Per-model status:"}
{"t":"status","m":"  sonnet: 5:10 (until 2/6/2026, 3:58:56 PM)"}
{"t":"warning","m":"Proactive 5-hour pause for sonnet - resume at 2026-02-06T23:53:56.978Z"}
{"t":"warning","m":"Rate limit hit for sonnet model - pausing sonnet agents only"}
{"t":"status","m":"Rate limit pause: 5:10 remaining (0 agents paused, sonnet model)"}
{"t":"status","m":"Resume at: 2/6/2026, 3:58:56 PM"}
{"t":"status","m":"Per-model status:"}
{"t":"status","m":"  sonnet: 5:10 (until 2/6/2026, 3:58:56 PM)"}
{"t":"warning","m":"Proactive 5-hour pause for sonnet - resume at 2026-02-06T23:53:56.978Z"}
{"t":"warning","m":"Rate limit hit for sonnet model - pausing sonnet agents only"}
{"t":"status","m":"Rate limit pause: 5:10 remaining (0 agents paused, sonnet model)"}
{"t":"status","m":"Resume at: 2/6/2026, 3:58:56 PM"}
{"t":"status","m":"Per-model status:"}
{"t":"status","m":"  sonnet: 5:10 (until 2/6/2026, 3:58:56 PM)"}
{"t":"warning","m":"Proactive 5-hour pause for sonnet - resume at 2026-02-06T23:53:56.978Z"}
{"t":"info","m":"Using API retry-after: 3600 seconds"}
{"t":"warning","m":"Rate limit hit for sonnet model - pausing sonnet agents only"}
{"t":"status","m":"Rate limit pause: 1:00 remaining (0 agents paused, sonnet model)"}
{"t":"status","m":"Resume at: 2/6/2026, 11:48:57 AM"}
{"t":"status","m":"Per-model status:"}
{"t":"status","m":"  sonnet: 1:00 (until 2/6/2026, 11:48:57 AM)"}

[90mstdout[2m | src/__tests__/network-failures.test.ts[2m > [22m[2mNetwork Failure Handling[2m > [22m[2mRateLimitTracker auto-resume[2m > [22m[2mshould return monitoring state
[22m[39m{"t":"warning","m":"Rate limit hit for sonnet model - pausing sonnet agents only"}
{"t":"status","m":"Rate limit pause: 5:10 remaining (0 agents paused, sonnet model)"}
{"t":"status","m":"Resume at: 2/6/2026, 3:58:57 PM"}
{"t":"status","m":"Per-model status:"}
{"t":"status","m":"  sonnet: 5:10 (until 2/6/2026, 3:58:57 PM)"}
{"t":"warning","m":"Proactive 5-hour pause for sonnet - resume at 2026-02-06T23:53:57.008Z"}
{"t":"warning","m":"Rate limit hit for sonnet model - pausing sonnet agents only"}
{"t":"status","m":"Rate limit pause: 5:10 remaining (0 agents paused, sonnet model)"}
{"t":"status","m":"Resume at: 2/6/2026, 3:58:57 PM"}
{"t":"status","m":"Per-model status:"}
{"t":"status","m":"  sonnet: 5:10 (until 2/6/2026, 3:58:57 PM)"}
{"t":"warning","m":"Proactive 5-hour pause for sonnet - resume at 2026-02-06T23:53:57.008Z"}
{"t":"warning","m":"Rate limit hit for sonnet model - pausing sonnet agents only"}
{"t":"status","m":"Rate limit pause: 5:10 remaining (0 agents paused, sonnet model)"}
{"t":"status","m":"Resume at: 2/6/2026, 3:58:57 PM"}
{"t":"status","m":"Per-model status:"}
{"t":"status","m":"  sonnet: 5:10 (until 2/6/2026, 3:58:57 PM)"}
{"t":"warning","m":"Proactive 5-hour pause for sonnet - resume at 2026-02-06T23:53:57.008Z"}
{"t":"warning","m":"Rate limit hit for sonnet model - pausing sonnet agents only"}
{"t":"status","m":"Rate limit pause: 5:10 remaining (0 agents paused, sonnet model)"}
{"t":"status","m":"Resume at: 2/6/2026, 3:58:57 PM"}
{"t":"status","m":"Per-model status:"}
{"t":"status","m":"  sonnet: 5:10 (until 2/6/2026, 3:58:57 PM)"}
{"t":"warning","m":"Proactive 5-hour pause for sonnet - resume at 2026-02-06T23:53:57.008Z"}
{"t":"warning","m":"Rate limit hit for sonnet model - pausing sonnet agents only"}
{"t":"status","m":"Rate limit pause: 5:10 remaining (0 agents paused, sonnet model)"}
{"t":"status","m":"Resume at: 2/6/2026, 3:58:57 PM"}
{"t":"status","m":"Per-model status:"}
{"t":"status","m":"  sonnet: 5:10 (until 2/6/2026, 3:58:57 PM)"}
{"t":"warning","m":"Proactive 5-hour pause for sonnet - resume at 2026-02-06T23:53:57.008Z"}
{"t":"warning","m":"Rate limit hit for sonnet model - pausing sonnet agents only"}
{"t":"status","m":"Rate limit pause: 5:10 remaining (0 agents paused, sonnet model)"}
{"t":"status","m":"Resume at: 2/6/2026, 3:58:57 PM"}
{"t":"status","m":"Per-model status:"}
{"t":"status","m":"  sonnet: 5:10 (until 2/6/2026, 3:58:57 PM)"}
{"t":"warning","m":"Proactive 5-hour pause for sonnet - resume at 2026-02-06T23:53:57.008Z"}
{"t":"warning","m":"Rate limit hit for sonnet model - pausing sonnet agents only"}
{"t":"status","m":"Rate limit pause: 5:10 remaining (0 agents paused, sonnet model)"}
{"t":"status","m":"Resume at: 2/6/2026, 3:58:57 PM"}
{"t":"status","m":"Per-model status:"}
{"t":"status","m":"  sonnet: 5:10 (until 2/6/2026, 3:58:57 PM)"}
{"t":"warning","m":"Proactive 5-hour pause for sonnet - resume at 2026-02-06T23:53:57.008Z"}
{"t":"warning","m":"Rate limit hit for sonnet model - pausing sonnet agents only"}
{"t":"status","m":"Rate limit pause: 5:10 remaining (0 agents paused, sonnet model)"}
{"t":"status","m":"Resume at: 2/6/2026, 3:58:57 PM"}
{"t":"status","m":"Per-model status:"}
{"t":"status","m":"  sonnet: 5:10 (until 2/6/2026, 3:58:57 PM)"}
{"t":"warning","m":"Proactive 5-hour pause for sonnet - resume at 2026-02-06T23:53:57.008Z"}
{"t":"warning","m":"Rate limit hit for sonnet model - pausing sonnet agents only"}
{"t":"status","m":"Rate limit pause: 5:10 remaining (0 agents paused, sonnet model)"}
{"t":"status","m":"Resume at: 2/6/2026, 3:58:57 PM"}
{"t":"status","m":"Per-model status:"}
{"t":"status","m":"  sonnet: 5:10 (until 2/6/2026, 3:58:57 PM)"}
{"t":"warning","m":"Proactive 5-hour pause for sonnet - resume at 2026-02-06T23:53:57.008Z"}
{"t":"warning","m":"Rate limit hit for sonnet model - pausing sonnet agents only"}
{"t":"status","m":"Rate limit pause: 5:10 remaining (0 agents paused, sonnet model)"}
{"t":"status","m":"Resume at: 2/6/2026, 3:58:57 PM"}
{"t":"status","m":"Per-model status:"}
{"t":"status","m":"  sonnet: 5:10 (until 2/6/2026, 3:58:57 PM)"}
{"t":"warning","m":"Proactive 5-hour pause for sonnet - resume at 2026-02-06T23:53:57.008Z"}
{"t":"warning","m":"Rate limit hit for sonnet model - pausing sonnet agents only"}
{"t":"status","m":"Rate limit pause: 5:10 remaining (0 agents paused, sonnet model)"}
{"t":"status","m":"Resume at: 2/6/2026, 3:58:57 PM"}
{"t":"status","m":"Per-model status:"}
{"t":"status","m":"  sonnet: 5:10 (until 2/6/2026, 3:58:57 PM)"}
{"t":"warning","m":"Proactive 5-hour pause for sonnet - resume at 2026-02-06T23:53:57.008Z"}
{"t":"warning","m":"Rate limit hit for sonnet model - pausing sonnet agents only"}
{"t":"status","m":"Rate limit pause: 5:10 remaining (0 agents paused, sonnet model)"}
{"t":"status","m":"Resume at: 2/6/2026, 3:58:57 PM"}
{"t":"status","m":"Per-model status:"}
{"t":"status","m":"  sonnet: 5:10 (until 2/6/2026, 3:58:57 PM)"}
{"t":"warning","m":"Proactive 5-hour pause for sonnet - resume at 2026-02-06T23:53:57.008Z"}
{"t":"warning","m":"Rate limit hit for sonnet model - pausing sonnet agents only"}
{"t":"status","m":"Rate limit pause: 5:10 remaining (0 agents paused, sonnet model)"}
{"t":"status","m":"Resume at: 2/6/2026, 3:58:57 PM"}
{"t":"status","m":"Per-model status:"}
{"t":"status","m":"  sonnet: 5:10 (until 2/6/2026, 3:58:57 PM)"}
{"t":"warning","m":"Proactive 5-hour pause for sonnet - resume at 2026-02-06T23:53:57.008Z"}
{"t":"warning","m":"Rate limit hit for sonnet model - pausing sonnet agents only"}
{"t":"status","m":"Rate limit pause: 5:10 remaining (0 agents paused, sonnet model)"}
{"t":"status","m":"Resume at: 2/6/2026, 3:58:57 PM"}
{"t":"status","m":"Per-model status:"}
{"t":"status","m":"  sonnet: 5:10 (until 2/6/2026, 3:58:57 PM)"}
{"t":"warning","m":"Proactive 5-hour pause for sonnet - resume at 2026-02-06T23:53:57.008Z"}
{"t":"warning","m":"Rate limit hit for sonnet model - pausing sonnet agents only"}
{"t":"status","m":"Rate limit pause: 5:10 remaining (0 agents paused, sonnet model)"}
{"t":"status","m":"Resume at: 2/6/2026, 3:58:57 PM"}
{"t":"status","m":"Per-model status:"}
{"t":"status","m":"  sonnet: 5:10 (until 2/6/2026, 3:58:57 PM)"}
{"t":"warning","m":"Proactive 5-hour pause for sonnet - resume at 2026-02-06T23:53:57.008Z"}
{"t":"warning","m":"Rate limit hit for sonnet model - pausing sonnet agents only"}
{"t":"status","m":"Rate limit pause: 5:10 remaining (0 agents paused, sonnet model)"}
{"t":"status","m":"Resume at: 2/6/2026, 3:58:57 PM"}
{"t":"status","m":"Per-model status:"}
{"t":"status","m":"  sonnet: 5:10 (until 2/6/2026, 3:58:57 PM)"}
{"t":"warning","m":"Proactive 5-hour pause for sonnet - resume at 2026-02-06T23:53:57.008Z"}
{"t":"warning","m":"Rate limit hit for sonnet model - pausing sonnet agents only"}
{"t":"status","m":"Rate limit pause: 5:10 remaining (0 agents paused, sonnet model)"}
{"t":"status","m":"Resume at: 2/6/2026, 3:58:57 PM"}
{"t":"status","m":"Per-model status:"}
{"t":"status","m":"  sonnet: 5:10 (until 2/6/2026, 3:58:57 PM)"}
{"t":"warning","m":"Proactive 5-hour pause for sonnet - resume at 2026-02-06T23:53:57.008Z"}
{"t":"warning","m":"Rate limit hit for sonnet model - pausing sonnet agents only"}
{"t":"status","m":"Rate limit pause: 5:10 remaining (0 agents paused, sonnet model)"}
{"t":"status","m":"Resume at: 2/6/2026, 3:58:57 PM"}
{"t":"status","m":"Per-model status:"}
{"t":"status","m":"  sonnet: 5:10 (until 2/6/2026, 3:58:57 PM)"}
{"t":"warning","m":"Proactive 5-hour pause for sonnet - resume at 2026-02-06T23:53:57.008Z"}
{"t":"warning","m":"Rate limit hit for sonnet model - pausing sonnet agents only"}
{"t":"status","m":"Rate limit pause: 5:10 remaining (0 agents paused, sonnet model)"}
{"t":"status","m":"Resume at: 2/6/2026, 3:58:57 PM"}
{"t":"status","m":"Per-model status:"}
{"t":"status","m":"  sonnet: 5:10 (until 2/6/2026, 3:58:57 PM)"}
{"t":"warning","m":"Proactive 5-hour pause for sonnet - resume at 2026-02-06T23:53:57.008Z"}
{"t":"warning","m":"Rate limit hit for sonnet model - pausing sonnet agents only"}
{"t":"status","m":"Rate limit pause: 5:10 remaining (0 agents paused, sonnet model)"}
{"t":"status","m":"Resume at: 2/6/2026, 3:58:57 PM"}
{"t":"status","m":"Per-model status:"}
{"t":"status","m":"  sonnet: 5:10 (until 2/6/2026, 3:58:57 PM)"}
{"t":"warning","m":"Proactive 5-hour pause for sonnet - resume at 2026-02-06T23:53:57.008Z"}
{"t":"warning","m":"Rate limit hit for sonnet model - pausing sonnet agents only"}
{"t":"status","m":"Rate limit pause: 5:10 remaining (0 agents paused, sonnet model)"}
{"t":"status","m":"Resume at: 2/6/2026, 3:58:57 PM"}
{"t":"status","m":"Per-model status:"}
{"t":"status","m":"  sonnet: 5:10 (until 2/6/2026, 3:58:57 PM)"}
{"t":"warning","m":"Proactive 5-hour pause for sonnet - resume at 2026-02-06T23:53:57.008Z"}
{"t":"warning","m":"Rate limit hit for sonnet model - pausing sonnet agents only"}
{"t":"status","m":"Rate limit pause: 5:10 remaining (0 agents paused, sonnet model)"}
{"t":"status","m":"Resume at: 2/6/2026, 3:58:57 PM"}
{"t":"status","m":"Per-model status:"}
{"t":"status","m":"  sonnet: 5:10 (until 2/6/2026, 3:58:57 PM)"}
{"t":"warning","m":"Proactive 5-hour pause for sonnet - resume at 2026-02-06T23:53:57.008Z"}
{"t":"warning","m":"Rate limit hit for sonnet model - pausing sonnet agents only"}
{"t":"status","m":"Rate limit pause: 5:10 remaining (0 agents paused, sonnet model)"}
{"t":"status","m":"Resume at: 2/6/2026, 3:58:57 PM"}
{"t":"status","m":"Per-model status:"}
{"t":"status","m":"  sonnet: 5:10 (until 2/6/2026, 3:58:57 PM)"}
{"t":"warning","m":"Proactive 5-hour pause for sonnet - resume at 2026-02-06T23:53:57.008Z"}
{"t":"warning","m":"Rate limit hit for sonnet model - pausing sonnet agents only"}
{"t":"status","m":"Rate limit pause: 5:10 remaining (0 agents paused, sonnet model)"}
{"t":"status","m":"Resume at: 2/6/2026, 3:58:57 PM"}
{"t":"status","m":"Per-model status:"}
{"t":"status","m":"  sonnet: 5:10 (until 2/6/2026, 3:58:57 PM)"}
{"t":"warning","m":"Proactive 5-hour pause for sonnet - resume at 2026-02-06T23:53:57.008Z"}
{"t":"warning","m":"Rate limit hit for sonnet model - pausing sonnet agents only"}
{"t":"status","m":"Rate limit pause: 5:10 remaining (0 agents paused, sonnet model)"}
{"t":"status","m":"Resume at: 2/6/2026, 3:58:57 PM"}
{"t":"status","m":"Per-model status:"}
{"t":"status","m":"  sonnet: 5:10 (until 2/6/2026, 3:58:57 PM)"}
{"t":"warning","m":"Proactive 5-hour pause for sonnet - resume at 2026-02-06T23:53:57.008Z"}
{"t":"warning","m":"Rate limit hit for sonnet model - pausing sonnet agents only"}
{"t":"status","m":"Rate limit pause: 5:10 remaining (0 agents paused, sonnet model)"}
{"t":"status","m":"Resume at: 2/6/2026, 3:58:57 PM"}
{"t":"status","m":"Per-model status:"}
{"t":"status","m":"  sonnet: 5:10 (until 2/6/2026, 3:58:57 PM)"}
{"t":"warning","m":"Proactive 5-hour pause for sonnet - resume at 2026-02-06T23:53:57.008Z"}
{"t":"warning","m":"Rate limit hit for sonnet model - pausing sonnet agents only"}
{"t":"status","m":"Rate limit pause: 5:10 remaining (0 agents paused, sonnet model)"}
{"t":"status","m":"Resume at: 2/6/2026, 3:58:57 PM"}
{"t":"status","m":"Per-model status:"}
{"t":"status","m":"  sonnet: 5:10 (until 2/6/2026, 3:58:57 PM)"}
{"t":"warning","m":"Proactive 5-hour pause for sonnet - resume at 2026-02-06T23:53:57.008Z"}
{"t":"warning","m":"Rate limit hit for sonnet model - pausing sonnet agents only"}
{"t":"status","m":"Rate limit pause: 5:10 remaining (0 agents paused, sonnet model)"}
{"t":"status","m":"Resume at: 2/6/2026, 3:58:57 PM"}
{"t":"status","m":"Per-model status:"}
{"t":"status","m":"  sonnet: 5:10 (until 2/6/2026, 3:58:57 PM)"}
{"t":"warning","m":"Proactive 5-hour pause for sonnet - resume at 2026-02-06T23:53:57.008Z"}
{"t":"warning","m":"Rate limit hit for sonnet model - pausing sonnet agents only"}
{"t":"status","m":"Rate limit pause: 5:10 remaining (0 agents paused, sonnet model)"}
{"t":"status","m":"Resume at: 2/6/2026, 3:58:57 PM"}
{"t":"status","m":"Per-model status:"}
{"t":"status","m":"  sonnet: 5:10 (until 2/6/2026, 3:58:57 PM)"}
{"t":"warning","m":"Proactive 5-hour pause for sonnet - resume at 2026-02-06T23:53:57.008Z"}
{"t":"warning","m":"Rate limit hit for sonnet model - pausing sonnet agents only"}
{"t":"status","m":"Rate limit pause: 5:10 remaining (0 agents paused, sonnet model)"}
{"t":"status","m":"Resume at: 2/6/2026, 3:58:57 PM"}
{"t":"status","m":"Per-model status:"}
{"t":"status","m":"  sonnet: 5:10 (until 2/6/2026, 3:58:57 PM)"}
{"t":"warning","m":"Proactive 5-hour pause for sonnet - resume at 2026-02-06T23:53:57.008Z"}
{"t":"warning","m":"Rate limit hit for sonnet model - pausing sonnet agents only"}
{"t":"status","m":"Rate limit pause: 5:10 remaining (0 agents paused, sonnet model)"}
{"t":"status","m":"Resume at: 2/6/2026, 3:58:57 PM"}
{"t":"status","m":"Per-model status:"}
{"t":"status","m":"  sonnet: 5:10 (until 2/6/2026, 3:58:57 PM)"}
{"t":"warning","m":"Proactive 5-hour pause for sonnet - resume at 2026-02-06T23:53:57.008Z"}
{"t":"warning","m":"Rate limit hit for sonnet model - pausing sonnet agents only"}
{"t":"status","m":"Rate limit pause: 5:10 remaining (0 agents paused, sonnet model)"}
{"t":"status","m":"Resume at: 2/6/2026, 3:58:57 PM"}
{"t":"status","m":"Per-model status:"}
{"t":"status","m":"  sonnet: 5:10 (until 2/6/2026, 3:58:57 PM)"}
{"t":"warning","m":"Proactive 5-hour pause for sonnet - resume at 2026-02-06T23:53:57.008Z"}
{"t":"warning","m":"Rate limit hit for sonnet model - pausing sonnet agents only"}
{"t":"status","m":"Rate limit pause: 5:10 remaining (0 agents paused, sonnet model)"}
{"t":"status","m":"Resume at: 2/6/2026, 3:58:57 PM"}
{"t":"status","m":"Per-model status:"}
{"t":"status","m":"  sonnet: 5:10 (until 2/6/2026, 3:58:57 PM)"}
{"t":"warning","m":"Proactive 5-hour pause for sonnet - resume at 2026-02-06T23:53:57.008Z"}
{"t":"warning","m":"Rate limit hit for sonnet model - pausing sonnet agents only"}
{"t":"status","m":"Rate limit pause: 5:10 remaining (0 agents paused, sonnet model)"}
{"t":"status","m":"Resume at: 2/6/2026, 3:58:57 PM"}
{"t":"status","m":"Per-model status:"}
{"t":"status","m":"  sonnet: 5:10 (until 2/6/2026, 3:58:57 PM)"}
{"t":"warning","m":"Proactive 5-hour pause for sonnet - resume at 2026-02-06T23:53:57.008Z"}
{"t":"warning","m":"Rate limit hit for sonnet model - pausing sonnet agents only"}
{"t":"status","m":"Rate limit pause: 5:10 remaining (0 agents paused, sonnet model)"}
{"t":"status","m":"Resume at: 2/6/2026, 3:58:57 PM"}
{"t":"status","m":"Per-model status:"}
{"t":"status","m":"  sonnet: 5:10 (until 2/6/2026, 3:58:57 PM)"}
{"t":"warning","m":"Proactive 5-hour pause for sonnet - resume at 2026-02-06T23:53:57.008Z"}
{"t":"warning","m":"Rate limit hit for sonnet model - pausing sonnet agents only"}
{"t":"status","m":"Rate limit pause: 5:10 remaining (0 agents paused, sonnet model)"}
{"t":"status","m":"Resume at: 2/6/2026, 3:58:57 PM"}
{"t":"status","m":"Per-model status:"}
{"t":"status","m":"  sonnet: 5:10 (until 2/6/2026, 3:58:57 PM)"}
{"t":"warning","m":"Proactive 5-hour pause for sonnet - resume at 2026-02-06T23:53:57.008Z"}
{"t":"warning","m":"Rate limit hit for sonnet model - pausing sonnet agents only"}
{"t":"status","m":"Rate limit pause: 5:10 remaining (0 agents paused, sonnet model)"}
{"t":"status","m":"Resume at: 2/6/2026, 3:58:57 PM"}
{"t":"status","m":"Per-model status:"}
{"t":"status","m":"  sonnet: 5:10 (until 2/6/2026, 3:58:57 PM)"}
{"t":"warning","m":"Proactive 5-hour pause for sonnet - resume at 2026-02-06T23:53:57.008Z"}
{"t":"warning","m":"Rate limit hit for sonnet model - pausing sonnet agents only"}
{"t":"status","m":"Rate limit pause: 5:10 remaining (0 agents paused, sonnet model)"}
{"t":"status","m":"Resume at: 2/6/2026, 3:58:57 PM"}
{"t":"status","m":"Per-model status:"}
{"t":"status","m":"  sonnet: 5:10 (until 2/6/2026, 3:58:57 PM)"}

[90mstdout[2m | src/__tests__/knowledge-extractor-accuracy.test.ts[2m > [22m[2mknowledge-extractor-accuracy[2m > [22m[2maccuracy metrics - pattern matching[2m > [22m[2mshould achieve at least 70% overall F1 score for pattern matching
[22m[39m
Pattern-Matching Extraction Metrics:
Category	Precision	Recall	F1 Score	TP	FP	FN
pattern	90.6%	72.0%	80.2%	77	8	30
gotcha	93.3%	93.3%	93.3%	70	5	5
fact	67.0%	88.7%	76.4%	63	31	8
preference	100.0%	75.0%	85.7%	24	0	8
OVERALL	86.0%	83.9%	84.9%	239	39	46

 [32mâœ“[39m src/__tests__/network-failures.test.ts [2m([22m[2m42 tests[22m[2m)[22m[32m 264[2mms[22m[39m
[90mstdout[2m | src/__tests__/knowledge-extractor-accuracy.test.ts[2m > [22m[2mknowledge-extractor-accuracy[2m > [22m[2maggregated metrics summary[2m > [22m[2mshould display final metrics summary
[22m[39m
========================================
EXTRACTION ACCURACY SUMMARY
========================================
Total samples: 21
Total extracted: 278
Total expected: 285

Pattern-Matching Extraction Metrics:
Category	Precision	Recall	F1 Score	TP	FP	FN
pattern	90.6%	72.0%	80.2%	77	8	30
gotcha	93.3%	93.3%	93.3%	70	5	5
fact	67.0%	88.7%	76.4%	63	31	8
preference	100.0%	75.0%	85.7%	24	0	8
OVERALL	86.0%	83.9%	84.9%	239	39	46
========================================


 [32mâœ“[39m src/__tests__/knowledge-extractor-accuracy.test.ts [2m([22m[2m29 tests[22m[2m)[22m[33m 304[2mms[22m[39m
 [32mâœ“[39m src/__tests__/knowledge-extractor-performance.test.ts [2m([22m[2m20 tests[22m[2m)[22m[33m 2959[2mms[22m[39m
       [33m[2mâœ“[22m[39m should complete model extraction for small conversations under 2s [33m 452[2mms[22m[39m
       [33m[2mâœ“[22m[39m should complete model extraction for medium conversations under 2s [33m 460[2mms[22m[39m
       [33m[2mâœ“[22m[39m should complete model extraction for large conversations under 2s [33m 459[2mms[22m[39m
       [33m[2mâœ“[22m[39m should track token costs for model-based extraction [33m 463[2mms[22m[39m
       [33m[2mâœ“[22m[39m should not regress more than 20% from baseline latency [33m 457[2mms[22m[39m
       [33m[2mâœ“[22m[39m should demonstrate pattern matching is faster than model-based [33m 486[2mms[22m[39m
[18:48:57] [32mINFO[39m: [36mRAG database initialized[39m
    [35mmodule[39m: "rag-database"
    [35mpath[39m: "/tmp/rag-engine-test-Ej7FWO/rag.db"
[18:48:57] [32mINFO[39m: [36mContent indexed[39m
    [35mmodule[39m: "rag-engine"
    [35mdocumentId[39m: "doc-mlb8oagq-k8bjb1"
    [35mchunks[39m: 1
    [35mtokens[39m: 14
    [35msource[39m: "test"
[18:48:57] [34mDEBUG[39m: [36mRAG database connection closed[39m
    [35mmodule[39m: "rag-database"
[18:48:57] [32mINFO[39m: [36mRAG database initialized[39m
    [35mmodule[39m: "rag-database"
    [35mpath[39m: "/tmp/rag-engine-test-6EQhPA/rag.db"
[18:48:57] [34mDEBUG[39m: [36mNo chunks created from content[39m
    [35mmodule[39m: "rag-engine"
    [35mdocumentId[39m: "doc-mlb8oahf-o4k71o"
[18:48:57] [34mDEBUG[39m: [36mContent already indexed, skipping[39m
    [35mmodule[39m: "rag-engine"
    [35mexistingId[39m: "doc-mlb8oahf-o4k71o"
[18:48:57] [34mDEBUG[39m: [36mRAG database connection closed[39m
    [35mmodule[39m: "rag-database"
[18:48:57] [32mINFO[39m: [36mRAG database initialized[39m
    [35mmodule[39m: "rag-database"
    [35mpath[39m: "/tmp/rag-engine-test-YeCvAf/rag.db"
[18:48:57] [34mDEBUG[39m: [36mNo chunks created from content[39m
    [35mmodule[39m: "rag-engine"
    [35mdocumentId[39m: "doc-mlb8oahl-y816z5"
[18:48:57] [34mDEBUG[39m: [36mRAG database connection closed[39m
    [35mmodule[39m: "rag-database"
[18:48:57] [32mINFO[39m: [36mRAG database initialized[39m
    [35mmodule[39m: "rag-database"
    [35mpath[39m: "/tmp/rag-engine-test-g5V4Yj/rag.db"
[18:48:57] [32mINFO[39m: [36mContent indexed[39m
    [35mmodule[39m: "rag-engine"
    [35mdocumentId[39m: "doc-mlb8oahw-lxh6gt"
    [35mchunks[39m: 1
    [35mtokens[39m: 34
    [35msource[39m: "files"
[18:48:57] [34mDEBUG[39m: [36mRAG database connection closed[39m
    [35mmodule[39m: "rag-database"
[18:48:57] [32mINFO[39m: [36mRAG database initialized[39m
    [35mmodule[39m: "rag-database"
    [35mpath[39m: "/tmp/rag-engine-test-VfhMSV/rag.db"
[18:48:57] [34mDEBUG[39m: [36mNo chunks created from content[39m
    [35mmodule[39m: "rag-engine"
    [35mdocumentId[39m: "doc-mlb8oai9-d3i61x"
[18:48:57] [34mDEBUG[39m: [36mRAG database connection closed[39m
    [35mmodule[39m: "rag-database"
[18:48:57] [32mINFO[39m: [36mRAG database initialized[39m
    [35mmodule[39m: "rag-database"
    [35mpath[39m: "/tmp/rag-engine-test-6mV8LT/rag.db"
[18:48:57] [32mINFO[39m: [36mContent indexed[39m
    [35mmodule[39m: "rag-engine"
    [35mdocumentId[39m: "doc-mlb8oaif-gmtwgr"
    [35mchunks[39m: 1
    [35mtokens[39m: 15
    [35msource[39m: "code"
[18:48:57] [34mDEBUG[39m: [36mRAG database connection closed[39m
    [35mmodule[39m: "rag-database"
[18:48:57] [34mDEBUG[39m: [36mSkipping unsupported file type[39m
    [35mmodule[39m: "rag-engine"
    [35mfilePath[39m: "/tmp/rag-engine-test-EG99B3/test.xyz"
    [35mext[39m: ".xyz"
[18:48:57] [32mINFO[39m: [36mRAG database initialized[39m
    [35mmodule[39m: "rag-database"
    [35mpath[39m: "/tmp/rag-engine-test-fdak5g/rag.db"
[18:48:57] [34mDEBUG[39m: [36mNo chunks created from content[39m
    [35mmodule[39m: "rag-engine"
    [35mdocumentId[39m: "doc-mlb8oaki-57gnlk"
[18:48:57] [32mINFO[39m: [36mDirectory indexed[39m
    [35mmodule[39m: "rag-engine"
    [35mdirPath[39m: "/tmp/rag-engine-test-fdak5g"
    [35mfilesIndexed[39m: 1
    [35mrecursive[39m: false
[18:48:57] [34mDEBUG[39m: [36mRAG database connection closed[39m
    [35mmodule[39m: "rag-database"
 [32mâœ“[39m src/__tests__/storage.test.ts [2m([22m[2m39 tests[22m[2m)[22m[33m 315[2mms[22m[39m
[18:48:57] [32mINFO[39m: [36mRAG database initialized[39m
    [35mmodule[39m: "rag-database"
    [35mpath[39m: "/tmp/rag-engine-test-jZF8pB/rag.db"
 [32mâœ“[39m src/__tests__/rag-engine.test.ts [2m([22m[2m20 tests[22m[2m)[22m[32m 265[2mms[22m[39m
[18:48:57] [34mDEBUG[39m: [36mNo chunks created from content[39m
    [35mmodule[39m: "rag-engine"
    [35mdocumentId[39m: "doc-mlb8oalo-l6imw0"
[18:48:57] [34mDEBUG[39m: [36mNo chunks created from content[39m
    [35mmodule[39m: "rag-engine"
    [35mdocumentId[39m: "doc-mlb8oalp-l8jpe0"
[18:48:57] [32mINFO[39m: [36mDirectory indexed[39m
    [35mmodule[39m: "rag-engine"
    [35mdirPath[39m: "/tmp/rag-engine-test-jZF8pB"
    [35mfilesIndexed[39m: 2
    [35mrecursive[39m: true
[18:48:57] [34mDEBUG[39m: [36mRAG database connection closed[39m
    [35mmodule[39m: "rag-database"
[18:48:57] [32mINFO[39m: [36mRAG database initialized[39m
    [35mmodule[39m: "rag-database"
    [35mpath[39m: "/tmp/rag-engine-test-xO5jNa/rag.db"
[18:48:57] [34mDEBUG[39m: [36mRAG database connection closed[39m
    [35mmodule[39m: "rag-database"
[18:48:57] [32mINFO[39m: [36mRAG database initialized[39m
    [35mmodule[39m: "rag-database"
    [35mpath[39m: "/tmp/rag-engine-test-ygxfC8/rag.db"
[18:48:57] [34mDEBUG[39m: [36mNo chunks created from content[39m
    [35mmodule[39m: "rag-engine"
    [35mdocumentId[39m: "doc-mlb8oam7-w5i4c1"
[18:48:57] [34mDEBUG[39m: [36mNo chunks created from content[39m
    [35mmodule[39m: "rag-engine"
    [35mdocumentId[39m: "doc-mlb8oamd-n5k7lw"
[18:48:57] [34mDEBUG[39m: [36mRAG database connection closed[39m
    [35mmodule[39m: "rag-database"
[18:48:57] [32mINFO[39m: [36mRAG database initialized[39m
    [35mmodule[39m: "rag-database"
    [35mpath[39m: "/tmp/rag-engine-test-CwN0yD/rag.db"
[18:48:57] [34mDEBUG[39m: [36mNo chunks created from content[39m
    [35mmodule[39m: "rag-engine"
    [35mdocumentId[39m: "doc-mlb8oamg-05rbnd"
[18:48:57] [34mDEBUG[39m: [36mNo chunks created from content[39m
    [35mmodule[39m: "rag-engine"
    [35mdocumentId[39m: "doc-mlb8oamk-1zv41u"
[18:48:57] [34mDEBUG[39m: [36mNo chunks created from content[39m
    [35mmodule[39m: "rag-engine"
    [35mdocumentId[39m: "doc-mlb8oaml-tfozcw"
[18:48:57] [34mDEBUG[39m: [36mRAG database connection closed[39m
    [35mmodule[39m: "rag-database"
[18:48:57] [32mINFO[39m: [36mRAG database initialized[39m
    [35mmodule[39m: "rag-database"
    [35mpath[39m: "/tmp/rag-engine-test-tmWD6D/rag.db"
[18:48:57] [34mDEBUG[39m: [36mNo chunks created from content[39m
    [35mmodule[39m: "rag-engine"
    [35mdocumentId[39m: "doc-mlb8oamn-ses31k"
[18:48:57] [32mINFO[39m: [36mDocument removed from index[39m
    [35mmodule[39m: "rag-engine"
    [35mdocumentId[39m: "doc-mlb8oamn-ses31k"
[18:48:57] [34mDEBUG[39m: [36mRAG database connection closed[39m
    [35mmodule[39m: "rag-database"
[18:48:57] [32mINFO[39m: [36mRAG database initialized[39m
    [35mmodule[39m: "rag-database"
    [35mpath[39m: "/tmp/rag-engine-test-MTHWxY/rag.db"
[18:48:57] [34mDEBUG[39m: [36mRAG database connection closed[39m
    [35mmodule[39m: "rag-database"
[18:48:57] [32mINFO[39m: [36mRAG database initialized[39m
    [35mmodule[39m: "rag-database"
    [35mpath[39m: "/tmp/rag-engine-test-tZztYP/rag.db"
[18:48:57] [34mDEBUG[39m: [36mRAG database connection closed[39m
    [35mmodule[39m: "rag-database"
[18:48:57] [32mINFO[39m: [36mRAG database initialized[39m
    [35mmodule[39m: "rag-database"
    [35mpath[39m: "/tmp/rag-engine-test-ARUVeC/rag.db"
[18:48:57] [32mINFO[39m: [36mContent indexed[39m
    [35mmodule[39m: "rag-engine"
    [35mdocumentId[39m: "doc-mlb8oand-eorl7a"
    [35mchunks[39m: 1
    [35mtokens[39m: 19
    [35msource[39m: "test"
[18:48:57] [32mINFO[39m: [36mContent indexed[39m
    [35mmodule[39m: "rag-engine"
    [35mdocumentId[39m: "doc-mlb8oank-0f8jlk"
    [35mchunks[39m: 1
    [35mtokens[39m: 20
    [35msource[39m: "test"
[18:48:57] [34mDEBUG[39m: [36mRAG database connection closed[39m
    [35mmodule[39m: "rag-database"
[18:48:57] [32mINFO[39m: [36mRAG database initialized[39m
    [35mmodule[39m: "rag-database"
    [35mpath[39m: "/tmp/rag-engine-test-Xc1a6I/rag.db"
[18:48:57] [34mDEBUG[39m: [36mNo chunks created from content[39m
    [35mmodule[39m: "rag-engine"
    [35mdocumentId[39m: "doc-mlb8oanq-m1626u"
[18:48:57] [32mINFO[39m: [36mRAG data cleared[39m
    [35mmodule[39m: "rag-database"
[18:48:57] [32mINFO[39m: [36mRAG index cleared[39m
    [35mmodule[39m: "rag-engine"
[18:48:57] [34mDEBUG[39m: [36mRAG database connection closed[39m
    [35mmodule[39m: "rag-database"
 [32mâœ“[39m src/__tests__/rag-database.test.ts [2m([22m[2m39 tests[22m[2m)[22m[32m 282[2mms[22m[39m
[18:48:57] [32mINFO[39m: [36mRAG database initialized[39m
    [35mmodule[39m: "rag-database"
    [35mpath[39m: "/tmp/rag-db-test-Dck8ry/rag.db"
[18:48:57] [34mDEBUG[39m: [36mRAG database connection closed[39m
    [35mmodule[39m: "rag-database"
[18:48:57] [32mINFO[39m: [36mRAG database initialized[39m
    [35mmodule[39m: "rag-database"
    [35mpath[39m: "/tmp/rag-db-test-79gS0k/rag.db"
[18:48:57] [34mDEBUG[39m: [36mRAG database connection closed[39m
    [35mmodule[39m: "rag-database"
[18:48:57] [32mINFO[39m: [36mRAG database initialized[39m
    [35mmodule[39m: "rag-database"
    [35mpath[39m: "/tmp/rag-db-test-GJQ3Hv/rag.db"
[18:48:57] [34mDEBUG[39m: [36mRAG database connection closed[39m
    [35mmodule[39m: "rag-database"
[18:48:57] [32mINFO[39m: [36mRAG database initialized[39m
    [35mmodule[39m: "rag-database"
    [35mpath[39m: "/tmp/rag-db-test-fPS7wx/rag.db"
[18:48:57] [34mDEBUG[39m: [36mRAG database connection closed[39m
    [35mmodule[39m: "rag-database"
[18:48:57] [32mINFO[39m: [36mRAG database initialized[39m
    [35mmodule[39m: "rag-database"
    [35mpath[39m: "/tmp/rag-db-test-rtDd1H/rag.db"
[18:48:57] [34mDEBUG[39m: [36mRAG database connection closed[39m
    [35mmodule[39m: "rag-database"
[18:48:57] [32mINFO[39m: [36mRAG database initialized[39m
    [35mmodule[39m: "rag-database"
    [35mpath[39m: "/tmp/rag-db-test-zxcw5V/rag.db"
[18:48:57] [34mDEBUG[39m: [36mRAG database connection closed[39m
    [35mmodule[39m: "rag-database"
[18:48:57] [32mINFO[39m: [36mRAG database initialized[39m
    [35mmodule[39m: "rag-database"
    [35mpath[39m: "/tmp/rag-db-test-akfDE9/rag.db"
[18:48:57] [34mDEBUG[39m: [36mRAG database connection closed[39m
    [35mmodule[39m: "rag-database"
[18:48:57] [32mINFO[39m: [36mRAG database initialized[39m
    [35mmodule[39m: "rag-database"
    [35mpath[39m: "/tmp/rag-db-test-wr6UsD/rag.db"
[18:48:57] [34mDEBUG[39m: [36mRAG database connection closed[39m
    [35mmodule[39m: "rag-database"
[18:48:57] [32mINFO[39m: [36mRAG database initialized[39m
    [35mmodule[39m: "rag-database"
    [35mpath[39m: "/tmp/rag-db-test-SSEsYf/rag.db"
[18:48:57] [34mDEBUG[39m: [36mRAG database connection closed[39m
    [35mmodule[39m: "rag-database"
[18:48:57] [32mINFO[39m: [36mRAG database initialized[39m
    [35mmodule[39m: "rag-database"
    [35mpath[39m: "/tmp/rag-db-test-FJYCQy/rag.db"
[18:48:57] [34mDEBUG[39m: [36mRAG database connection closed[39m
    [35mmodule[39m: "rag-database"
[18:48:57] [32mINFO[39m: [36mRAG database initialized[39m
    [35mmodule[39m: "rag-database"
    [35mpath[39m: "/tmp/rag-db-test-0Klfkr/rag.db"
[18:48:57] [34mDEBUG[39m: [36mRAG database connection closed[39m
    [35mmodule[39m: "rag-database"
[18:48:57] [32mINFO[39m: [36mRAG database initialized[39m
    [35mmodule[39m: "rag-database"
    [35mpath[39m: "/tmp/rag-db-test-8QJhcx/rag.db"
[18:48:57] [34mDEBUG[39m: [36mRAG database connection closed[39m
    [35mmodule[39m: "rag-database"
[18:48:57] [32mINFO[39m: [36mRAG database initialized[39m
    [35mmodule[39m: "rag-database"
    [35mpath[39m: "/tmp/rag-db-test-HsB8lt/rag.db"
[18:48:57] [34mDEBUG[39m: [36mRAG database connection closed[39m
    [35mmodule[39m: "rag-database"
[18:48:57] [32mINFO[39m: [36mRAG database initialized[39m
    [35mmodule[39m: "rag-database"
    [35mpath[39m: "/tmp/rag-db-test-t9z9Zw/rag.db"
[18:48:57] [34mDEBUG[39m: [36mRAG database connection closed[39m
    [35mmodule[39m: "rag-database"
[18:48:57] [32mINFO[39m: [36mRAG database initialized[39m
    [35mmodule[39m: "rag-database"
    [35mpath[39m: "/tmp/rag-db-test-H11zCe/rag.db"
[18:48:57] [34mDEBUG[39m: [36mRAG database connection closed[39m
    [35mmodule[39m: "rag-database"
[18:48:57] [32mINFO[39m: [36mRAG database initialized[39m
    [35mmodule[39m: "rag-database"
    [35mpath[39m: "/tmp/rag-db-test-swAqQq/rag.db"
[18:48:57] [34mDEBUG[39m: [36mRAG database connection closed[39m
    [35mmodule[39m: "rag-database"
[18:48:57] [32mINFO[39m: [36mRAG database initialized[39m
    [35mmodule[39m: "rag-database"
    [35mpath[39m: "/tmp/rag-db-test-emBUBn/rag.db"
[18:48:57] [34mDEBUG[39m: [36mRAG database connection closed[39m
    [35mmodule[39m: "rag-database"
[18:48:57] [32mINFO[39m: [36mRAG database initialized[39m
    [35mmodule[39m: "rag-database"
    [35mpath[39m: "/tmp/rag-db-test-7pzXo0/rag.db"
[18:48:57] [34mDEBUG[39m: [36mRAG database connection closed[39m
    [35mmodule[39m: "rag-database"
[18:48:57] [32mINFO[39m: [36mRAG database initialized[39m
    [35mmodule[39m: "rag-database"
    [35mpath[39m: "/tmp/rag-db-test-MPpEKl/rag.db"
[18:48:57] [34mDEBUG[39m: [36mRAG database connection closed[39m
    [35mmodule[39m: "rag-database"
[18:48:57] [32mINFO[39m: [36mRAG database initialized[39m
    [35mmodule[39m: "rag-database"
    [35mpath[39m: "/tmp/rag-db-test-XNUaWR/rag.db"
[18:48:57] [34mDEBUG[39m: [36mRAG database connection closed[39m
    [35mmodule[39m: "rag-database"
[18:48:57] [32mINFO[39m: [36mRAG database initialized[39m
    [35mmodule[39m: "rag-database"
    [35mpath[39m: "/tmp/rag-db-test-HSj6q3/rag.db"
[18:48:57] [34mDEBUG[39m: [36mRAG database connection closed[39m
    [35mmodule[39m: "rag-database"
[18:48:57] [32mINFO[39m: [36mRAG database initialized[39m
    [35mmodule[39m: "rag-database"
    [35mpath[39m: "/tmp/rag-db-test-CPwnkf/rag.db"
[18:48:57] [34mDEBUG[39m: [36mRAG database connection closed[39m
    [35mmodule[39m: "rag-database"
[18:48:57] [32mINFO[39m: [36mRAG database initialized[39m
    [35mmodule[39m: "rag-database"
    [35mpath[39m: "/tmp/rag-db-test-c0psL3/rag.db"
[18:48:57] [34mDEBUG[39m: [36mRAG database connection closed[39m
    [35mmodule[39m: "rag-database"
[18:48:57] [32mINFO[39m: [36mRAG database initialized[39m
    [35mmodule[39m: "rag-database"
    [35mpath[39m: "/tmp/rag-db-test-UkJkEr/rag.db"
[18:48:57] [34mDEBUG[39m: [36mRAG database connection closed[39m
    [35mmodule[39m: "rag-database"
[18:48:57] [32mINFO[39m: [36mRAG database initialized[39m
    [35mmodule[39m: "rag-database"
    [35mpath[39m: "/tmp/rag-db-test-cyrJSQ/rag.db"
[18:48:57] [34mDEBUG[39m: [36mRAG database connection closed[39m
    [35mmodule[39m: "rag-database"
[18:48:57] [32mINFO[39m: [36mRAG database initialized[39m
    [35mmodule[39m: "rag-database"
    [35mpath[39m: "/tmp/rag-db-test-qUkyFO/rag.db"
[18:48:57] [34mDEBUG[39m: [36mRAG database connection closed[39m
    [35mmodule[39m: "rag-database"
[18:48:57] [32mINFO[39m: [36mRAG database initialized[39m
    [35mmodule[39m: "rag-database"
    [35mpath[39m: "/tmp/rag-db-test-rIkb3K/rag.db"
[18:48:57] [34mDEBUG[39m: [36mRAG database connection closed[39m
    [35mmodule[39m: "rag-database"
[18:48:57] [32mINFO[39m: [36mRAG database initialized[39m
    [35mmodule[39m: "rag-database"
    [35mpath[39m: "/tmp/rag-db-test-0pSh44/rag.db"
[18:48:57] [34mDEBUG[39m: [36mRAG database connection closed[39m
    [35mmodule[39m: "rag-database"
[18:48:57] [32mINFO[39m: [36mRAG database initialized[39m
    [35mmodule[39m: "rag-database"
    [35mpath[39m: "/tmp/rag-db-test-N5iPk5/rag.db"
[18:48:57] [34mDEBUG[39m: [36mRAG database connection closed[39m
    [35mmodule[39m: "rag-database"
[18:48:57] [32mINFO[39m: [36mRAG database initialized[39m
    [35mmodule[39m: "rag-database"
    [35mpath[39m: "/tmp/rag-db-test-XwguKf/rag.db"
[18:48:57] [34mDEBUG[39m: [36mRAG database connection closed[39m
    [35mmodule[39m: "rag-database"
[18:48:57] [32mINFO[39m: [36mRAG database initialized[39m
    [35mmodule[39m: "rag-database"
    [35mpath[39m: "/tmp/rag-db-test-pdFsFf/rag.db"
[18:48:57] [34mDEBUG[39m: [36mRAG database connection closed[39m
    [35mmodule[39m: "rag-database"
[18:48:57] [32mINFO[39m: [36mRAG database initialized[39m
    [35mmodule[39m: "rag-database"
    [35mpath[39m: "/tmp/rag-db-test-pn3vAd/rag.db"
[18:48:57] [32mINFO[39m: [36mRAG data cleared[39m
    [35mmodule[39m: "rag-database"
[18:48:57] [34mDEBUG[39m: [36mRAG database connection closed[39m
    [35mmodule[39m: "rag-database"
[18:48:57] [32mINFO[39m: [36mRAG database initialized[39m
    [35mmodule[39m: "rag-database"
    [35mpath[39m: "/tmp/rag-db-test-ePmkWN/rag.db"
[18:48:57] [34mDEBUG[39m: [36mRAG database connection closed[39m
    [35mmodule[39m: "rag-database"
[18:48:57] [32mINFO[39m: [36mRAG database initialized[39m
    [35mmodule[39m: "rag-database"
    [35mpath[39m: "/tmp/rag-db-test-SKebmx/rag.db"
[18:48:57] [34mDEBUG[39m: [36mRAG database connection closed[39m
    [35mmodule[39m: "rag-database"
[18:48:57] [32mINFO[39m: [36mRAG database initialized[39m
    [35mmodule[39m: "rag-database"
    [35mpath[39m: "/tmp/rag-db-test-Bajknd/rag.db"
[18:48:57] [34mDEBUG[39m: [36mRAG database connection closed[39m
    [35mmodule[39m: "rag-database"
[18:48:57] [32mINFO[39m: [36mRAG database initialized[39m
    [35mmodule[39m: "rag-database"
    [35mpath[39m: "/tmp/rag-db-test-8AAhiJ/rag.db"
[18:48:57] [34mDEBUG[39m: [36mRAG database connection closed[39m
    [35mmodule[39m: "rag-database"
[18:48:57] [32mINFO[39m: [36mRAG database initialized[39m
    [35mmodule[39m: "rag-database"
    [35mpath[39m: "/tmp/rag-db-test-XCUfFr/rag.db"
[18:48:57] [34mDEBUG[39m: [36mRAG database connection closed[39m
    [35mmodule[39m: "rag-database"
[18:48:57] [32mINFO[39m: [36mRAG database initialized[39m
    [35mmodule[39m: "rag-database"
    [35mpath[39m: "/tmp/rag-db-test-2HdR1L/rag.db"
[18:48:57] [34mDEBUG[39m: [36mRAG database connection closed[39m
    [35mmodule[39m: "rag-database"
[18:48:57] [32mINFO[39m: [36mRAG database initialized[39m
    [35mmodule[39m: "rag-database"
    [35mpath[39m: "/tmp/rag-db-test-HYpuy4/rag.db"
[18:48:57] [34mDEBUG[39m: [36mRAG database connection closed[39m
    [35mmodule[39m: "rag-database"
{"level":30,"time":1770403738176,"pid":2404588,"hostname":"rukh","module":"session","taskId":"task-123","status":"complete","msg":"Task completed"}
{"level":30,"time":1770403738375,"pid":2404588,"hostname":"rukh","module":"session","event":"test"}
{"level":30,"time":1770403738391,"pid":2404588,"hostname":"rukh","module":"session","msg":"Simple message"}
(node:2404588) MaxListenersExceededWarning: Possible EventEmitter memory leak detected. 11 exit listeners added to [process]. MaxListeners is 10. Use emitter.setMaxListeners() to increase limit
(Use `node --trace-warnings ...` to show where the warning was created)
 [32mâœ“[39m src/__tests__/logger.test.ts [2m([22m[2m31 tests[22m[2m)[22m[33m 438[2mms[22m[39m
{"level":40,"time":1770403738188,"pid":2404588,"hostname":"rukh","module":"session","userId":"user-1","action":"login","timestamp":1770403738188,"msg":"User action"}
 [32mâœ“[39m src/__tests__/capability-ledger.test.ts [2m([22m[2m96 tests[22m[2m)[22m[32m 120[2mms[22m[39m
[18:48:58] [32mINFO[39m: [36mLocal tool detected - using minimal model[39m
    [35mmodule[39m: "session"
    [35mtask[39m: "run format"
    [35massessmentType[39m: "local_tool"
    [35mrecommendedModel[39m: "sonnet"
    [35mlocalToolCommand[39m: "pnpm format"
[18:48:58] [37mUSERLVL[39m: [36mComplexity determined by keyword heuristics[39m
    [35mmodule[39m: "session"
    [35mtask[39m: "typo"
    [35massessmentType[39m: "keyword_assessment"
    [35mrecommendedModel[39m: "sonnet"
    [35mscore[39m: -1
    [35mscope[39m: "few-files"
[18:48:58] [37mUSERLVL[39m: [36mComplexity determined by keyword heuristics[39m
    [35mmodule[39m: "session"
    [35mtask[39m: "simple fix for button color"
    [35massessmentType[39m: "keyword_assessment"
    [35mrecommendedModel[39m: "sonnet"
    [35mscore[39m: 3
    [35mscope[39m: "few-files"
[18:48:58] [37mUSERLVL[39m: [36mComplexity determined by keyword heuristics[39m
    [35mmodule[39m: "session"
    [35mtask[39m: "small change to config"
    [35massessmentType[39m: "keyword_assessment"
    [35mrecommendedModel[39m: "sonnet"
    [35mscore[39m: 3
    [35mscope[39m: "few-files"
[18:48:58] [37mUSERLVL[39m: [36mComplexity determined by keyword heuristics[39m
    [35mmodule[39m: "session"
    [35mtask[39m: "clean up unused imports"
    [35massessmentType[39m: "keyword_assessment"
    [35mrecommendedModel[39m: "sonnet"
    [35mscore[39m: 3
    [35mscope[39m: "few-files"
[18:48:58] [37mUSERLVL[39m: [36mComplexity determined by keyword heuristics[39m
    [35mmodule[39m: "session"
    [35mtask[39m: "fix typo in README"
    [35massessmentType[39m: "keyword_assessment"
    [35mrecommendedModel[39m: "sonnet"
    [35mscore[39m: -3
    [35mscope[39m: "few-files"
[18:48:58] [37mUSERLVL[39m: [36mComplexity determined by keyword heuristics[39m
    [35mmodule[39m: "session"
    [35mtask[39m: "fix bug affecting several files"
    [35massessmentType[39m: "keyword_assessment"
    [35mrecommendedModel[39m: "sonnet"
    [35mscore[39m: 6
    [35mscope[39m: "many-files"
[18:48:58] [37mUSERLVL[39m: [36mComplexity determined by keyword heuristics[39m
    [35mmodule[39m: "session"
    [35mtask[39m: "enhance logging throughout the codebase"
    [35massessmentType[39m: "keyword_assessment"
    [35mrecommendedModel[39m: "sonnet"
    [35mscore[39m: 6
    [35mscope[39m: "many-files"
[18:48:58] [37mUSERLVL[39m: [36mComplexity determined by keyword heuristics[39m
    [35mmodule[39m: "session"
    [35mtask[39m: "migrate database schema"
    [35massessmentType[39m: "keyword_assessment"
    [35mrecommendedModel[39m: "sonnet"
    [35mscore[39m: 11
    [35mscope[39m: "few-files"
[18:48:58] [37mUSERLVL[39m: [36mComplexity determined by keyword heuristics[39m
    [35mmodule[39m: "session"
    [35mtask[39m: "update across multiple packages"
    [35massessmentType[39m: "keyword_assessment"
    [35mrecommendedModel[39m: "sonnet"
    [35mscore[39m: 10
    [35mscope[39m: "cross-package"
[18:48:58] [37mUSERLVL[39m: [36mComplexity determined by keyword heuristics[39m
    [35mmodule[39m: "session"
    [35mtask[39m: "redesign the API layer"
    [35massessmentType[39m: "keyword_assessment"
    [35mrecommendedModel[39m: "sonnet"
    [35mscore[39m: 11
    [35mscope[39m: "few-files"
[18:48:58] [37mUSERLVL[39m: [36mComplexity determined by keyword heuristics[39m
    [35mmodule[39m: "session"
    [35mtask[39m: "fix security vulnerability"
    [35massessmentType[39m: "keyword_assessment"
    [35mrecommendedModel[39m: "opus"
    [35mscore[39m: 23
    [35mscope[39m: "few-files"
[18:48:58] [37mUSERLVL[39m: [36mComplexity determined by keyword heuristics[39m
    [35mmodule[39m: "session"
    [35mtask[39m: "refactor authentication system"
    [35massessmentType[39m: "keyword_assessment"
    [35mrecommendedModel[39m: "opus"
    [35mscore[39m: 31
    [35mscope[39m: "few-files"
[18:48:58] [37mUSERLVL[39m: [36mComplexity determined by keyword heuristics[39m
    [35mmodule[39m: "session"
    [35mtask[39m: "update payment processing logic"
    [35massessmentType[39m: "keyword_assessment"
    [35mrecommendedModel[39m: "opus"
    [35mscore[39m: 23
    [35mscope[39m: "few-files"
[18:48:58] [37mUSERLVL[39m: [36mComplexity determined by keyword heuristics[39m
    [35mmodule[39m: "session"
    [35mtask[39m: "fix production database issue"
    [35massessmentType[39m: "keyword_assessment"
    [35mrecommendedModel[39m: "opus"
    [35mscore[39m: 23
    [35mscope[39m: "few-files"
[18:48:58] [37mUSERLVL[39m: [36mComplexity determined by keyword heuristics[39m
    [35mmodule[39m: "session"
    [35mtask[39m: "fix bug in this file"
    [35massessmentType[39m: "keyword_assessment"
    [35mrecommendedModel[39m: "sonnet"
    [35mscore[39m: 4
    [35mscope[39m: "single-file"
[18:48:58] [37mUSERLVL[39m: [36mComplexity determined by keyword heuristics[39m
    [35mmodule[39m: "session"
    [35mtask[39m: "update server and client packages"
    [35massessmentType[39m: "keyword_assessment"
    [35mrecommendedModel[39m: "sonnet"
    [35mscore[39m: 5
    [35mscope[39m: "cross-package"
[18:48:58] [32mINFO[39m: [36mNo task description provided - using default model[39m
    [35mmodule[39m: "session"
    [35mtask[39m: "Empty task description"
    [35massessmentType[39m: "empty_task"
    [35mrecommendedModel[39m: "sonnet"
[18:48:58] [37mUSERLVL[39m: [36mComplexity determined by keyword heuristics[39m
    [35mmodule[39m: "session"
    [35mtask[39m: "fix"
    [35massessmentType[39m: "keyword_assessment"
    [35mrecommendedModel[39m: "sonnet"
    [35mscore[39m: 1
    [35mscope[39m: "few-files"
[18:48:58] [37mUSERLVL[39m: [36mComplexity determined by keyword heuristics[39m
    [35mmodule[39m: "session"
    [35mtask[39m: "refactor authentication security critical"
    [35massessmentType[39m: "keyword_assessment"
    [35mrecommendedModel[39m: "opus"
    [35mscore[39m: 61
    [35mscope[39m: "few-files"
fatal: not a git repository (or any parent up to mount point /)
Stopping at filesystem boundary (GIT_DISCOVERY_ACROSS_FILESYSTEM not set).
[18:48:58] [34mDEBUG[39m: [36mNot enough metrics data for adjustment, using default model[39m
    [35mmodule[39m: "session"
    [35mtotalTasks[39m: 0
    [35mminSamples[39m: 3
[18:48:58] [34mDEBUG[39m: [36mNot enough metrics data for adjustment, using default model[39m
    [35mmodule[39m: "session"
    [35mtotalTasks[39m: 2
    [35mminSamples[39m: 3
 [32mâœ“[39m src/__tests__/complexity.test.ts [2m([22m[2m69 tests[22m[2m)[22m[32m 264[2mms[22m[39m
fatal: not a git repository (or any parent up to mount point /)
Stopping at filesystem boundary (GIT_DISCOVERY_ACROSS_FILESYSTEM not set).
 [32mâœ“[39m src/__tests__/ast-index.test.ts [2m([22m[2m17 tests[22m[2m)[22m[33m 336[2mms[22m[39m
[18:48:58] [34mDEBUG[39m: [36mNo existing index found, starting fresh[39m
    [35mmodule[39m: "ast-index"
[18:48:58] [34mDEBUG[39m: [36mNo existing index found, starting fresh[39m
    [35mmodule[39m: "ast-index"
[18:48:58] [34mDEBUG[39m: [36mSaved AST index[39m
    [35mmodule[39m: "ast-index"
    [35mfileCount[39m: 1
[18:48:58] [34mDEBUG[39m: [36mLoaded AST index[39m
    [35mmodule[39m: "ast-index"
    [35mfileCount[39m: 1
[18:48:58] [34mDEBUG[39m: [36mNo existing index found, starting fresh[39m
    [35mmodule[39m: "ast-index"
[18:48:58] [34mDEBUG[39m: [36mNo existing index found, starting fresh[39m
    [35mmodule[39m: "ast-index"
[18:48:58] [34mDEBUG[39m: [36mNo existing index found, starting fresh[39m
    [35mmodule[39m: "ast-index"
[18:48:58] [34mDEBUG[39m: [36mNo existing index found, starting fresh[39m
    [35mmodule[39m: "ast-index"
[18:48:58] [34mDEBUG[39m: [36mNo existing index found, starting fresh[39m
    [35mmodule[39m: "ast-index"
[18:48:58] [34mDEBUG[39m: [36mNo existing index found, starting fresh[39m
    [35mmodule[39m: "ast-index"
[18:48:58] [34mDEBUG[39m: [36mNo existing index found, starting fresh[39m
    [35mmodule[39m: "ast-index"
[18:48:58] [34mDEBUG[39m: [36mNo existing index found, starting fresh[39m
    [35mmodule[39m: "ast-index"
[18:48:58] [34mDEBUG[39m: [36mNo existing index found, starting fresh[39m
    [35mmodule[39m: "ast-index"
[18:48:58] [34mDEBUG[39m: [36mNo existing index found, starting fresh[39m
    [35mmodule[39m: "ast-index"
[18:48:58] [34mDEBUG[39m: [36mNo existing index found, starting fresh[39m
    [35mmodule[39m: "ast-index"
[18:48:58] [34mDEBUG[39m: [36mNo existing index found, starting fresh[39m
    [35mmodule[39m: "ast-index"
[18:48:58] [34mDEBUG[39m: [36mNo existing index found, starting fresh[39m
    [35mmodule[39m: "ast-index"
[18:48:58] [34mDEBUG[39m: [36mNo existing index found, starting fresh[39m
    [35mmodule[39m: "ast-index"
[18:48:58] [34mDEBUG[39m: [36mUpdating stale files[39m
    [35mmodule[39m: "ast-index"
    [35mcount[39m: 1
[18:48:58] [34mDEBUG[39m: [36mSaved AST index[39m
    [35mmodule[39m: "ast-index"
    [35mfileCount[39m: 2
[18:48:58] [34mDEBUG[39m: [36mNo existing index found, starting fresh[39m
    [35mmodule[39m: "ast-index"
 [32mâœ“[39m src/__tests__/efficiency-tools.test.ts [2m([22m[2m9 tests[22m[2m)[22m[32m 156[2mms[22m[39m
 [32mâœ“[39m src/__tests__/integration/grind-flow.test.ts [2m([22m[2m3 tests[22m[2m)[22m[33m 316[2mms[22m[39m
[90mstdout[2m | src/__tests__/orchestrator-error-scenarios.test.ts[2m > [22m[2mRate Limit Handling[2m > [22m[2mPause/Resume State Transitions[2m > [22m[2mshould pause on rate limit hit
[22m[39m{"t":"warning","m":"Rate limit hit for sonnet model - pausing sonnet agents only"}
{"t":"status","m":"Rate limit pause: 1:00 remaining (0 agents paused, sonnet model)"}
{"t":"status","m":"Resume at: 2/6/2026, 11:48:59 AM"}
{"t":"status","m":"Per-model status:"}
{"t":"status","m":"  sonnet: 1:00 (until 2/6/2026, 11:48:59 AM)"}

[90mstdout[2m | src/__tests__/orchestrator-error-scenarios.test.ts[2m > [22m[2mRate Limit Handling[2m > [22m[2mPause/Resume State Transitions[2m > [22m[2mshould track model-specific pauses
[22m[39m{"t":"warning","m":"Rate limit hit for opus model - pausing opus agents only"}
{"t":"status","m":"Rate limit pause: 1:00 remaining (0 agents paused, opus model)"}
{"t":"status","m":"Resume at: 2/6/2026, 11:48:59 AM"}
{"t":"status","m":"Per-model status:"}
{"t":"status","m":"  opus: 1:00 (until 2/6/2026, 11:48:59 AM)"}

[90mstdout[2m | src/__tests__/orchestrator-error-scenarios.test.ts[2m > [22m[2mRate Limit Handling[2m > [22m[2mPause/Resume State Transitions[2m > [22m[2mshould resume after pause duration
[22m[39m{"t":"warning","m":"Rate limit hit for sonnet model - pausing sonnet agents only"}
{"t":"status","m":"Rate limit pause: 1:00 remaining (0 agents paused, sonnet model)"}
{"t":"status","m":"Resume at: 2/6/2026, 11:48:59 AM"}
{"t":"status","m":"Per-model status:"}
{"t":"status","m":"  sonnet: 1:00 (until 2/6/2026, 11:48:59 AM)"}
{"t":"info","m":"Usage has dropped below limits - resuming all models"}
{"t":"success","m":"Resumed from rate limit pause"}

[90mstdout[2m | src/__tests__/orchestrator-error-scenarios.test.ts[2m > [22m[2mRate Limit Handling[2m > [22m[2mPause/Resume State Transitions[2m > [22m[2mshould resume specific model independently
[22m[39m{"t":"warning","m":"Rate limit hit for sonnet model - pausing sonnet agents only"}
{"t":"status","m":"Rate limit pause: 1:00 remaining (0 agents paused, sonnet model)"}
{"t":"status","m":"Resume at: 2/6/2026, 11:48:59 AM"}
{"t":"status","m":"Per-model status:"}
{"t":"status","m":"  sonnet: 1:00 (until 2/6/2026, 11:48:59 AM)"}
{"t":"warning","m":"Rate limit hit for opus model - pausing opus agents only"}
{"t":"status","m":"Rate limit pause: 1:00 remaining (0 agents paused, opus model)"}
{"t":"status","m":"Resume at: 2/6/2026, 11:48:59 AM"}
{"t":"status","m":"Per-model status:"}
{"t":"status","m":"  sonnet: 1:00 (until 2/6/2026, 11:48:59 AM)"}
{"t":"status","m":"  opus: 1:00 (until 2/6/2026, 11:48:59 AM)"}
{"t":"success","m":"sonnet model resumed from rate limit pause"}

[90mstdout[2m | src/__tests__/orchestrator-error-scenarios.test.ts[2m > [22m[2mRate Limit Handling[2m > [22m[2mPause/Resume State Transitions[2m > [22m[2mshould clear all pauses on global resume
[22m[39m{"t":"warning","m":"Rate limit hit for sonnet model - pausing sonnet agents only"}
{"t":"status","m":"Rate limit pause: 1:00 remaining (0 agents paused, sonnet model)"}
{"t":"status","m":"Resume at: 2/6/2026, 11:48:59 AM"}
{"t":"status","m":"Per-model status:"}
{"t":"status","m":"  sonnet: 1:00 (until 2/6/2026, 11:48:59 AM)"}
{"t":"warning","m":"Rate limit hit for sonnet model - pausing sonnet agents only"}
{"t":"status","m":"Rate limit pause: 1:00 remaining (0 agents paused, sonnet model)"}
{"t":"status","m":"Resume at: 2/6/2026, 11:48:59 AM"}
{"t":"status","m":"Per-model status:"}
{"t":"status","m":"  sonnet: 1:00 (until 2/6/2026, 11:48:59 AM)"}
{"t":"success","m":"Resumed from rate limit pause"}

[90mstdout[2m | src/__tests__/orchestrator-error-scenarios.test.ts[2m > [22m[2mRate Limit Handling[2m > [22m[2mRate Limit Hit Recording[2m > [22m[2mshould record rate limit hit with metadata
[22m[39m{"t":"info","m":"Using API retry-after: 60 seconds"}
{"t":"warning","m":"Rate limit hit for sonnet model - pausing sonnet agents only"}
{"t":"status","m":"Rate limit pause: 0:01 remaining (0 agents paused, sonnet model)"}
{"t":"status","m":"Resume at: 2/6/2026, 10:49:59 AM"}
{"t":"status","m":"Per-model status:"}
{"t":"status","m":"  sonnet: 0:01 (until 2/6/2026, 10:49:59 AM)"}

[90mstdout[2m | src/__tests__/orchestrator-error-scenarios.test.ts[2m > [22m[2mRate Limit Handling[2m > [22m[2mUsage Threshold Checks[2m > [22m[2mshould track model-specific usage
[22m[39m{"t":"warning","m":"Rate limit hit for opus model - pausing opus agents only"}
{"t":"status","m":"Rate limit pause: 5:10 remaining (0 agents paused, opus model)"}
{"t":"status","m":"Resume at: 2/6/2026, 3:58:59 PM"}
{"t":"status","m":"Per-model status:"}
{"t":"status","m":"  opus: 5:10 (until 2/6/2026, 3:58:59 PM)"}
{"t":"warning","m":"Proactive 5-hour pause for opus - resume at 2026-02-06T23:53:59.128Z"}

[90mstdout[2m | src/__tests__/orchestrator-error-scenarios.test.ts[2m > [22m[2mRate Limit Handling[2m > [22m[2mProactive Pause Prevention[2m > [22m[2mshould trigger proactive pause at high usage
[22m[39m{"t":"warning","m":"Rate limit hit for sonnet model - pausing sonnet agents only"}
{"t":"status","m":"Rate limit pause: 5:10 remaining (0 agents paused, sonnet model)"}
{"t":"status","m":"Resume at: 2/6/2026, 3:58:59 PM"}
{"t":"status","m":"Per-model status:"}
{"t":"status","m":"  sonnet: 5:10 (until 2/6/2026, 3:58:59 PM)"}
{"t":"warning","m":"Proactive 5-hour pause for sonnet - resume at 2026-02-06T23:53:59.136Z"}
{"t":"warning","m":"Rate limit hit for sonnet model - pausing sonnet agents only"}
{"t":"status","m":"Rate limit pause: 5:10 remaining (0 agents paused, sonnet model)"}
{"t":"status","m":"Resume at: 2/6/2026, 3:58:59 PM"}
{"t":"status","m":"Per-model status:"}
{"t":"status","m":"  sonnet: 5:10 (until 2/6/2026, 3:58:59 PM)"}
{"t":"warning","m":"Proactive 5-hour pause for sonnet - resume at 2026-02-06T23:53:59.136Z"}
{"t":"warning","m":"Rate limit hit for sonnet model - pausing sonnet agents only"}
{"t":"status","m":"Rate limit pause: 5:10 remaining (0 agents paused, sonnet model)"}
{"t":"status","m":"Resume at: 2/6/2026, 3:58:59 PM"}
{"t":"status","m":"Per-model status:"}
{"t":"status","m":"  sonnet: 5:10 (until 2/6/2026, 3:58:59 PM)"}
{"t":"warning","m":"Proactive 5-hour pause for sonnet - resume at 2026-02-06T23:53:59.136Z"}
{"t":"warning","m":"Rate limit hit for sonnet model - pausing sonnet agents only"}
{"t":"status","m":"Rate limit pause: 5:10 remaining (0 agents paused, sonnet model)"}
{"t":"status","m":"Resume at: 2/6/2026, 3:58:59 PM"}
{"t":"status","m":"Per-model status:"}
{"t":"status","m":"  sonnet: 5:10 (until 2/6/2026, 3:58:59 PM)"}
{"t":"warning","m":"Proactive 5-hour pause for sonnet - resume at 2026-02-06T23:53:59.136Z"}
{"t":"warning","m":"Rate limit hit for sonnet model - pausing sonnet agents only"}
{"t":"status","m":"Rate limit pause: 5:10 remaining (0 agents paused, sonnet model)"}
{"t":"status","m":"Resume at: 2/6/2026, 3:58:59 PM"}
{"t":"status","m":"Per-model status:"}
{"t":"status","m":"  sonnet: 5:10 (until 2/6/2026, 3:58:59 PM)"}
{"t":"warning","m":"Proactive 5-hour pause for sonnet - resume at 2026-02-06T23:53:59.136Z"}
{"t":"warning","m":"Rate limit hit for sonnet model - pausing sonnet agents only"}
{"t":"status","m":"Rate limit pause: 5:10 remaining (0 agents paused, sonnet model)"}
{"t":"status","m":"Resume at: 2/6/2026, 3:58:59 PM"}
{"t":"status","m":"Per-model status:"}
{"t":"status","m":"  sonnet: 5:10 (until 2/6/2026, 3:58:59 PM)"}
{"t":"warning","m":"Proactive 5-hour pause for sonnet - resume at 2026-02-06T23:53:59.136Z"}
{"t":"warning","m":"Rate limit hit for sonnet model - pausing sonnet agents only"}
{"t":"status","m":"Rate limit pause: 5:10 remaining (0 agents paused, sonnet model)"}
{"t":"status","m":"Resume at: 2/6/2026, 3:58:59 PM"}
{"t":"status","m":"Per-model status:"}
{"t":"status","m":"  sonnet: 5:10 (until 2/6/2026, 3:58:59 PM)"}
{"t":"warning","m":"Proactive 5-hour pause for sonnet - resume at 2026-02-06T23:53:59.136Z"}
{"t":"warning","m":"Rate limit hit for sonnet model - pausing sonnet agents only"}
{"t":"status","m":"Rate limit pause: 5:10 remaining (0 agents paused, sonnet model)"}
{"t":"status","m":"Resume at: 2/6/2026, 3:58:59 PM"}
{"t":"status","m":"Per-model status:"}
{"t":"status","m":"  sonnet: 5:10 (until 2/6/2026, 3:58:59 PM)"}
{"t":"warning","m":"Proactive 5-hour pause for sonnet - resume at 2026-02-06T23:53:59.136Z"}
{"t":"warning","m":"Rate limit hit for sonnet model - pausing sonnet agents only"}
{"t":"status","m":"Rate limit pause: 5:10 remaining (0 agents paused, sonnet model)"}
{"t":"status","m":"Resume at: 2/6/2026, 3:58:59 PM"}
{"t":"status","m":"Per-model status:"}
{"t":"status","m":"  sonnet: 5:10 (until 2/6/2026, 3:58:59 PM)"}
{"t":"warning","m":"Proactive 5-hour pause for sonnet - resume at 2026-02-06T23:53:59.136Z"}
{"t":"warning","m":"Rate limit hit for sonnet model - pausing sonnet agents only"}
{"t":"status","m":"Rate limit pause: 5:10 remaining (0 agents paused, sonnet model)"}
{"t":"status","m":"Resume at: 2/6/2026, 3:58:59 PM"}
{"t":"status","m":"Per-model status:"}
{"t":"status","m":"  sonnet: 5:10 (until 2/6/2026, 3:58:59 PM)"}
{"t":"warning","m":"Proactive 5-hour pause for sonnet - resume at 2026-02-06T23:53:59.136Z"}
{"t":"warning","m":"Rate limit hit for sonnet model - pausing sonnet agents only"}
{"t":"status","m":"Rate limit pause: 5:10 remaining (0 agents paused, sonnet model)"}
{"t":"status","m":"Resume at: 2/6/2026, 3:58:59 PM"}
{"t":"status","m":"Per-model status:"}
{"t":"status","m":"  sonnet: 5:10 (until 2/6/2026, 3:58:59 PM)"}
{"t":"warning","m":"Proactive 5-hour pause for sonnet - resume at 2026-02-06T23:53:59.136Z"}
{"t":"warning","m":"Rate limit hit for sonnet model - pausing sonnet agents only"}
{"t":"status","m":"Rate limit pause: 5:10 remaining (0 agents paused, sonnet model)"}
{"t":"status","m":"Resume at: 2/6/2026, 3:58:59 PM"}
{"t":"status","m":"Per-model status:"}
{"t":"status","m":"  sonnet: 5:10 (until 2/6/2026, 3:58:59 PM)"}
{"t":"warning","m":"Proactive 5-hour pause for sonnet - resume at 2026-02-06T23:53:59.136Z"}
{"t":"warning","m":"Rate limit hit for sonnet model - pausing sonnet agents only"}
{"t":"status","m":"Rate limit pause: 5:10 remaining (0 agents paused, sonnet model)"}
{"t":"status","m":"Resume at: 2/6/2026, 3:58:59 PM"}
{"t":"status","m":"Per-model status:"}
{"t":"status","m":"  sonnet: 5:10 (until 2/6/2026, 3:58:59 PM)"}
{"t":"warning","m":"Proactive 5-hour pause for sonnet - resume at 2026-02-06T23:53:59.136Z"}
{"t":"warning","m":"Rate limit hit for sonnet model - pausing sonnet agents only"}
{"t":"status","m":"Rate limit pause: 5:10 remaining (0 agents paused, sonnet model)"}
{"t":"status","m":"Resume at: 2/6/2026, 3:58:59 PM"}
{"t":"status","m":"Per-model status:"}
{"t":"status","m":"  sonnet: 5:10 (until 2/6/2026, 3:58:59 PM)"}
{"t":"warning","m":"Proactive 5-hour pause for sonnet - resume at 2026-02-06T23:53:59.136Z"}
{"t":"warning","m":"Rate limit hit for sonnet model - pausing sonnet agents only"}
{"t":"status","m":"Rate limit pause: 5:10 remaining (0 agents paused, sonnet model)"}
{"t":"status","m":"Resume at: 2/6/2026, 3:58:59 PM"}
{"t":"status","m":"Per-model status:"}
{"t":"status","m":"  sonnet: 5:10 (until 2/6/2026, 3:58:59 PM)"}
{"t":"warning","m":"Proactive 5-hour pause for sonnet - resume at 2026-02-06T23:53:59.136Z"}
{"t":"warning","m":"Rate limit hit for sonnet model - pausing sonnet agents only"}
{"t":"status","m":"Rate limit pause: 5:10 remaining (0 agents paused, sonnet model)"}
{"t":"status","m":"Resume at: 2/6/2026, 3:58:59 PM"}
{"t":"status","m":"Per-model status:"}
{"t":"status","m":"  sonnet: 5:10 (until 2/6/2026, 3:58:59 PM)"}
{"t":"warning","m":"Proactive 5-hour pause for sonnet - resume at 2026-02-06T23:53:59.136Z"}
{"t":"warning","m":"Rate limit hit for sonnet model - pausing sonnet agents only"}
{"t":"status","m":"Rate limit pause: 5:10 remaining (0 agents paused, sonnet model)"}
{"t":"status","m":"Resume at: 2/6/2026, 3:58:59 PM"}
{"t":"status","m":"Per-model status:"}
{"t":"status","m":"  sonnet: 5:10 (until 2/6/2026, 3:58:59 PM)"}
{"t":"warning","m":"Proactive 5-hour pause for sonnet - resume at 2026-02-06T23:53:59.136Z"}
{"t":"warning","m":"Rate limit hit for sonnet model - pausing sonnet agents only"}
{"t":"status","m":"Rate limit pause: 5:10 remaining (0 agents paused, sonnet model)"}
{"t":"status","m":"Resume at: 2/6/2026, 3:58:59 PM"}
{"t":"status","m":"Per-model status:"}
{"t":"status","m":"  sonnet: 5:10 (until 2/6/2026, 3:58:59 PM)"}
{"t":"warning","m":"Proactive 5-hour pause for sonnet - resume at 2026-02-06T23:53:59.136Z"}
{"t":"warning","m":"Rate limit hit for sonnet model - pausing sonnet agents only"}
{"t":"status","m":"Rate limit pause: 5:10 remaining (0 agents paused, sonnet model)"}
{"t":"status","m":"Resume at: 2/6/2026, 3:58:59 PM"}
{"t":"status","m":"Per-model status:"}
{"t":"status","m":"  sonnet: 5:10 (until 2/6/2026, 3:58:59 PM)"}
{"t":"warning","m":"Proactive 5-hour pause for sonnet - resume at 2026-02-06T23:53:59.136Z"}
{"t":"warning","m":"Rate limit hit for sonnet model - pausing sonnet agents only"}
{"t":"status","m":"Rate limit pause: 5:10 remaining (0 agents paused, sonnet model)"}
{"t":"status","m":"Resume at: 2/6/2026, 3:58:59 PM"}
{"t":"status","m":"Per-model status:"}
{"t":"status","m":"  sonnet: 5:10 (until 2/6/2026, 3:58:59 PM)"}
{"t":"warning","m":"Proactive 5-hour pause for sonnet - resume at 2026-02-06T23:53:59.136Z"}
{"t":"warning","m":"Rate limit hit for sonnet model - pausing sonnet agents only"}
{"t":"status","m":"Rate limit pause: 5:10 remaining (0 agents paused, sonnet model)"}
{"t":"status","m":"Resume at: 2/6/2026, 3:58:59 PM"}
{"t":"status","m":"Per-model status:"}
{"t":"status","m":"  sonnet: 5:10 (until 2/6/2026, 3:58:59 PM)"}
{"t":"warning","m":"Proactive 5-hour pause for sonnet - resume at 2026-02-06T23:53:59.136Z"}
{"t":"warning","m":"Rate limit hit for sonnet model - pausing sonnet agents only"}
{"t":"status","m":"Rate limit pause: 5:10 remaining (0 agents paused, sonnet model)"}
{"t":"status","m":"Resume at: 2/6/2026, 3:58:59 PM"}
{"t":"status","m":"Per-model status:"}
{"t":"status","m":"  sonnet: 5:10 (until 2/6/2026, 3:58:59 PM)"}
{"t":"warning","m":"Proactive 5-hour pause for sonnet - resume at 2026-02-06T23:53:59.136Z"}
{"t":"warning","m":"Rate limit hit for sonnet model - pausing sonnet agents only"}
{"t":"status","m":"Rate limit pause: 5:10 remaining (0 agents paused, sonnet model)"}
{"t":"status","m":"Resume at: 2/6/2026, 3:58:59 PM"}
{"t":"status","m":"Per-model status:"}
{"t":"status","m":"  sonnet: 5:10 (until 2/6/2026, 3:58:59 PM)"}
{"t":"warning","m":"Proactive 5-hour pause for sonnet - resume at 2026-02-06T23:53:59.136Z"}
{"t":"warning","m":"Rate limit hit for sonnet model - pausing sonnet agents only"}
{"t":"status","m":"Rate limit pause: 5:10 remaining (0 agents paused, sonnet model)"}
{"t":"status","m":"Resume at: 2/6/2026, 3:58:59 PM"}
{"t":"status","m":"Per-model status:"}
{"t":"status","m":"  sonnet: 5:10 (until 2/6/2026, 3:58:59 PM)"}
{"t":"warning","m":"Proactive 5-hour pause for sonnet - resume at 2026-02-06T23:53:59.136Z"}
{"t":"warning","m":"Rate limit hit for sonnet model - pausing sonnet agents only"}
{"t":"status","m":"Rate limit pause: 5:10 remaining (0 agents paused, sonnet model)"}
{"t":"status","m":"Resume at: 2/6/2026, 3:58:59 PM"}
{"t":"status","m":"Per-model status:"}
{"t":"status","m":"  sonnet: 5:10 (until 2/6/2026, 3:58:59 PM)"}
{"t":"warning","m":"Proactive 5-hour pause for sonnet - resume at 2026-02-06T23:53:59.136Z"}
{"t":"warning","m":"Rate limit hit for sonnet model - pausing sonnet agents only"}
{"t":"status","m":"Rate limit pause: 5:10 remaining (0 agents paused, sonnet model)"}
{"t":"status","m":"Resume at: 2/6/2026, 3:58:59 PM"}
{"t":"status","m":"Per-model status:"}
{"t":"status","m":"  sonnet: 5:10 (until 2/6/2026, 3:58:59 PM)"}
{"t":"warning","m":"Proactive 5-hour pause for sonnet - resume at 2026-02-06T23:53:59.136Z"}
{"t":"warning","m":"Rate limit hit for sonnet model - pausing sonnet agents only"}
{"t":"status","m":"Rate limit pause: 5:10 remaining (0 agents paused, sonnet model)"}
{"t":"status","m":"Resume at: 2/6/2026, 3:58:59 PM"}
{"t":"status","m":"Per-model status:"}
{"t":"status","m":"  sonnet: 5:10 (until 2/6/2026, 3:58:59 PM)"}
{"t":"warning","m":"Proactive 5-hour pause for sonnet - resume at 2026-02-06T23:53:59.136Z"}
{"t":"warning","m":"Rate limit hit for sonnet model - pausing sonnet agents only"}
{"t":"status","m":"Rate limit pause: 5:10 remaining (0 agents paused, sonnet model)"}
{"t":"status","m":"Resume at: 2/6/2026, 3:58:59 PM"}
{"t":"status","m":"Per-model status:"}
{"t":"status","m":"  sonnet: 5:10 (until 2/6/2026, 3:58:59 PM)"}
{"t":"warning","m":"Proactive 5-hour pause for sonnet - resume at 2026-02-06T23:53:59.136Z"}
{"t":"warning","m":"Rate limit hit for sonnet model - pausing sonnet agents only"}
{"t":"status","m":"Rate limit pause: 5:10 remaining (0 agents paused, sonnet model)"}
{"t":"status","m":"Resume at: 2/6/2026, 3:58:59 PM"}
{"t":"status","m":"Per-model status:"}
{"t":"status","m":"  sonnet: 5:10 (until 2/6/2026, 3:58:59 PM)"}
{"t":"warning","m":"Proactive 5-hour pause for sonnet - resume at 2026-02-06T23:53:59.136Z"}
{"t":"warning","m":"Rate limit hit for sonnet model - pausing sonnet agents only"}
{"t":"status","m":"Rate limit pause: 5:10 remaining (0 agents paused, sonnet model)"}
{"t":"status","m":"Resume at: 2/6/2026, 3:58:59 PM"}
{"t":"status","m":"Per-model status:"}
{"t":"status","m":"  sonnet: 5:10 (until 2/6/2026, 3:58:59 PM)"}
{"t":"warning","m":"Proactive 5-hour pause for sonnet - resume at 2026-02-06T23:53:59.136Z"}
{"t":"warning","m":"Rate limit hit for sonnet model - pausing sonnet agents only"}
{"t":"status","m":"Rate limit pause: 5:10 remaining (0 agents paused, sonnet model)"}
{"t":"status","m":"Resume at: 2/6/2026, 3:58:59 PM"}
{"t":"status","m":"Per-model status:"}
{"t":"status","m":"  sonnet: 5:10 (until 2/6/2026, 3:58:59 PM)"}
{"t":"warning","m":"Proactive 5-hour pause for sonnet - resume at 2026-02-06T23:53:59.136Z"}
{"t":"warning","m":"Rate limit hit for sonnet model - pausing sonnet agents only"}
{"t":"status","m":"Rate limit pause: 5:10 remaining (0 agents paused, sonnet model)"}
{"t":"status","m":"Resume at: 2/6/2026, 3:58:59 PM"}
{"t":"status","m":"Per-model status:"}
{"t":"status","m":"  sonnet: 5:10 (until 2/6/2026, 3:58:59 PM)"}
{"t":"warning","m":"Proactive 5-hour pause for sonnet - resume at 2026-02-06T23:53:59.136Z"}
{"t":"warning","m":"Rate limit hit for sonnet model - pausing sonnet agents only"}
{"t":"status","m":"Rate limit pause: 5:10 remaining (0 agents paused, sonnet model)"}
{"t":"status","m":"Resume at: 2/6/2026, 3:58:59 PM"}
{"t":"status","m":"Per-model status:"}
{"t":"status","m":"  sonnet: 5:10 (until 2/6/2026, 3:58:59 PM)"}
{"t":"warning","m":"Proactive 5-hour pause for sonnet - resume at 2026-02-06T23:53:59.136Z"}
{"t":"warning","m":"Rate limit hit for sonnet model - pausing sonnet agents only"}
{"t":"status","m":"Rate limit pause: 5:10 remaining (0 agents paused, sonnet model)"}
{"t":"status","m":"Resume at: 2/6/2026, 3:58:59 PM"}
{"t":"status","m":"Per-model status:"}
{"t":"status","m":"  sonnet: 5:10 (until 2/6/2026, 3:58:59 PM)"}
{"t":"warning","m":"Proactive 5-hour pause for sonnet - resume at 2026-02-06T23:53:59.136Z"}
{"t":"warning","m":"Rate limit hit for sonnet model - pausing sonnet agents only"}
{"t":"status","m":"Rate limit pause: 5:10 remaining (0 agents paused, sonnet model)"}
{"t":"status","m":"Resume at: 2/6/2026, 3:58:59 PM"}
{"t":"status","m":"Per-model status:"}
{"t":"status","m":"  sonnet: 5:10 (until 2/6/2026, 3:58:59 PM)"}
{"t":"warning","m":"Proactive 5-hour pause for sonnet - resume at 2026-02-06T23:53:59.136Z"}
{"t":"warning","m":"Rate limit hit for sonnet model - pausing sonnet agents only"}
{"t":"status","m":"Rate limit pause: 5:10 remaining (0 agents paused, sonnet model)"}
{"t":"status","m":"Resume at: 2/6/2026, 3:58:59 PM"}
{"t":"status","m":"Per-model status:"}
{"t":"status","m":"  sonnet: 5:10 (until 2/6/2026, 3:58:59 PM)"}
{"t":"warning","m":"Proactive 5-hour pause for sonnet - resume at 2026-02-06T23:53:59.136Z"}
{"t":"warning","m":"Rate limit hit for sonnet model - pausing sonnet agents only"}
{"t":"status","m":"Rate limit pause: 5:10 remaining (0 agents paused, sonnet model)"}
{"t":"status","m":"Resume at: 2/6/2026, 3:58:59 PM"}
{"t":"status","m":"Per-model status:"}
{"t":"status","m":"  sonnet: 5:10 (until 2/6/2026, 3:58:59 PM)"}
{"t":"warning","m":"Proactive 5-hour pause for sonnet - resume at 2026-02-06T23:53:59.136Z"}

[90mstdout[2m | src/__tests__/orchestrator-error-scenarios.test.ts[2m > [22m[2mRate Limit Handling[2m > [22m[2mProactive Pause Prevention[2m > [22m[2mshould format remaining pause time
[22m[39m{"t":"warning","m":"Rate limit hit for sonnet model - pausing sonnet agents only"}
{"t":"status","m":"Rate limit pause: 1:00 remaining (0 agents paused, sonnet model)"}
{"t":"status","m":"Resume at: 2/6/2026, 11:48:59 AM"}
{"t":"status","m":"Per-model status:"}
{"t":"status","m":"  sonnet: 1:00 (until 2/6/2026, 11:48:59 AM)"}

[90mstdout[2m | src/__tests__/orchestrator-error-scenarios.test.ts[2m > [22m[2mRate Limit Handling[2m > [22m[2mState Persistence[2m > [22m[2mshould export state for persistence
[22m[39m{"t":"warning","m":"Rate limit hit for sonnet model - pausing sonnet agents only"}
{"t":"status","m":"Rate limit pause: 1:00 remaining (0 agents paused, sonnet model)"}
{"t":"status","m":"Resume at: 2/6/2026, 11:48:59 AM"}
{"t":"status","m":"Per-model status:"}
{"t":"status","m":"  sonnet: 1:00 (until 2/6/2026, 11:48:59 AM)"}

 [32mâœ“[39m src/__tests__/orchestrator-error-scenarios.test.ts [2m([22m[2m74 tests[22m[2m)[22m[32m 166[2mms[22m[39m
 [32mâœ“[39m src/__tests__/file-lock.test.ts [2m([22m[2m7 tests[22m[2m)[22m[32m 41[2mms[22m[39m
 [32mâœ“[39m src/__tests__/task-security.test.ts [2m([22m[2m69 tests[22m[2m)[22m[32m 81[2mms[22m[39m
[18:48:59] [32mINFO[39m: [36mRAG database initialized[39m
    [35mmodule[39m: "rag-database"
    [35mpath[39m: "/tmp/task-classifier-test-1ENXsi/rag.db"
 [32mâœ“[39m src/__tests__/task-classifier.test.ts [2m([22m[2m16 tests[22m[2m)[22m[32m 102[2mms[22m[39m
 [32mâœ“[39m src/__tests__/concurrency.test.ts [2m([22m[2m7 tests[22m[2m)[22m[32m 86[2mms[22m[39m
 [32mâœ“[39m src/__tests__/mcp-protocol.test.ts [2m([22m[2m37 tests[22m[2m)[22m[32m 83[2mms[22m[39m
[18:48:59] [34mDEBUG[39m: [36mMCP tool call[39m
    [35mmodule[39m: "server"
    [35mtoolName[39m: "knowledge_search"
    [35mparams[39m: {
      "query": "validation",
      "maxResults": 5
    }
[18:48:59] [34mDEBUG[39m: [36mMCP tool call[39m
    [35mmodule[39m: "server"
    [35mtoolName[39m: "knowledge_search"
    [35mparams[39m: {
      "query": "validation api",
      "maxResults": 5
    }
[18:48:59] [34mDEBUG[39m: [36mMCP tool call[39m
    [35mmodule[39m: "server"
    [35mtoolName[39m: "knowledge_search"
    [35mparams[39m: {
      "query": 123,
      "maxResults": 5
    }
[18:48:59] [34mDEBUG[39m: [36mMCP tool call[39m
    [35mmodule[39m: "server"
    [35mtoolName[39m: "knowledge_search"
    [35mparams[39m: {
      "query": "test",
      "maxResults": "five"
    }
[18:48:59] [34mDEBUG[39m: [36mMCP tool call[39m
    [35mmodule[39m: "server"
    [35mtoolName[39m: "knowledge_search"
    [35mparams[39m: {
      "query": "test",
      "maxResults": 25
    }
[18:48:59] [34mDEBUG[39m: [36mMCP tool call[39m
    [35mmodule[39m: "server"
    [35mtoolName[39m: "knowledge_search"
    [35mparams[39m: {
      "query": "test"
    }
[18:48:59] [34mDEBUG[39m: [36mMCP tool call[39m
    [35mmodule[39m: "server"
    [35mtoolName[39m: "knowledge_add"
    [35mparams[39m: {
      "taskId": "task-123",
      "category": "pattern",
      "content": "Test learning content",
      "keywords": [
        "test",
        "learning"
      ]
    }
[18:48:59] [34mDEBUG[39m: [36mMCP tool call[39m
    [35mmodule[39m: "server"
    [35mtoolName[39m: "knowledge_add"
    [35mparams[39m: {
      "taskId": 123,
      "category": "pattern",
      "content": "Test",
      "keywords": [
        "test"
      ]
    }
[18:48:59] [34mDEBUG[39m: [36mMCP tool call[39m
    [35mmodule[39m: "server"
    [35mtoolName[39m: "knowledge_add"
    [35mparams[39m: {
      "taskId": "task-1",
      "category": "invalid-category",
      "content": "Test",
      "keywords": [
        "test"
      ]
    }
[18:48:59] [34mDEBUG[39m: [36mMCP tool call[39m
    [35mmodule[39m: "server"
    [35mtoolName[39m: "knowledge_add"
    [35mparams[39m: {
      "taskId": "task-1",
      "category": "pattern",
      "content": 123,
      "keywords": [
        "test"
      ]
    }
[18:48:59] [34mDEBUG[39m: [36mMCP tool call[39m
    [35mmodule[39m: "server"
    [35mtoolName[39m: "knowledge_add"
    [35mparams[39m: {
      "taskId": "task-1",
      "category": "pattern",
      "content": "Test",
      "keywords": "not-an-array"
    }
[18:48:59] [34mDEBUG[39m: [36mMCP tool call[39m
    [35mmodule[39m: "server"
    [35mtoolName[39m: "knowledge_add"
    [35mparams[39m: {
      "taskId": "task-1",
      "category": "pattern",
      "content": "Test with structured data",
      "keywords": [
        "test"
      ],
      "structured": {
        "file": "src/test.ts",
        "pattern": "const x = 1;",
        "approach": "Simple approach"
      }
    }
[18:48:59] [34mDEBUG[39m: [36mMCP tool call[39m
    [35mmodule[39m: "server"
    [35mtoolName[39m: "knowledge_add"
    [35mparams[39m: {
      "taskId": "task-1",
      "category": "pattern",
      "content": "Test",
      "keywords": [
        "test"
      ],
      "structured": {
        "file": 123
      }
    }
[18:48:59] [34mDEBUG[39m: [36mMCP tool call[39m
    [35mmodule[39m: "server"
    [35mtoolName[39m: "knowledge_stats"
    [35mparams[39m: {}
[18:48:59] [34mDEBUG[39m: [36mMCP tool call[39m
    [35mmodule[39m: "server"
    [35mtoolName[39m: "knowledge_stats"
    [35mparams[39m: {}
[18:48:59] [34mDEBUG[39m: [36mMCP tool call[39m
    [35mmodule[39m: "server"
    [35mtoolName[39m: "knowledge_stats"
    [35mparams[39m: {}
[18:48:59] [34mDEBUG[39m: [36mMCP tool call[39m
    [35mmodule[39m: "server"
    [35mtoolName[39m: "knowledge_mark_used"
    [35mparams[39m: {
      "learningIds": [
        "learn-mlb8ocfr-j0oem2"
      ],
      "taskSuccess": true
    }
[18:48:59] [34mDEBUG[39m: [36mMCP tool call[39m
    [35mmodule[39m: "server"
    [35mtoolName[39m: "knowledge_mark_used"
    [35mparams[39m: {
      "learningIds": [
        "learn-mlb8ocfv-bh024x"
      ],
      "taskSuccess": false
    }
[18:48:59] [34mDEBUG[39m: [36mMCP tool call[39m
    [35mmodule[39m: "server"
    [35mtoolName[39m: "knowledge_mark_used"
    [35mparams[39m: {
      "learningIds": "not-an-array",
      "taskSuccess": true
    }
[18:48:59] [34mDEBUG[39m: [36mMCP tool call[39m
    [35mmodule[39m: "server"
    [35mtoolName[39m: "knowledge_mark_used"
    [35mparams[39m: {
      "learningIds": [
        "learn-mlb8ocg0-09wj2s"
      ],
      "taskSuccess": "yes"
    }
[18:48:59] [34mDEBUG[39m: [36mMCP tool call[39m
    [35mmodule[39m: "server"
    [35mtoolName[39m: "knowledge_mark_used"
    [35mparams[39m: {
      "learningIds": [
        "learn-mlb8ocg2-lv399r",
        "learn-mlb8ocg2-ifpt6z"
      ],
      "taskSuccess": true
    }
[18:48:59] [34mDEBUG[39m: [36mMCP tool call[39m
    [35mmodule[39m: "server"
    [35mtoolName[39m: "knowledge_mark_used"
    [35mparams[39m: {
      "learningIds": [],
      "taskSuccess": true
    }
[18:48:59] [34mDEBUG[39m: [36mMCP tool call[39m
    [35mmodule[39m: "server"
    [35mtoolName[39m: "unknown_tool"
    [35mparams[39m: {}
[18:48:59] [34mDEBUG[39m: [36mMCP tool call[39m
    [35mmodule[39m: "server"
    [35mtoolName[39m: "knowledge_search"
    [35mparams[39m: {
      "query": "test",
      "maxResults": 999
    }
[18:48:59] [31mERROR[39m: [36mMCP request error[39m
    [35mmodule[39m: "server"
    [35mrequest[39m: {
      "jsonrpc": "2.0",
      "id": 1,
      "method": "tools/call",
      "params": {
        "name": "knowledge_search",
        "arguments": {
          "query": "test",
          "maxResults": 999
        }
      }
    }
    error: {}
[18:48:59] [34mDEBUG[39m: [36mMCP tool call[39m
    [35mmodule[39m: "server"
    [35mtoolName[39m: "knowledge_add"
    [35mparams[39m: {
      "taskId": "task-integration",
      "category": "pattern",
      "content": "Integration test learning",
      "keywords": [
        "integration",
        "test"
      ]
    }
[18:48:59] [34mDEBUG[39m: [36mMCP tool call[39m
    [35mmodule[39m: "server"
    [35mtoolName[39m: "knowledge_search"
    [35mparams[39m: {
      "query": "integration test",
      "maxResults": 5
    }
[18:48:59] [34mDEBUG[39m: [36mMCP tool call[39m
    [35mmodule[39m: "server"
    [35mtoolName[39m: "knowledge_mark_used"
    [35mparams[39m: {
      "learningIds": [
        "learn-mlb8ocg7-s62jk7"
      ],
      "taskSuccess": true
    }
[18:48:59] [34mDEBUG[39m: [36mMCP tool call[39m
    [35mmodule[39m: "server"
    [35mtoolName[39m: "knowledge_stats"
    [35mparams[39m: {}
 [32mâœ“[39m src/__tests__/ticket-loader.test.ts [2m([22m[2m34 tests[22m[2m)[22m[32m 87[2mms[22m[39m
 [32mâœ“[39m src/__tests__/merge-queue.unit.test.ts [2m([22m[2m34 tests[22m[2m)[22m[32m 29[2mms[22m[39m
 [32mâœ“[39m src/__tests__/error-fix-patterns.test.ts [2m([22m[2m129 tests[22m[2m)[22m[32m 110[2mms[22m[39m
 [32mâœ“[39m src/__tests__/task-board-analyzer.test.ts [2m([22m[2m17 tests[22m[2m)[22m[32m 89[2mms[22m[39m
 [32mâœ“[39m src/__tests__/extraction-harness.test.ts [2m([22m[2m36 tests[22m[2m)[22m[32m 55[2mms[22m[39m
[90mstdout[2m | src/__tests__/knowledge-extractor-minea.test.ts[2m > [22m[2mknowledge-extractor-minea[2m > [22m[2mneedle recovery - small conversation[2m > [22m[2mshould log metrics for small conversation
[22m[39m
Small Conversation (3683 chars):
  Extracted: 20 learnings
  Recovery: 20/20 (100.0%)
  Precision: 100.0%
  Recall: 100.0%
  F1: 100.0%

[90mstdout[2m | src/__tests__/knowledge-extractor-minea.test.ts[2m > [22m[2mknowledge-extractor-minea[2m > [22m[2mneedle recovery - medium conversation[2m > [22m[2mshould log metrics for medium conversation
[22m[39m
Medium Conversation (6698 chars):
  Extracted: 20 learnings
  Recovery: 20/20 (100.0%)
  Precision: 100.0%
  Recall: 100.0%
  F1: 100.0%

[90mstdout[2m | src/__tests__/knowledge-extractor-minea.test.ts[2m > [22m[2mknowledge-extractor-minea[2m > [22m[2mneedle recovery - large conversation[2m > [22m[2mshould log metrics for large conversation
[22m[39m
Large Conversation (11693 chars):
  Extracted: 20 learnings
  Recovery: 20/20 (100.0%)
  Precision: 100.0%
  Recall: 100.0%
  F1: 100.0%

[90mstdout[2m | src/__tests__/knowledge-extractor-minea.test.ts[2m > [22m[2mknowledge-extractor-minea[2m > [22m[2mneedle recovery - xlarge conversation[2m > [22m[2mshould log metrics for xlarge conversation
[22m[39m
XLarge Conversation (21694 chars):
  Extracted: 20 learnings
  Recovery: 20/20 (100.0%)
  Precision: 100.0%
  Recall: 100.0%
  F1: 100.0%

[90mstdout[2m | src/__tests__/knowledge-extractor-minea.test.ts[2m > [22m[2mknowledge-extractor-minea[2m > [22m[2mcategory-level recovery metrics[2m > [22m[2mshould display category breakdown
[22m[39m
========================================
CATEGORY BREAKDOWN
========================================
Category     | Recovery | Prec   | Recall | F1     | TP   | FP   | FN
---------------------------------------------------------------------------
pattern      | 100.0%   | 100.0 % | 100.0 % | 100.0 % | 5    | 0    | 0   
gotcha       | 100.0%   | 83.3  % | 100.0 % | 90.9  % | 5    | 1    | 0   
fact         | 100.0%   | 100.0 % | 100.0 % | 100.0 % | 5    | 0    | 0   
preference   | 80.0%    | 100.0 % | 80.0  % | 88.9  % | 4    | 0    | 1   
---------------------------------------------------------------------------

[90mstdout[2m | src/__tests__/knowledge-extractor-minea.test.ts[2m > [22m[2mknowledge-extractor-minea[2m > [22m[2maggregated metrics summary[2m > [22m[2mshould display full MINEA benchmark summary
[22m[39m
========================================
MINEA EXTRACTION BENCHMARK SUMMARY
========================================
Total Needles: 20 (5 per category)
Categories: pattern, gotcha, fact, preference
========================================

Size Class   | Chars    | Extracted | Recovered | Recovery | Precision | Recall | F1
------------------------------------------------------------------------------------------
Small        | 3667     | 20        | 20        | 100.0%   | 100.0%    | 100.0% | 100.0%
Medium       | 6670     | 20        | 20        | 100.0%   | 100.0%    | 100.0% | 100.0%
Large        | 11685    | 20        | 20        | 100.0%   | 100.0%    | 100.0% | 100.0%
XLarge       | 21669    | 20        | 20        | 100.0%   | 100.0%    | 100.0% | 100.0%
------------------------------------------------------------------------------------------
AVERAGE      | -        | -         | 80        | 100.0%   | 100.0%    | 100.0% | 100.0%

========================================
OVERALL RECOVERY RATE: 100.0%
TARGET: >= 80%
STATUS: PASS
========================================


 [32mâœ“[39m src/__tests__/knowledge-extractor-minea.test.ts [2m([22m[2m37 tests[22m[2m)[22m[32m 59[2mms[22m[39m
 [32mâœ“[39m src/__tests__/orchestrator-health-monitoring.test.ts [2m([22m[2m22 tests[22m[2m)[22m[32m 36[2mms[22m[39m
[90mstdout[2m | src/__tests__/rate-limit.boundary.test.ts[2m > [22m[2mRateLimitTracker - Boundary Values[2m > [22m[2mToken Multipliers - Min/Max Boundaries[2m > [22m[2mshould handle very large tokens (near 1M limit)
[22m[39m{"t":"warning","m":"Rate limit hit for sonnet model - pausing sonnet agents only"}
{"t":"status","m":"Rate limit pause: 5:10 remaining (0 agents paused, sonnet model)"}
{"t":"status","m":"Resume at: 2/6/2026, 3:59:00 PM"}
{"t":"status","m":"Per-model status:"}
{"t":"status","m":"  sonnet: 5:10 (until 2/6/2026, 3:59:00 PM)"}
{"t":"warning","m":"Proactive 5-hour pause for sonnet - resume at 2026-02-06T23:54:00.845Z"}

[90mstderr[2m | src/__tests__/rate-limit.boundary.test.ts[2m > [22m[2mRateLimitTracker - Boundary Values[2m > [22m[2mToken Multipliers - Min/Max Boundaries[2m > [22m[2mshould handle very large tokens (near 1M limit)
[22m[39mğŸš¨ Proactive rate limit prevention: 100.0% of 5-hour limit used (sonnet, estimated)

[90mstdout[2m | src/__tests__/rate-limit.boundary.test.ts[2m > [22m[2mRateLimitTracker - Boundary Values[2m > [22m[2mUsage Percentage - 0% to 100% Boundaries[2m > [22m[2mshould trigger prevention at 95% threshold
[22m[39m{"t":"warning","m":"Rate limit hit for sonnet model - pausing sonnet agents only"}
{"t":"status","m":"Rate limit pause: 1:00 remaining (0 agents paused, sonnet model)"}
{"t":"status","m":"Resume at: 2/6/2026, 11:49:00 AM"}
{"t":"status","m":"Per-model status:"}
{"t":"status","m":"  sonnet: 1:00 (until 2/6/2026, 11:49:00 AM)"}
{"t":"warning","m":"Proactive 5-hour pause for sonnet - resume at 2026-02-06T23:54:00.908Z"}

[90mstderr[2m | src/__tests__/rate-limit.boundary.test.ts[2m > [22m[2mRateLimitTracker - Boundary Values[2m > [22m[2mUsage Percentage - 0% to 100% Boundaries[2m > [22m[2mshould trigger prevention at 95% threshold
[22m[39mğŸš¨ Proactive rate limit prevention: 95.0% of 5-hour limit used (sonnet, actual)

[90mstdout[2m | src/__tests__/rate-limit.boundary.test.ts[2m > [22m[2mRateLimitTracker - Boundary Values[2m > [22m[2mUsage Percentage - 0% to 100% Boundaries[2m > [22m[2mshould handle 100% usage (at limit)
[22m[39m{"t":"warning","m":"Rate limit hit for sonnet model - pausing sonnet agents only"}
{"t":"status","m":"Rate limit pause: 5:10 remaining (0 agents paused, sonnet model)"}
{"t":"status","m":"Resume at: 2/6/2026, 3:59:00 PM"}
{"t":"status","m":"Per-model status:"}
{"t":"status","m":"  sonnet: 5:10 (until 2/6/2026, 3:59:00 PM)"}
{"t":"warning","m":"Proactive 5-hour pause for sonnet - resume at 2026-02-06T23:54:00.911Z"}

[90mstderr[2m | src/__tests__/rate-limit.boundary.test.ts[2m > [22m[2mRateLimitTracker - Boundary Values[2m > [22m[2mUsage Percentage - 0% to 100% Boundaries[2m > [22m[2mshould handle 100% usage (at limit)
[22m[39mğŸš¨ Proactive rate limit prevention: 100.0% of 5-hour limit used (sonnet, estimated)

[90mstdout[2m | src/__tests__/rate-limit.boundary.test.ts[2m > [22m[2mRateLimitTracker - Boundary Values[2m > [22m[2mUsage Percentage - 0% to 100% Boundaries[2m > [22m[2mshould handle over 100% usage (over limit)
[22m[39m{"t":"warning","m":"Rate limit hit for sonnet model - pausing sonnet agents only"}
{"t":"status","m":"Rate limit pause: 5:10 remaining (0 agents paused, sonnet model)"}
{"t":"status","m":"Resume at: 2/6/2026, 3:59:00 PM"}
{"t":"status","m":"Per-model status:"}
{"t":"status","m":"  sonnet: 5:10 (until 2/6/2026, 3:59:00 PM)"}
{"t":"warning","m":"Proactive 5-hour pause for sonnet - resume at 2026-02-06T23:54:00.912Z"}

[90mstderr[2m | src/__tests__/rate-limit.boundary.test.ts[2m > [22m[2mRateLimitTracker - Boundary Values[2m > [22m[2mUsage Percentage - 0% to 100% Boundaries[2m > [22m[2mshould handle over 100% usage (over limit)
[22m[39mğŸš¨ Proactive rate limit prevention: 120.0% of 5-hour limit used (sonnet, estimated)

[90mstdout[2m | src/__tests__/rate-limit.boundary.test.ts[2m > [22m[2mRateLimitTracker - Boundary Values[2m > [22m[2mPause State - Resume Threshold (90%)[2m > [22m[2mshould not resume when usage is at 90% (at threshold)
[22m[39m{"t":"warning","m":"Rate limit hit for sonnet model - pausing sonnet agents only"}
{"t":"status","m":"Rate limit pause: 1:00 remaining (0 agents paused, sonnet model)"}
{"t":"status","m":"Resume at: 2/6/2026, 11:49:00 AM"}
{"t":"status","m":"Per-model status:"}
{"t":"status","m":"  sonnet: 1:00 (until 2/6/2026, 11:49:00 AM)"}

[90mstderr[2m | src/__tests__/rate-limit.boundary.test.ts[2m > [22m[2mRateLimitTracker - Boundary Values[2m > [22m[2mPause State - Resume Threshold (90%)[2m > [22m[2mshould not resume when usage is at 90% (at threshold)
[22m[39mâš ï¸  Rate limit warning: 90.0% of 5-hour limit used (sonnet, estimated)

[90mstdout[2m | src/__tests__/rate-limit.boundary.test.ts[2m > [22m[2mRateLimitTracker - Boundary Values[2m > [22m[2mPause State - Resume Threshold (90%)[2m > [22m[2mshould resume when usage drops below 90%
[22m[39m{"t":"warning","m":"Rate limit hit for sonnet model - pausing sonnet agents only"}
{"t":"status","m":"Rate limit pause: 1:00 remaining (0 agents paused, sonnet model)"}
{"t":"status","m":"Resume at: 2/6/2026, 11:49:00 AM"}
{"t":"status","m":"Per-model status:"}
{"t":"status","m":"  sonnet: 1:00 (until 2/6/2026, 11:49:00 AM)"}
{"t":"info","m":"Usage has dropped below limits - resuming all models"}
{"t":"success","m":"Resumed from rate limit pause"}

[90mstderr[2m | src/__tests__/rate-limit.boundary.test.ts[2m > [22m[2mRateLimitTracker - Boundary Values[2m > [22m[2mPause State - Resume Threshold (90%)[2m > [22m[2mshould resume when usage drops below 90%
[22m[39mâš ï¸  Rate limit warning: 80.0% of 5-hour limit used (sonnet, estimated)

 [32mâœ“[39m src/__tests__/rag-embedder.test.ts [2m([22m[2m38 tests[22m[2m)[22m[32m 71[2mms[22m[39m
[90mstdout[2m | src/__tests__/rate-limit.boundary.test.ts[2m > [22m[2mRateLimitTracker - Boundary Values[2m > [22m[2mRate Limit Hit Recording[2m > [22m[2mshould record rate limit hit with zero usage
[22m[39m{"t":"warning","m":"Rate limit hit for sonnet model - pausing sonnet agents only"}
{"t":"status","m":"Rate limit pause: 1:00 remaining (0 agents paused, sonnet model)"}
{"t":"status","m":"Resume at: 2/6/2026, 11:49:00 AM"}
{"t":"status","m":"Per-model status:"}
{"t":"status","m":"  sonnet: 1:00 (until 2/6/2026, 11:49:00 AM)"}

[90mstderr[2m | src/__tests__/rate-limit.boundary.test.ts[2m > [22m[2mRateLimitTracker - Boundary Values[2m > [22m[2mRate Limit Hit Recording[2m > [22m[2mshould record rate limit hit with zero usage
[22m[39mğŸš¨ Rate limit hit for sonnet: {
  timestamp: [35m2026-02-06T18:49:00.931Z[39m,
  usage: {
    last5Hours: [33m0[39m,
    currentWeek: [33m0[39m,
    last5HoursSonnet: [33m0[39m,
    currentWeekSonnet: [33m0[39m
  },
  error: [32m'Rate limit exceeded'[39m,
  apiLimitInfo: {}
}

[90mstdout[2m | src/__tests__/rate-limit.boundary.test.ts[2m > [22m[2mRateLimitTracker - Boundary Values[2m > [22m[2mRate Limit Hit Recording[2m > [22m[2mshould handle multiple rate limit hits
[22m[39m{"t":"warning","m":"Rate limit hit for sonnet model - pausing sonnet agents only"}
{"t":"status","m":"Rate limit pause: 1:00 remaining (0 agents paused, sonnet model)"}
{"t":"status","m":"Resume at: 2/6/2026, 11:49:00 AM"}
{"t":"status","m":"Per-model status:"}
{"t":"status","m":"  sonnet: 1:00 (until 2/6/2026, 11:49:00 AM)"}
{"t":"warning","m":"Rate limit hit for opus model - pausing opus agents only"}
{"t":"status","m":"Rate limit pause: 1:00 remaining (0 agents paused, opus model)"}
{"t":"status","m":"Resume at: 2/6/2026, 11:49:00 AM"}
{"t":"status","m":"Per-model status:"}
{"t":"status","m":"  sonnet: 1:00 (until 2/6/2026, 11:49:00 AM)"}
{"t":"status","m":"  opus: 1:00 (until 2/6/2026, 11:49:00 AM)"}
{"t":"warning","m":"Rate limit hit for sonnet model - pausing sonnet agents only"}
{"t":"status","m":"Rate limit pause: 1:00 remaining (0 agents paused, sonnet model)"}
{"t":"status","m":"Resume at: 2/6/2026, 11:49:00 AM"}
{"t":"status","m":"Per-model status:"}
{"t":"status","m":"  sonnet: 1:00 (until 2/6/2026, 11:49:00 AM)"}
{"t":"status","m":"  opus: 1:00 (until 2/6/2026, 11:49:00 AM)"}

[90mstderr[2m | src/__tests__/rate-limit.boundary.test.ts[2m > [22m[2mRateLimitTracker - Boundary Values[2m > [22m[2mRate Limit Hit Recording[2m > [22m[2mshould handle multiple rate limit hits
[22m[39mğŸš¨ Rate limit hit for sonnet: {
  timestamp: [35m2026-02-06T18:49:00.933Z[39m,
  usage: {
    last5Hours: [33m0[39m,
    currentWeek: [33m0[39m,
    last5HoursSonnet: [33m0[39m,
    currentWeekSonnet: [33m0[39m
  },
  error: [32m'Hit 1'[39m,
  apiLimitInfo: {}
}
ğŸš¨ Rate limit hit for opus: {
  timestamp: [35m2026-02-06T18:49:00.934Z[39m,
  usage: {
    last5Hours: [33m0[39m,
    currentWeek: [33m0[39m,
    last5HoursSonnet: [33m0[39m,
    currentWeekSonnet: [33m0[39m
  },
  error: [32m'Hit 2'[39m,
  apiLimitInfo: {}
}
ğŸš¨ Rate limit hit for sonnet: {
  timestamp: [35m2026-02-06T18:49:00.934Z[39m,
  usage: {
    last5Hours: [33m0[39m,
    currentWeek: [33m0[39m,
    last5HoursSonnet: [33m0[39m,
    currentWeekSonnet: [33m0[39m
  },
  error: [32m'Hit 3'[39m,
  apiLimitInfo: {}
}

[90mstdout[2m | src/__tests__/rate-limit.boundary.test.ts[2m > [22m[2mRateLimitTracker - Boundary Values[2m > [22m[2mRemaining Pause Time - Min/Max Boundaries[2m > [22m[2mshould return 0 when pause time has passed
[22m[39m{"t":"warning","m":"Rate limit hit for sonnet model - pausing sonnet agents only"}
{"t":"status","m":"Rate limit pause: 1:00 remaining (0 agents paused, sonnet model)"}
{"t":"status","m":"Resume at: 2/6/2026, 11:49:00 AM"}
{"t":"status","m":"Per-model status:"}
{"t":"status","m":"  sonnet: 1:00 (until 2/6/2026, 11:49:00 AM)"}

[90mstdout[2m | src/__tests__/rate-limit.boundary.test.ts[2m > [22m[2mRateLimitTracker - Boundary Values[2m > [22m[2mRemaining Pause Time - Min/Max Boundaries[2m > [22m[2mshould return positive time when pause is active
[22m[39m{"t":"warning","m":"Rate limit hit for sonnet model - pausing sonnet agents only"}
{"t":"status","m":"Rate limit pause: 1:00 remaining (0 agents paused, sonnet model)"}
{"t":"status","m":"Resume at: 2/6/2026, 11:49:00 AM"}
{"t":"status","m":"Per-model status:"}
{"t":"status","m":"  sonnet: 1:00 (until 2/6/2026, 11:49:00 AM)"}

[90mstderr[2m | src/__tests__/rate-limit.boundary.test.ts[2m > [22m[2mRateLimitTracker - Boundary Values[2m > [22m[2mWarning Threshold - 80% Boundary[2m > [22m[2mshould handle exact 80% threshold
[22m[39mâš ï¸  Rate limit warning: 80.0% of 5-hour limit used (sonnet, estimated)

 [32mâœ“[39m src/__tests__/rate-limit.boundary.test.ts [2m([22m[2m36 tests[22m[2m)[22m[32m 106[2mms[22m[39m
 [32mâœ“[39m src/__tests__/persistence.test.ts [2m([22m[2m71 tests[22m[2m)[22m[32m 72[2mms[22m[39m
[18:49:01] [34mDEBUG[39m: [36mSaved flute result to cache[39m
    [35mmodule[39m: "persistence"
    [35mkey[39m: "fp-hash:goal-hash"
    [35mgoalText[39m: "test goal"
[18:49:01] [32mINFO[39m: [36mCleared flute cache[39m
    [35mmodule[39m: "persistence"
 [32mâœ“[39m src/__tests__/self-tuning.test.ts [2m([22m[2m16 tests[22m[2m)[22m[32m 51[2mms[22m[39m
 [32mâœ“[39m src/__tests__/feedback-metrics.test.ts [2m([22m[2m33 tests[22m[2m)[22m[32m 92[2mms[22m[39m
 [32mâœ“[39m src/__tests__/git.test.ts [2m([22m[2m126 tests[22m[2m)[22m[32m 80[2mms[22m[39m
[18:49:01] [34mDEBUG[39m: [36mAdded to merge queue[39m
    [35mmodule[39m: "git"
    [35mbranch[39m: "feature/test"
    [35mstepId[39m: "step-1"
    [35magentId[39m: "agent-1"
    [35mmodifiedFilesCount[39m: 0
[18:49:01] [34mDEBUG[39m: [36mAdded to merge queue[39m
    [35mmodule[39m: "git"
    [35mbranch[39m: "feature/test"
    [35mstepId[39m: "step-1"
    [35magentId[39m: "agent-1"
    [35mmodifiedFilesCount[39m: 0
[18:49:01] [34mDEBUG[39m: [36mRetry config updated[39m
    [35mmodule[39m: "git"
    [35mconfig[39m: {
      "enabled": false,
      "maxRetries": 10,
      "baseDelayMs": 1000,
      "maxDelayMs": 30000
    }
[18:49:01] [34mDEBUG[39m: [36mRetry config updated[39m
    [35mmodule[39m: "git"
    [35mconfig[39m: {
      "enabled": true,
      "maxRetries": 7,
      "baseDelayMs": 1000,
      "maxDelayMs": 30000
    }
[18:49:01] [34mDEBUG[39m: [36mAdded to merge queue[39m
    [35mmodule[39m: "git"
    [35mbranch[39m: "feature/a"
    [35mstepId[39m: "t1"
    [35magentId[39m: "a1"
    [35mmodifiedFilesCount[39m: 0
[18:49:01] [34mDEBUG[39m: [36mAdded to merge queue[39m
    [35mmodule[39m: "git"
    [35mbranch[39m: "feature/b"
    [35mstepId[39m: "t2"
    [35magentId[39m: "a2"
    [35mmodifiedFilesCount[39m: 0
[18:49:01] [34mDEBUG[39m: [36mAdded to merge queue[39m
    [35mmodule[39m: "git"
    [35mbranch[39m: "feature/c"
    [35mstepId[39m: "t3"
    [35magentId[39m: "a3"
    [35mmodifiedFilesCount[39m: 0
[18:49:01] [34mDEBUG[39m: [36mAdded to merge queue[39m
    [35mmodule[39m: "git"
    [35mbranch[39m: "feature/a"
    [35mstepId[39m: "t1"
    [35magentId[39m: "a1"
    [35mmodifiedFilesCount[39m: 0
[18:49:01] [34mDEBUG[39m: [36mAdded to merge queue[39m
    [35mmodule[39m: "git"
    [35mbranch[39m: "feature/b"
    [35mstepId[39m: "t2"
    [35magentId[39m: "a2"
    [35mmodifiedFilesCount[39m: 0
[18:49:01] [34mDEBUG[39m: [36mAdded to merge queue[39m
    [35mmodule[39m: "git"
    [35mbranch[39m: "feature/a"
    [35mstepId[39m: "t1"
    [35magentId[39m: "a1"
    [35mmodifiedFilesCount[39m: 0
[18:49:01] [34mDEBUG[39m: [36mAdded to merge queue[39m
    [35mmodule[39m: "git"
    [35mbranch[39m: "feature/a"
    [35mstepId[39m: "t1"
    [35magentId[39m: "a1"
    [35mmodifiedFilesCount[39m: 0
[18:49:01] [34mDEBUG[39m: [36mAdded to merge queue[39m
    [35mmodule[39m: "git"
    [35mbranch[39m: "feature/a"
    [35mstepId[39m: "t1"
    [35magentId[39m: "a1"
    [35mmodifiedFilesCount[39m: 0
[18:49:01] [34mDEBUG[39m: [36mAdded to merge queue[39m
    [35mmodule[39m: "git"
    [35mbranch[39m: "feature/b"
    [35mstepId[39m: "t2"
    [35magentId[39m: "a2"
    [35mmodifiedFilesCount[39m: 0
[18:49:01] [34mDEBUG[39m: [36mAdded to merge queue[39m
    [35mmodule[39m: "git"
    [35mbranch[39m: "feature/a"
    [35mstepId[39m: "t1"
    [35magentId[39m: "a1"
    [35mmodifiedFilesCount[39m: 0
[18:49:01] [34mDEBUG[39m: [36mAdded to merge queue[39m
    [35mmodule[39m: "git"
    [35mbranch[39m: "feature/b"
    [35mstepId[39m: "t2"
    [35magentId[39m: "a2"
    [35mmodifiedFilesCount[39m: 0
[18:49:01] [34mDEBUG[39m: [36mAdded to merge queue[39m
    [35mmodule[39m: "git"
    [35mbranch[39m: "feature/c"
    [35mstepId[39m: "t3"
    [35magentId[39m: "a3"
    [35mmodifiedFilesCount[39m: 0
[18:49:01] [34mDEBUG[39m: [36mAdded to merge queue[39m
    [35mmodule[39m: "git"
    [35mbranch[39m: "feature/a"
    [35mstepId[39m: "t1"
    [35magentId[39m: "a1"
    [35mmodifiedFilesCount[39m: 0
[18:49:01] [34mDEBUG[39m: [36mAdded to merge queue[39m
    [35mmodule[39m: "git"
    [35mbranch[39m: "feature/b"
    [35mstepId[39m: "t2"
    [35magentId[39m: "a2"
    [35mmodifiedFilesCount[39m: 0
[18:49:01] [34mDEBUG[39m: [36mAdded to merge queue[39m
    [35mmodule[39m: "git"
    [35mbranch[39m: "feature/c"
    [35mstepId[39m: "t3"
    [35magentId[39m: "a3"
    [35mmodifiedFilesCount[39m: 0
[18:49:01] [34mDEBUG[39m: [36mAdded to merge queue[39m
    [35mmodule[39m: "git"
    [35mbranch[39m: "feature/d"
    [35mstepId[39m: "t4"
    [35magentId[39m: "a4"
    [35mmodifiedFilesCount[39m: 0
[18:49:01] [34mDEBUG[39m: [36mAdded to merge queue[39m
    [35mmodule[39m: "git"
    [35mbranch[39m: "feature/a"
    [35mstepId[39m: "t1"
    [35magentId[39m: "a1"
    [35mmodifiedFilesCount[39m: 0
[18:49:01] [34mDEBUG[39m: [36mAttempting clean merge[39m
    [35mmodule[39m: "git"
    [35mbranch[39m: "feature/test"
    [35mstrategy[39m: "default"
[18:49:01] [32mINFO[39m: [36mClean merge succeeded[39m
    [35mmodule[39m: "git"
    [35mbranch[39m: "feature/test"
    [35mstrategy[39m: "default"
[18:49:01] [34mDEBUG[39m: [36mAttempting clean merge[39m
    [35mmodule[39m: "git"
    [35mbranch[39m: "feature/test"
    [35mstrategy[39m: "default"
[18:49:01] [34mDEBUG[39m: [36mClean merge failed, trying -X ours[39m
    [35mmodule[39m: "git"
    [35mbranch[39m: "feature/test"
[18:49:01] [34mDEBUG[39m: [36mAttempting merge with -X ours[39m
    [35mmodule[39m: "git"
    [35mbranch[39m: "feature/test"
    [35mstrategy[39m: "ours"
[18:49:01] [32mINFO[39m: [36mMerge succeeded with -X ours[39m
    [35mmodule[39m: "git"
    [35mbranch[39m: "feature/test"
    [35mstrategy[39m: "ours"
[18:49:01] [34mDEBUG[39m: [36mAttempting clean merge[39m
    [35mmodule[39m: "git"
    [35mbranch[39m: "feature/test"
    [35mstrategy[39m: "default"
[18:49:01] [34mDEBUG[39m: [36mClean merge failed, trying -X ours[39m
    [35mmodule[39m: "git"
    [35mbranch[39m: "feature/test"
[18:49:01] [34mDEBUG[39m: [36mAttempting merge with -X ours[39m
    [35mmodule[39m: "git"
    [35mbranch[39m: "feature/test"
    [35mstrategy[39m: "ours"
[18:49:01] [34mDEBUG[39m: [36m-X ours failed, conflicts are truly unresolvable[39m
    [35mmodule[39m: "git"
    [35mbranch[39m: "feature/test"
[18:49:01] [34mDEBUG[39m: [36mAll strategies failed, getting conflict info[39m
    [35mmodule[39m: "git"
    [35mbranch[39m: "feature/test"
[18:49:01] [33mWARN[39m: [36mMerge failed - truly unresolvable conflicts require manual resolution[39m
    [35mmodule[39m: "git"
    [35mbranch[39m: "feature/test"
    [35mconflictFiles[39m: [
      "file1.ts",
      "file2.ts"
    ]
    [35mconflictCount[39m: 2
[18:49:01] [34mDEBUG[39m: [36mAdded to merge queue[39m
    [35mmodule[39m: "git"
    [35mbranch[39m: "branch1"
    [35mstepId[39m: "t1"
    [35magentId[39m: "a1"
    [35mmodifiedFilesCount[39m: 0
[18:49:01] [34mDEBUG[39m: [36mAdded to merge queue[39m
    [35mmodule[39m: "git"
    [35mbranch[39m: "branch2"
    [35mstepId[39m: "t2"
    [35magentId[39m: "a2"
    [35mmodifiedFilesCount[39m: 0
[18:49:01] [34mDEBUG[39m: [36mAdded to merge queue[39m
    [35mmodule[39m: "git"
    [35mbranch[39m: "feature/test"
    [35mstepId[39m: "step-123"
    [35magentId[39m: "agent-1"
    [35mmodifiedFilesCount[39m: 0
[18:49:01] [34mDEBUG[39m: [36mAdded to merge queue[39m
    [35mmodule[39m: "git"
    [35mbranch[39m: "branch1"
    [35mstepId[39m: "t1"
    [35magentId[39m: "a1"
    [35mmodifiedFilesCount[39m: 0
[18:49:01] [34mDEBUG[39m: [36mAdded to merge queue[39m
    [35mmodule[39m: "git"
    [35mbranch[39m: "branch1"
    [35mstepId[39m: "t1"
    [35magentId[39m: "a1"
    [35mmodifiedFilesCount[39m: 0
[18:49:01] [34mDEBUG[39m: [36mAdded to merge queue[39m
    [35mmodule[39m: "git"
    [35mbranch[39m: "branch1"
    [35mstepId[39m: "t1"
    [35magentId[39m: "a1"
    [35mmodifiedFilesCount[39m: 0
[18:49:01] [34mDEBUG[39m: [36mAdded to merge queue[39m
    [35mmodule[39m: "git"
    [35mbranch[39m: "branch1"
    [35mstepId[39m: "t1"
    [35magentId[39m: "a1"
    [35mmodifiedFilesCount[39m: 0
[18:49:01] [34mDEBUG[39m: [36mAdded to merge queue[39m
    [35mmodule[39m: "git"
    [35mbranch[39m: "branch1"
    [35mstepId[39m: "t1"
    [35magentId[39m: "a1"
    [35mmodifiedFilesCount[39m: 0
[18:49:01] [34mDEBUG[39m: [36mAdded to merge queue[39m
    [35mmodule[39m: "git"
    [35mbranch[39m: "branch1"
    [35mstepId[39m: "t1"
    [35magentId[39m: "a1"
    [35mmodifiedFilesCount[39m: 0
[18:49:01] [34mDEBUG[39m: [36mAdded to merge queue[39m
    [35mmodule[39m: "git"
    [35mbranch[39m: "branch2"
    [35mstepId[39m: "t2"
    [35magentId[39m: "a2"
    [35mmodifiedFilesCount[39m: 0
[18:49:01] [34mDEBUG[39m: [36mAdded to merge queue[39m
    [35mmodule[39m: "git"
    [35mbranch[39m: "branch3"
    [35mstepId[39m: "t3"
    [35magentId[39m: "a3"
    [35mmodifiedFilesCount[39m: 0
[18:49:01] [34mDEBUG[39m: [36mAdded to merge queue[39m
    [35mmodule[39m: "git"
    [35mbranch[39m: "branch4"
    [35mstepId[39m: "t4"
    [35magentId[39m: "a4"
    [35mmodifiedFilesCount[39m: 0
[18:49:01] [34mDEBUG[39m: [36mAdded to merge queue[39m
    [35mmodule[39m: "git"
    [35mbranch[39m: "branch1"
    [35mstepId[39m: "t1"
    [35magentId[39m: "a1"
    [35mmodifiedFilesCount[39m: 0
[18:49:01] [34mDEBUG[39m: [36mAdded to merge queue[39m
    [35mmodule[39m: "git"
    [35mbranch[39m: "branch2"
    [35mstepId[39m: "t2"
    [35magentId[39m: "a2"
    [35mmodifiedFilesCount[39m: 0
[18:49:01] [34mDEBUG[39m: [36mAdded to merge queue[39m
    [35mmodule[39m: "git"
    [35mbranch[39m: "branch3"
    [35mstepId[39m: "t3"
    [35magentId[39m: "a3"
    [35mmodifiedFilesCount[39m: 0
[18:49:01] [34mDEBUG[39m: [36mAdded to merge queue[39m
    [35mmodule[39m: "git"
    [35mbranch[39m: "branch1"
    [35mstepId[39m: "t1"
    [35magentId[39m: "a1"
    [35mmodifiedFilesCount[39m: 0
[18:49:01] [34mDEBUG[39m: [36mAdded to merge queue[39m
    [35mmodule[39m: "git"
    [35mbranch[39m: "branch2"
    [35mstepId[39m: "t2"
    [35magentId[39m: "a2"
    [35mmodifiedFilesCount[39m: 0
[18:49:01] [34mDEBUG[39m: [36mAdded to merge queue[39m
    [35mmodule[39m: "git"
    [35mbranch[39m: "branch3"
    [35mstepId[39m: "t3"
    [35magentId[39m: "a3"
    [35mmodifiedFilesCount[39m: 0
[18:49:01] [34mDEBUG[39m: [36mAdded to merge queue[39m
    [35mmodule[39m: "git"
    [35mbranch[39m: "branch1"
    [35mstepId[39m: "t1"
    [35magentId[39m: "a1"
    [35mmodifiedFilesCount[39m: 0
[18:49:01] [34mDEBUG[39m: [36mAdded to merge queue[39m
    [35mmodule[39m: "git"
    [35mbranch[39m: "branch2"
    [35mstepId[39m: "t2"
    [35magentId[39m: "a2"
    [35mmodifiedFilesCount[39m: 0
[18:49:01] [34mDEBUG[39m: [36mAdded to merge queue[39m
    [35mmodule[39m: "git"
    [35mbranch[39m: "branch3"
    [35mstepId[39m: "t3"
    [35magentId[39m: "a3"
    [35mmodifiedFilesCount[39m: 0
[18:49:01] [34mDEBUG[39m: [36mAdded to merge queue[39m
    [35mmodule[39m: "git"
    [35mbranch[39m: "branch4"
    [35mstepId[39m: "t4"
    [35magentId[39m: "a4"
    [35mmodifiedFilesCount[39m: 0
[18:49:01] [34mDEBUG[39m: [36mAdded to merge queue[39m
    [35mmodule[39m: "git"
    [35mbranch[39m: "branch5"
    [35mstepId[39m: "t5"
    [35magentId[39m: "a5"
    [35mmodifiedFilesCount[39m: 0
[18:49:01] [34mDEBUG[39m: [36mAdded to merge queue[39m
    [35mmodule[39m: "git"
    [35mbranch[39m: "branch6"
    [35mstepId[39m: "t6"
    [35magentId[39m: "a6"
    [35mmodifiedFilesCount[39m: 0
[18:49:01] [34mDEBUG[39m: [36mAdded to merge queue[39m
    [35mmodule[39m: "git"
    [35mbranch[39m: "branch7"
    [35mstepId[39m: "t7"
    [35magentId[39m: "a7"
    [35mmodifiedFilesCount[39m: 0
[18:49:01] [34mDEBUG[39m: [36mAdded to merge queue[39m
    [35mmodule[39m: "git"
    [35mbranch[39m: "branch8"
    [35mstepId[39m: "t8"
    [35magentId[39m: "a8"
    [35mmodifiedFilesCount[39m: 0
[18:49:01] [34mDEBUG[39m: [36mAdded to merge queue[39m
    [35mmodule[39m: "git"
    [35mbranch[39m: "branch1"
    [35mstepId[39m: "t1"
    [35magentId[39m: "a1"
    [35mmodifiedFilesCount[39m: 0
[18:49:01] [34mDEBUG[39m: [36mAdded to merge queue[39m
    [35mmodule[39m: "git"
    [35mbranch[39m: "branch2"
    [35mstepId[39m: "t2"
    [35magentId[39m: "a2"
    [35mmodifiedFilesCount[39m: 0
[18:49:01] [34mDEBUG[39m: [36mAdded to merge queue[39m
    [35mmodule[39m: "git"
    [35mbranch[39m: "branch3"
    [35mstepId[39m: "t3"
    [35magentId[39m: "a3"
    [35mmodifiedFilesCount[39m: 0
[18:49:01] [34mDEBUG[39m: [36mAdded to merge queue[39m
    [35mmodule[39m: "git"
    [35mbranch[39m: "branch1"
    [35mstepId[39m: "t1"
    [35magentId[39m: "a1"
    [35mmodifiedFilesCount[39m: 0
[18:49:01] [34mDEBUG[39m: [36mAdded to merge queue[39m
    [35mmodule[39m: "git"
    [35mbranch[39m: "branch2"
    [35mstepId[39m: "t2"
    [35magentId[39m: "a2"
    [35mmodifiedFilesCount[39m: 0
[18:49:01] [34mDEBUG[39m: [36mAdded to merge queue[39m
    [35mmodule[39m: "git"
    [35mbranch[39m: "branch3"
    [35mstepId[39m: "t3"
    [35magentId[39m: "a3"
    [35mmodifiedFilesCount[39m: 0
[18:49:01] [34mDEBUG[39m: [36mAdded to merge queue[39m
    [35mmodule[39m: "git"
    [35mbranch[39m: "branch0"
    [35mstepId[39m: "t0"
    [35magentId[39m: "a0"
    [35mmodifiedFilesCount[39m: 0
[18:49:01] [34mDEBUG[39m: [36mAdded to merge queue[39m
    [35mmodule[39m: "git"
    [35mbranch[39m: "branch1"
    [35mstepId[39m: "t1"
    [35magentId[39m: "a1"
    [35mmodifiedFilesCount[39m: 0
[18:49:01] [34mDEBUG[39m: [36mAdded to merge queue[39m
    [35mmodule[39m: "git"
    [35mbranch[39m: "branch2"
    [35mstepId[39m: "t2"
    [35magentId[39m: "a2"
    [35mmodifiedFilesCount[39m: 0
[18:49:01] [34mDEBUG[39m: [36mAdded to merge queue[39m
    [35mmodule[39m: "git"
    [35mbranch[39m: "branch3"
    [35mstepId[39m: "t3"
    [35magentId[39m: "a3"
    [35mmodifiedFilesCount[39m: 0
[18:49:01] [34mDEBUG[39m: [36mAdded to merge queue[39m
    [35mmodule[39m: "git"
    [35mbranch[39m: "branch4"
    [35mstepId[39m: "t4"
    [35magentId[39m: "a4"
    [35mmodifiedFilesCount[39m: 0
[18:49:01] [34mDEBUG[39m: [36mAdded to merge queue[39m
    [35mmodule[39m: "git"
    [35mbranch[39m: "branch5"
    [35mstepId[39m: "t5"
    [35magentId[39m: "a5"
    [35mmodifiedFilesCount[39m: 0
[18:49:01] [34mDEBUG[39m: [36mAdded to merge queue[39m
    [35mmodule[39m: "git"
    [35mbranch[39m: "branch6"
    [35mstepId[39m: "t6"
    [35magentId[39m: "a6"
    [35mmodifiedFilesCount[39m: 0
[18:49:01] [34mDEBUG[39m: [36mAdded to merge queue[39m
    [35mmodule[39m: "git"
    [35mbranch[39m: "branch7"
    [35mstepId[39m: "t7"
    [35magentId[39m: "a7"
    [35mmodifiedFilesCount[39m: 0
[18:49:01] [34mDEBUG[39m: [36mAdded to merge queue[39m
    [35mmodule[39m: "git"
    [35mbranch[39m: "branch8"
    [35mstepId[39m: "t8"
    [35magentId[39m: "a8"
    [35mmodifiedFilesCount[39m: 0
[18:49:01] [34mDEBUG[39m: [36mAdded to merge queue[39m
    [35mmodule[39m: "git"
    [35mbranch[39m: "branch9"
    [35mstepId[39m: "t9"
    [35magentId[39m: "a9"
    [35mmodifiedFilesCount[39m: 0
[18:49:01] [34mDEBUG[39m: [36mAdded to merge queue[39m
    [35mmodule[39m: "git"
    [35mbranch[39m: "branch10"
    [35mstepId[39m: "t10"
    [35magentId[39m: "a10"
    [35mmodifiedFilesCount[39m: 0
[18:49:01] [34mDEBUG[39m: [36mAdded to merge queue[39m
    [35mmodule[39m: "git"
    [35mbranch[39m: "branch11"
    [35mstepId[39m: "t11"
    [35magentId[39m: "a11"
    [35mmodifiedFilesCount[39m: 0
[18:49:01] [34mDEBUG[39m: [36mAdded to merge queue[39m
    [35mmodule[39m: "git"
    [35mbranch[39m: "branch12"
    [35mstepId[39m: "t12"
    [35magentId[39m: "a12"
    [35mmodifiedFilesCount[39m: 0
[18:49:01] [34mDEBUG[39m: [36mAdded to merge queue[39m
    [35mmodule[39m: "git"
    [35mbranch[39m: "branch13"
    [35mstepId[39m: "t13"
    [35magentId[39m: "a13"
    [35mmodifiedFilesCount[39m: 0
[18:49:01] [34mDEBUG[39m: [36mAdded to merge queue[39m
    [35mmodule[39m: "git"
    [35mbranch[39m: "branch14"
    [35mstepId[39m: "t14"
    [35magentId[39m: "a14"
    [35mmodifiedFilesCount[39m: 0
[18:49:01] [34mDEBUG[39m: [36mAdded to merge queue[39m
    [35mmodule[39m: "git"
    [35mbranch[39m: "branch15"
    [35mstepId[39m: "t15"
    [35magentId[39m: "a15"
    [35mmodifiedFilesCount[39m: 0
 [32mâœ“[39m src/__tests__/subtask-isolation.test.ts [2m([22m[2m20 tests[22m[2m)[22m[32m 86[2mms[22m[39m
[18:49:01] [32mINFO[39m: [36mMerged overlapping subtasks to prevent file conflicts[39m
    [35mmodule[39m: "task-decomposer"
    [35mmergedCount[39m: 2
    [35mfiles[39m: [
      "src/auth.ts"
    ]
    [35mobjectives[39m: [
      "In src/auth.ts, add validation",
      "In src/auth.ts, add error handling"
    ]
[18:49:01] [32mINFO[39m: [36mMerged overlapping subtasks to prevent file conflicts[39m
    [35mmodule[39m: "task-decomposer"
    [35mmergedCount[39m: 2
    [35mfiles[39m: [
      "src/a.ts",
      "src/shared.ts",
      "src/b.ts"
    ]
    [35mobjectives[39m: [
      "Task A",
      "Task B"
    ]
[18:49:01] [32mINFO[39m: [36mMerged overlapping subtasks to prevent file conflicts[39m
    [35mmodule[39m: "task-decomposer"
    [35mmergedCount[39m: 2
    [35mfiles[39m: [
      "src/Auth.ts",
      "src/auth.ts"
    ]
    [35mobjectives[39m: [
      "Task A",
      "Task B"
    ]
[18:49:01] [32mINFO[39m: [36mMerged overlapping subtasks to prevent file conflicts[39m
    [35mmodule[39m: "task-decomposer"
    [35mmergedCount[39m: 2
    [35mfiles[39m: [
      "src/auth.ts",
      "src/types.ts",
      "src/utils.ts"
    ]
    [35mobjectives[39m: [
      "Task A",
      "Task B"
    ]
[18:49:01] [32mINFO[39m: [36mMigrating database schema[39m
    [35mmodule[39m: "storage"
    [35mcurrentVersion[39m: 0
    [35mtargetVersion[39m: 7
[18:49:01] [32mINFO[39m: [36mSQLite database initialized[39m
    [35mmodule[39m: "storage"
    [35mpath[39m: "/tmp/sibling-test-DH8nxu/.undercity/undercity.db"
[18:49:01] [34mDEBUG[39m: [36mDatabase connection closed[39m
    [35mmodule[39m: "storage"
[18:49:01] [32mINFO[39m: [36mMigrating database schema[39m
    [35mmodule[39m: "storage"
    [35mcurrentVersion[39m: 0
    [35mtargetVersion[39m: 7
[18:49:01] [32mINFO[39m: [36mSQLite database initialized[39m
    [35mmodule[39m: "storage"
    [35mpath[39m: "/tmp/sibling-test-RxXlb4/.undercity/undercity.db"
[18:49:01] [34mDEBUG[39m: [36mDatabase connection closed[39m
    [35mmodule[39m: "storage"
[18:49:01] [32mINFO[39m: [36mMigrating database schema[39m
    [35mmodule[39m: "storage"
    [35mcurrentVersion[39m: 0
    [35mtargetVersion[39m: 7
[18:49:01] [32mINFO[39m: [36mSQLite database initialized[39m
    [35mmodule[39m: "storage"
    [35mpath[39m: "/tmp/sibling-test-ExXni4/.undercity/undercity.db"
[18:49:01] [34mDEBUG[39m: [36mDatabase connection closed[39m
    [35mmodule[39m: "storage"
[18:49:01] [32mINFO[39m: [36mMigrating database schema[39m
    [35mmodule[39m: "storage"
    [35mcurrentVersion[39m: 0
    [35mtargetVersion[39m: 7
[18:49:01] [32mINFO[39m: [36mSQLite database initialized[39m
    [35mmodule[39m: "storage"
    [35mpath[39m: "/tmp/sibling-test-IV7XD3/.undercity/undercity.db"
[18:49:01] [34mDEBUG[39m: [36mDatabase connection closed[39m
    [35mmodule[39m: "storage"
[18:49:01] [32mINFO[39m: [36mMigrating database schema[39m
    [35mmodule[39m: "storage"
    [35mcurrentVersion[39m: 0
    [35mtargetVersion[39m: 7
[18:49:01] [32mINFO[39m: [36mSQLite database initialized[39m
    [35mmodule[39m: "storage"
    [35mpath[39m: "/tmp/sibling-test-CgAL8E/.undercity/undercity.db"
[18:49:01] [34mDEBUG[39m: [36mDatabase connection closed[39m
    [35mmodule[39m: "storage"
[18:49:01] [32mINFO[39m: [36mMigrating database schema[39m
    [35mmodule[39m: "storage"
    [35mcurrentVersion[39m: 0
    [35mtargetVersion[39m: 7
[18:49:01] [32mINFO[39m: [36mSQLite database initialized[39m
    [35mmodule[39m: "storage"
    [35mpath[39m: "/tmp/sibling-test-jG5Py6/.undercity/undercity.db"
[18:49:01] [34mDEBUG[39m: [36mDatabase connection closed[39m
    [35mmodule[39m: "storage"
[18:49:01] [34mDEBUG[39m: [36mAdded to merge queue[39m
    [35mmodule[39m: "git"
    [35mbranch[39m: "branch16"
    [35mstepId[39m: "t16"
    [35magentId[39m: "a16"
    [35mmodifiedFilesCount[39m: 0
 [32mâœ“[39m src/__tests__/metrics-phase-timing.test.ts [2m([22m[2m28 tests[22m[2m)[22m[32m 67[2mms[22m[39m
[18:49:01] [32mINFO[39m: [36mLocal tool detected - using minimal model[39m
    [35mmodule[39m: "session"
    [35mtask[39m: "test objective"
    [35massessmentType[39m: "local_tool"
    [35mrecommendedModel[39m: "sonnet"
    [35mlocalToolCommand[39m: "pnpm test"
[18:49:01] [32mINFO[39m: [36mLocal tool detected - using minimal model[39m
    [35mmodule[39m: "session"
    [35mtask[39m: "test objective"
    [35massessmentType[39m: "local_tool"
    [35mrecommendedModel[39m: "sonnet"
    [35mlocalToolCommand[39m: "pnpm test"
[18:49:01] [32mINFO[39m: [36mLocal tool detected - using minimal model[39m
    [35mmodule[39m: "session"
    [35mtask[39m: "test objective"
    [35massessmentType[39m: "local_tool"
    [35mrecommendedModel[39m: "sonnet"
    [35mlocalToolCommand[39m: "pnpm test"
[18:49:01] [32mINFO[39m: [36mLocal tool detected - using minimal model[39m
    [35mmodule[39m: "session"
    [35mtask[39m: "test objective"
    [35massessmentType[39m: "local_tool"
    [35mrecommendedModel[39m: "sonnet"
    [35mlocalToolCommand[39m: "pnpm test"
 [32mâœ“[39m src/__tests__/package-validator.test.ts [2m([22m[2m45 tests[22m[2m)[22m[32m 82[2mms[22m[39m
 [32mâœ“[39m src/__tests__/plan-link.test.ts [2m([22m[2m39 tests[22m[2m)[22m[32m 104[2mms[22m[39m
[18:49:02] [32mINFO[39m: [36mMigrating database schema[39m
    [35mmodule[39m: "storage"
    [35mcurrentVersion[39m: 0
    [35mtargetVersion[39m: 7
[18:49:02] [32mINFO[39m: [36mSQLite database initialized[39m
    [35mmodule[39m: "storage"
    [35mpath[39m: "/tmp/research-roi-test-IbTPQA/undercity.db"
 [32mâœ“[39m src/__tests__/research-roi.test.ts [2m([22m[2m21 tests[22m[2m)[22m[32m 81[2mms[22m[39m
 [32mâœ“[39m src/__tests__/metrics-file-prediction.test.ts [2m([22m[2m32 tests[22m[2m)[22m[32m 68[2mms[22m[39m
[18:49:02] [32mINFO[39m: [36mLocal tool detected - using minimal model[39m
    [35mmodule[39m: "session"
    [35mtask[39m: "Test objective"
    [35massessmentType[39m: "local_tool"
    [35mrecommendedModel[39m: "sonnet"
    [35mlocalToolCommand[39m: "pnpm test"
[18:49:02] [32mINFO[39m: [36mLocal tool detected - using minimal model[39m
    [35mmodule[39m: "session"
    [35mtask[39m: "Test objective"
    [35massessmentType[39m: "local_tool"
    [35mrecommendedModel[39m: "sonnet"
    [35mlocalToolCommand[39m: "pnpm test"
[18:49:02] [32mINFO[39m: [36mLocal tool detected - using minimal model[39m
    [35mmodule[39m: "session"
    [35mtask[39m: "Test objective"
    [35massessmentType[39m: "local_tool"
    [35mrecommendedModel[39m: "sonnet"
    [35mlocalToolCommand[39m: "pnpm test"
[18:49:02] [32mINFO[39m: [36mLocal tool detected - using minimal model[39m
    [35mmodule[39m: "session"
    [35mtask[39m: "Test objective"
    [35massessmentType[39m: "local_tool"
    [35mrecommendedModel[39m: "sonnet"
    [35mlocalToolCommand[39m: "pnpm test"
[18:49:02] [32mINFO[39m: [36mLocal tool detected - using minimal model[39m
    [35mmodule[39m: "session"
    [35mtask[39m: "Test objective"
    [35massessmentType[39m: "local_tool"
    [35mrecommendedModel[39m: "sonnet"
    [35mlocalToolCommand[39m: "pnpm test"
[18:49:02] [32mINFO[39m: [36mLocal tool detected - using minimal model[39m
    [35mmodule[39m: "session"
    [35mtask[39m: "Test objective"
    [35massessmentType[39m: "local_tool"
    [35mrecommendedModel[39m: "sonnet"
    [35mlocalToolCommand[39m: "pnpm test"
[18:49:02] [32mINFO[39m: [36mLocal tool detected - using minimal model[39m
    [35mmodule[39m: "session"
    [35mtask[39m: "Test objective"
    [35massessmentType[39m: "local_tool"
    [35mrecommendedModel[39m: "sonnet"
    [35mlocalToolCommand[39m: "pnpm test"
[18:49:02] [32mINFO[39m: [36mLocal tool detected - using minimal model[39m
    [35mmodule[39m: "session"
    [35mtask[39m: "Test objective"
    [35massessmentType[39m: "local_tool"
    [35mrecommendedModel[39m: "sonnet"
    [35mlocalToolCommand[39m: "pnpm test"
[18:49:02] [32mINFO[39m: [36mLocal tool detected - using minimal model[39m
    [35mmodule[39m: "session"
    [35mtask[39m: "Test objective"
    [35massessmentType[39m: "local_tool"
    [35mrecommendedModel[39m: "sonnet"
    [35mlocalToolCommand[39m: "pnpm test"
[18:49:02] [32mINFO[39m: [36mLocal tool detected - using minimal model[39m
    [35mmodule[39m: "session"
    [35mtask[39m: "Test objective"
    [35massessmentType[39m: "local_tool"
    [35mrecommendedModel[39m: "sonnet"
    [35mlocalToolCommand[39m: "pnpm test"
[18:49:02] [32mINFO[39m: [36mLocal tool detected - using minimal model[39m
    [35mmodule[39m: "session"
    [35mtask[39m: "Test objective"
    [35massessmentType[39m: "local_tool"
    [35mrecommendedModel[39m: "sonnet"
    [35mlocalToolCommand[39m: "pnpm test"
[18:49:02] [32mINFO[39m: [36mLocal tool detected - using minimal model[39m
    [35mmodule[39m: "session"
    [35mtask[39m: "Test objective"
    [35massessmentType[39m: "local_tool"
    [35mrecommendedModel[39m: "sonnet"
    [35mlocalToolCommand[39m: "pnpm test"
[18:49:02] [32mINFO[39m: [36mLocal tool detected - using minimal model[39m
    [35mmodule[39m: "session"
    [35mtask[39m: "Test objective"
    [35massessmentType[39m: "local_tool"
    [35mrecommendedModel[39m: "sonnet"
    [35mlocalToolCommand[39m: "pnpm test"
[18:49:02] [32mINFO[39m: [36mLocal tool detected - using minimal model[39m
    [35mmodule[39m: "session"
    [35mtask[39m: "Test objective"
    [35massessmentType[39m: "local_tool"
    [35mrecommendedModel[39m: "sonnet"
    [35mlocalToolCommand[39m: "pnpm test"
[18:49:02] [32mINFO[39m: [36mLocal tool detected - using minimal model[39m
    [35mmodule[39m: "session"
    [35mtask[39m: "Test objective"
    [35massessmentType[39m: "local_tool"
    [35mrecommendedModel[39m: "sonnet"
    [35mlocalToolCommand[39m: "pnpm test"
 [32mâœ“[39m src/__tests__/cli.test.ts [2m([22m[2m43 tests[22m[2m)[22m[32m 60[2mms[22m[39m
 [32mâœ“[39m src/__tests__/knowledge-extractor.test.ts [2m([22m[2m22 tests[22m[2m)[22m[32m 62[2mms[22m[39m
[18:49:02] [32mINFO[39m: [36mExtracted and stored learnings[39m
    [35mmodule[39m: "session"
    [35mtaskId[39m: "task-123"
    [35mcount[39m: 1
[18:49:02] [34mDEBUG[39m: [36mIndexed learnings to RAG[39m
    [35mmodule[39m: "session"
    [35mtaskId[39m: "task-123"
    [35mcount[39m: 1
[18:49:02] [32mINFO[39m: [36mExtracted and stored learnings[39m
    [35mmodule[39m: "session"
    [35mtaskId[39m: "task-456"
    [35mcount[39m: 1
[18:49:02] [34mDEBUG[39m: [36mIndexed learnings to RAG[39m
    [35mmodule[39m: "session"
    [35mtaskId[39m: "task-456"
    [35mcount[39m: 1
[18:49:02] [32mINFO[39m: [36mExtracted and stored learnings[39m
    [35mmodule[39m: "session"
    [35mtaskId[39m: "task-789"
    [35mcount[39m: 1
[18:49:02] [34mDEBUG[39m: [36mIndexed learnings to RAG[39m
    [35mmodule[39m: "session"
    [35mtaskId[39m: "task-789"
    [35mcount[39m: 1
[18:49:02] [32mINFO[39m: [36mExtracted and stored learnings[39m
    [35mmodule[39m: "session"
    [35mtaskId[39m: "task-111"
    [35mcount[39m: 1
[18:49:02] [34mDEBUG[39m: [36mIndexed learnings to RAG[39m
    [35mmodule[39m: "session"
    [35mtaskId[39m: "task-111"
    [35mcount[39m: 1
[18:49:02] [32mINFO[39m: [36mExtracted and stored learnings[39m
    [35mmodule[39m: "session"
    [35mtaskId[39m: "task-222"
    [35mcount[39m: 1
[18:49:02] [34mDEBUG[39m: [36mIndexed learnings to RAG[39m
    [35mmodule[39m: "session"
    [35mtaskId[39m: "task-222"
    [35mcount[39m: 1
[18:49:02] [32mINFO[39m: [36mExtracted and stored learnings[39m
    [35mmodule[39m: "session"
    [35mtaskId[39m: "task-333"
    [35mcount[39m: 1
[18:49:02] [34mDEBUG[39m: [36mFailed to index learnings to RAG[39m
    [35mmodule[39m: "session"
    error: "Error: RAG connection failed"
[18:49:02] [32mINFO[39m: [36mExtracted and stored learnings[39m
    [35mmodule[39m: "session"
    [35mtaskId[39m: "task-quality-test"
    [35mcount[39m: 1
[18:49:02] [34mDEBUG[39m: [36mIndexed learnings to RAG[39m
    [35mmodule[39m: "session"
    [35mtaskId[39m: "task-quality-test"
    [35mcount[39m: 1
[18:49:02] [32mINFO[39m: [36mExtracted and stored learnings[39m
    [35mmodule[39m: "session"
    [35mtaskId[39m: "task-555"
    [35mcount[39m: 3
[18:49:02] [34mDEBUG[39m: [36mIndexed learnings to RAG[39m
    [35mmodule[39m: "session"
    [35mtaskId[39m: "task-555"
    [35mcount[39m: 3
[18:49:02] [32mINFO[39m: [36mExtracted and stored learnings[39m
    [35mmodule[39m: "session"
    [35mtaskId[39m: "task-666"
    [35mcount[39m: 1
[18:49:02] [34mDEBUG[39m: [36mIndexed learnings to RAG[39m
    [35mmodule[39m: "session"
    [35mtaskId[39m: "task-666"
    [35mcount[39m: 1
[18:49:02] [32mINFO[39m: [36mExtracted and stored learnings[39m
    [35mmodule[39m: "session"
    [35mtaskId[39m: "task-777"
    [35mcount[39m: 1
[18:49:02] [34mDEBUG[39m: [36mIndexed learnings to RAG[39m
    [35mmodule[39m: "session"
    [35mtaskId[39m: "task-777"
    [35mcount[39m: 1
[18:49:02] [32mINFO[39m: [36mExtracted and stored learnings[39m
    [35mmodule[39m: "session"
    [35mtaskId[39m: "task-888"
    [35mcount[39m: 2
[18:49:02] [34mDEBUG[39m: [36mIndexed learnings to RAG[39m
    [35mmodule[39m: "session"
    [35mtaskId[39m: "task-888"
    [35mcount[39m: 2
 [32mâœ“[39m src/__tests__/task-validator-clarity.test.ts [2m([22m[2m63 tests[22m[2m)[22m[32m 33[2mms[22m[39m
 [32mâœ“[39m src/__tests__/content-sanitizer.test.ts [2m([22m[2m42 tests[22m[2m)[22m[32m 41[2mms[22m[39m
 [32mâœ“[39m src/__tests__/automated-pm-rag.test.ts [2m([22m[2m9 tests[22m[2m)[22m[32m 28[2mms[22m[39m
 [32mâœ“[39m src/__tests__/output.test.ts [2m([22m[2m48 tests[22m[2m)[22m[32m 42[2mms[22m[39m
 [32mâœ“[39m src/__tests__/url-validator.test.ts [2m([22m[2m81 tests[22m[2m)[22m[32m 49[2mms[22m[39m
 [32mâœ“[39m src/__tests__/verification.test.ts [2m([22m[2m39 tests[22m[2m)[22m[32m 43[2mms[22m[39m
 [32mâœ“[39m src/__tests__/task-analyzer.test.ts [2m([22m[2m24 tests[22m[2m)[22m[32m 25[2mms[22m[39m
 [32mâœ“[39m src/__tests__/worker-verification-handler.test.ts [2m([22m[2m17 tests[22m[2m)[22m[32m 53[2mms[22m[39m
 [32mâœ“[39m src/__tests__/file-tracker.test.ts [2m([22m[2m53 tests[22m[2m)[22m[32m 39[2mms[22m[39m
 [32mâœ“[39m src/__tests__/worker-stop-hooks.test.ts [2m([22m[2m22 tests[22m[2m)[22m[32m 25[2mms[22m[39m
 [32mâœ“[39m src/__tests__/orchestrator-merge-helpers.test.ts [2m([22m[2m19 tests[22m[2m)[22m[32m 42[2mms[22m[39m
 [32mâœ“[39m src/__tests__/meta-tasks.test.ts [2m([22m[2m45 tests[22m[2m)[22m[32m 22[2mms[22m[39m
 [32mâœ“[39m src/__tests__/worker-task-results.test.ts [2m([22m[2m27 tests[22m[2m)[22m[32m 17[2mms[22m[39m
[90mstderr[2m | src/__tests__/task-schema.test.ts[2m > [22m[2mtask-schema[2m > [22m[2mparseMetaTaskResult[2m > [22m[2mshould reject invalid action types
[22m[39mInvalid meta-task action: explode

[90mstderr[2m | src/__tests__/task-schema.test.ts[2m > [22m[2mtask-schema[2m > [22m[2mparseMetaTaskResult[2m > [22m[2mshould reject missing reason
[22m[39mMissing reason in recommendation

[90mstderr[2m | src/__tests__/task-schema.test.ts[2m > [22m[2mtask-schema[2m > [22m[2mparseMetaTaskResult[2m > [22m[2mshould reject invalid confidence scores
[22m[39mInvalid confidence: [33m1.5[39m

[90mstderr[2m | src/__tests__/task-schema.test.ts[2m > [22m[2mtask-schema[2m > [22m[2mparseMetaTaskResult[2m > [22m[2mshould reject negative confidence scores
[22m[39mInvalid confidence: [33m-0.5[39m

 [32mâœ“[39m src/__tests__/task-schema.test.ts [2m([22m[2m42 tests[22m[2m)[22m[32m 21[2mms[22m[39m
 [32mâœ“[39m src/__tests__/orchestrator-git-utils.test.ts [2m([22m[2m13 tests[22m[2m)[22m[32m 22[2mms[22m[39m
[18:49:04] [34mDEBUG[39m: [36mMCP tool call[39m
    [35mmodule[39m: "server"
    [35mtoolName[39m: "oracle_search"
    [35mparams[39m: {
      "query": "assumption"
    }
 [32mâœ“[39m src/__tests__/oracle-mcp-integration.test.ts [2m([22m[2m25 tests[22m[2m)[22m[32m 59[2mms[22m[39m
[18:49:04] [34mDEBUG[39m: [36mMCP tool call[39m
    [35mmodule[39m: "server"
    [35mtoolName[39m: "oracle_search"
    [35mparams[39m: {
      "query": "ASSUMPTION"
    }
[18:49:04] [34mDEBUG[39m: [36mMCP tool call[39m
    [35mmodule[39m: "server"
    [35mtoolName[39m: "oracle_search"
    [35mparams[39m: {
      "query": "xyznonexistentkeyword123"
    }
[18:49:04] [34mDEBUG[39m: [36mMCP tool call[39m
    [35mmodule[39m: "server"
    [35mtoolName[39m: "oracle_search"
    [35mparams[39m: {
      "query": "",
      "category": "questioning"
    }
[18:49:04] [34mDEBUG[39m: [36mMCP tool call[39m
    [35mmodule[39m: "server"
    [35mtoolName[39m: "oracle_search"
    [35mparams[39m: {
      "query": "pattern",
      "category": "exploration"
    }
[18:49:04] [34mDEBUG[39m: [36mMCP tool call[39m
    [35mmodule[39m: "server"
    [35mtoolName[39m: "oracle_search"
    [35mparams[39m: {
      "query": "test",
      "category": "invalid_category"
    }
[18:49:04] [31mERROR[39m: [36mMCP request error[39m
    [35mmodule[39m: "server"
    [35mrequest[39m: {
      "jsonrpc": "2.0",
      "id": 7,
      "method": "tools/call",
      "params": {
        "name": "oracle_search",
        "arguments": {
          "query": "test",
          "category": "invalid_category"
        }
      }
    }
    error: {}
[18:49:04] [34mDEBUG[39m: [36mMCP tool call[39m
    [35mmodule[39m: "server"
    [35mtoolName[39m: "oracle_search"
    [35mparams[39m: {
      "query": "error test"
    }
[18:49:04] [34mDEBUG[39m: [36mMCP tool call[39m
    [35mmodule[39m: "server"
    [35mtoolName[39m: "oracle_search"
    [35mparams[39m: {
      "query": "assumption"
    }
[18:49:04] [34mDEBUG[39m: [36mMCP tool call[39m
    [35mmodule[39m: "server"
    [35mtoolName[39m: "oracle_search"
    [35mparams[39m: {
      "query": "assumption"
    }
[18:49:04] [34mDEBUG[39m: [36mMCP tool call[39m
    [35mmodule[39m: "server"
    [35mtoolName[39m: "oracle_search"
    [35mparams[39m: {}
[18:49:04] [31mERROR[39m: [36mMCP request error[39m
    [35mmodule[39m: "server"
    [35mrequest[39m: {
      "jsonrpc": "2.0",
      "id": 11,
      "method": "tools/call",
      "params": {
        "name": "oracle_search",
        "arguments": {}
      }
    }
    error: {}
[18:49:04] [34mDEBUG[39m: [36mMCP tool call[39m
    [35mmodule[39m: "server"
    [35mtoolName[39m: "oracle_search"
    [35mparams[39m: {
      "query": 123
    }
[18:49:04] [31mERROR[39m: [36mMCP request error[39m
    [35mmodule[39m: "server"
    [35mrequest[39m: {
      "jsonrpc": "2.0",
      "id": 12,
      "method": "tools/call",
      "params": {
        "name": "oracle_search",
        "arguments": {
          "query": 123
        }
      }
    }
    error: {}
[18:49:04] [34mDEBUG[39m: [36mMCP tool call[39m
    [35mmodule[39m: "server"
    [35mtoolName[39m: "oracle_search"
    [35mparams[39m: {
      "query": ""
    }
[18:49:04] [34mDEBUG[39m: [36mMCP tool call[39m
    [35mmodule[39m: "server"
    [35mtoolName[39m: "oracle_search"
    [35mparams[39m: {
      "query": "   "
    }
[18:49:04] [34mDEBUG[39m: [36mMCP tool call[39m
    [35mmodule[39m: "server"
    [35mtoolName[39m: "oracle_search"
    [35mparams[39m: {
      "query": "assumption"
    }
[18:49:04] [34mDEBUG[39m: [36mMCP tool call[39m
    [35mmodule[39m: "server"
    [35mtoolName[39m: "oracle_search"
    [35mparams[39m: {
      "query": ""
    }
[18:49:04] [34mDEBUG[39m: [36mMCP tool call[39m
    [35mmodule[39m: "server"
    [35mtoolName[39m: "oracle_search"
    [35mparams[39m: {
      "query": "problem"
    }
[18:49:04] [34mDEBUG[39m: [36mMCP tool call[39m
    [35mmodule[39m: "server"
    [35mtoolName[39m: "oracle_search"
    [35mparams[39m: {
      "query": "test"
    }
[18:49:04] [34mDEBUG[39m: [36mMCP tool call[39m
    [35mmodule[39m: "server"
    [35mtoolName[39m: "oracle_search"
    [35mparams[39m: {
      "query": "test",
      "category": "exploration"
    }
[18:49:04] [34mDEBUG[39m: [36mMCP tool call[39m
    [35mmodule[39m: "server"
    [35mtoolName[39m: "oracle_search"
    [35mparams[39m: {
      "query": "test",
      "category": "action"
    }
[18:49:04] [34mDEBUG[39m: [36mMCP tool call[39m
    [35mmodule[39m: "server"
    [35mtoolName[39m: "oracle_search"
    [35mparams[39m: {
      "query": "xyz_nonexistent_word_that_should_not_exist_anywhere_12345",
      "category": "questioning"
    }
[18:49:04] [34mDEBUG[39m: [36mMCP tool call[39m
    [35mmodule[39m: "server"
    [35mtoolName[39m: "oracle_search"
    [35mparams[39m: {
      "query": "",
      "category": "action"
    }
[18:49:04] [34mDEBUG[39m: [36mMCP tool call[39m
    [35mmodule[39m: "server"
    [35mtoolName[39m: "oracle_search"
    [35mparams[39m: {
      "query": "",
      "category": "perspective"
    }
[18:49:04] [34mDEBUG[39m: [36mMCP tool call[39m
    [35mmodule[39m: "server"
    [35mtoolName[39m: "oracle_search"
    [35mparams[39m: {
      "query": "",
      "category": "exploration"
    }
[18:49:04] [34mDEBUG[39m: [36mMCP tool call[39m
    [35mmodule[39m: "server"
    [35mtoolName[39m: "oracle_search"
    [35mparams[39m: {
      "query": "creativity",
      "category": "disruption"
    }
[18:49:04] [34mDEBUG[39m: [36mMCP tool call[39m
    [35mmodule[39m: "server"
    [35mtoolName[39m: "oracle_search"
    [35mparams[39m: {
      "query": "",
      "category": "action"
    }
[18:49:04] [34mDEBUG[39m: [36mMCP tool call[39m
    [35mmodule[39m: "server"
    [35mtoolName[39m: "oracle_search"
    [35mparams[39m: {
      "query": ""
    }
[18:49:04] [34mDEBUG[39m: [36mMCP tool call[39m
    [35mmodule[39m: "server"
    [35mtoolName[39m: "oracle_search"
    [35mparams[39m: {
      "query": "change"
    }
[18:49:04] [34mDEBUG[39m: [36mMCP tool call[39m
    [35mmodule[39m: "server"
    [35mtoolName[39m: "oracle_search"
    [35mparams[39m: {
      "query": "change",
      "category": "action"
    }
 [32mâœ“[39m src/__tests__/orchestrator-result-handlers.test.ts [2m([22m[2m12 tests[22m[2m)[22m[32m 31[2mms[22m[39m
 [32mâœ“[39m src/__tests__/orchestrator-rebase-helpers.test.ts [2m([22m[2m37 tests[22m[2m)[22m[32m 58[2mms[22m[39m
 [32mâœ“[39m src/__tests__/cache.test.ts [2m([22m[2m41 tests[22m[2m)[22m[32m 28[2mms[22m[39m
 [32mâœ“[39m src/__tests__/config.test.ts [2m([22m[2m34 tests[22m[2m)[22m[32m 39[2mms[22m[39m
 [32mâœ“[39m src/__tests__/worker-commit-message.test.ts [2m([22m[2m33 tests[22m[2m)[22m[32m 24[2mms[22m[39m
 [32mâœ“[39m src/__tests__/utils-mocks.test.ts [2m([22m[2m75 tests[22m[2m)[22m[32m 31[2mms[22m[39m
 [32mâœ“[39m src/__tests__/knowledge-validator.test.ts [2m([22m[2m41 tests[22m[2m)[22m[32m 33[2mms[22m[39m
 [32mâœ“[39m src/__tests__/plan-parser.test.ts [2m([22m[2m30 tests[22m[2m)[22m[32m 34[2mms[22m[39m
 [32mâœ“[39m src/__tests__/review-lenses.test.ts [2m([22m[2m26 tests[22m[2m)[22m[32m 25[2mms[22m[39m
 [32mâœ“[39m src/__tests__/intent-completion.test.ts [2m([22m[2m21 tests[22m[2m)[22m[32m 32[2mms[22m[39m
 [32mâœ“[39m src/__tests__/semantic-keywords.test.ts [2m([22m[2m31 tests[22m[2m)[22m[32m 38[2mms[22m[39m
 [32mâœ“[39m src/__tests__/effectiveness-analysis.test.ts [2m([22m[2m35 tests[22m[2m)[22m[32m 32[2mms[22m[39m
 [32mâœ“[39m src/__tests__/orchestrator-recommendation-handlers.test.ts [2m([22m[2m30 tests[22m[2m)[22m[32m 51[2mms[22m[39m
 [32mâœ“[39m src/__tests__/merge-queue.test.ts [2m([22m[2m43 tests[22m[2m)[22m[32m 33[2mms[22m[39m
 [32mâœ“[39m src/__tests__/names.test.ts [2m([22m[2m11 tests[22m[2m)[22m[32m 10[2mms[22m[39m
 [32mâœ“[39m src/__tests__/grind-events.test.ts [2m([22m[2m29 tests[22m[2m)[22m[32m 43[2mms[22m[39m
 [32mâœ“[39m src/__tests__/task-validator-symbols.test.ts [2m([22m[2m15 tests[22m[2m)[22m[32m 35[2mms[22m[39m
 [32mâœ“[39m src/__tests__/orchestrator-conflict-detection.test.ts [2m([22m[2m24 tests[22m[2m)[22m[32m 20[2mms[22m[39m
 [32mâœ“[39m src/__tests__/task-validator-board.test.ts [2m([22m[2m15 tests[22m[2m)[22m[32m 13[2mms[22m[39m
 [32mâœ“[39m src/__tests__/orchestrator-budget-aggregation.test.ts [2m([22m[2m42 tests[22m[2m)[22m[32m 32[2mms[22m[39m
 [32mâœ“[39m src/__tests__/worker-escalation-logic.test.ts [2m([22m[2m35 tests[22m[2m)[22m[32m 33[2mms[22m[39m
 [32mâœ“[39m src/__tests__/orchestrator-recovery-helpers.test.ts [2m([22m[2m12 tests[22m[2m)[22m[32m 27[2mms[22m[39m
 [32mâœ“[39m src/__tests__/rag-chunker.test.ts [2m([22m[2m21 tests[22m[2m)[22m[32m 16[2mms[22m[39m
 [32mâœ“[39m src/__tests__/orchestrator-validation.test.ts [2m([22m[2m24 tests[22m[2m)[22m[32m 17[2mms[22m[39m
 [32mâœ“[39m src/__tests__/worker-meta-task-handler.test.ts [2m([22m[2m13 tests[22m[2m)[22m[32m 32[2mms[22m[39m
 [32mâœ“[39m src/__tests__/fast-path.test.ts [2m([22m[2m10 tests[22m[2m)[22m[32m 16[2mms[22m[39m
 [32mâœ“[39m src/__tests__/prompt-builder-ticket.test.ts [2m([22m[2m12 tests[22m[2m)[22m[32m 17[2mms[22m[39m
 [32mâœ“[39m src/__tests__/integration/worktree-manager.test.ts [2m([22m[2m26 tests[22m[2m)[22m[33m 13784[2mms[22m[39m
       [33m[2mâœ“[22m[39m should create a new worktree [33m 419[2mms[22m[39m
       [33m[2mâœ“[22m[39m should throw error if worktree already exists [33m 571[2mms[22m[39m
       [33m[2mâœ“[22m[39m should create worktree with files from main branch [33m 1018[2mms[22m[39m
       [33m[2mâœ“[22m[39m should remove an existing worktree [33m 792[2mms[22m[39m
       [33m[2mâœ“[22m[39m should delete the branch when removing worktree [33m 937[2mms[22m[39m
       [33m[2mâœ“[22m[39m should handle force removal [33m 1079[2mms[22m[39m
       [33m[2mâœ“[22m[39m should include created worktrees [33m 976[2mms[22m[39m
       [33m[2mâœ“[22m[39m should return only managed session worktrees [33m 833[2mms[22m[39m
       [33m[2mâœ“[22m[39m should return true for existing worktree [33m 816[2mms[22m[39m
       [33m[2mâœ“[22m[39m should return info for existing worktree [33m 893[2mms[22m[39m
       [33m[2mâœ“[22m[39m should remove worktrees not in active session list [33m 1686[2mms[22m[39m
       [33m[2mâœ“[22m[39m should remove all session worktrees [33m 1963[2mms[22m[39m
       [33m[2mâœ“[22m[39m should have isolated working directory [33m 909[2mms[22m[39m
       [33m[2mâœ“[22m[39m should be on separate branch [33m 642[2mms[22m[39m
 [32mâœ“[39m src/__tests__/worker-agent-loop.test.ts [2m([22m[2m13 tests[22m[2m)[22m[32m 7[2mms[22m[39m
 [32mâœ“[39m src/__tests__/integration/cli-smoke.test.ts [2m([22m[2m13 tests[22m[2m)[22m[33m 17117[2mms[22m[39m
       [33m[2mâœ“[22m[39m --help exits 0 and shows usage [33m 895[2mms[22m[39m
       [33m[2mâœ“[22m[39m --version exits 0 and shows version [33m 1702[2mms[22m[39m
       [33m[2mâœ“[22m[39m help command works [33m 1736[2mms[22m[39m
       [33m[2mâœ“[22m[39m help for specific command works [33m 1730[2mms[22m[39m
       [33m[2mâœ“[22m[39m tasks command works with empty board [33m 1494[2mms[22m[39m
       [33m[2mâœ“[22m[39m status command works [33m 1592[2mms[22m[39m
       [33m[2mâœ“[22m[39m config command works [33m 1459[2mms[22m[39m
       [33m[2mâœ“[22m[39m metrics command works [33m 1746[2mms[22m[39m
       [33m[2mâœ“[22m[39m daemon status works [33m 1451[2mms[22m[39m
       [33m[2mâœ“[22m[39m add command adds task to board [33m 1388[2mms[22m[39m
       [33m[2mâœ“[22m[39m triage command works [33m 577[2mms[22m[39m
       [33m[2mâœ“[22m[39m unknown command shows error [33m 658[2mms[22m[39m
       [33m[2mâœ“[22m[39m add without goal shows error [33m 630[2mms[22m[39m
 [32mâœ“[39m [44m[1m TS [22m[49m src/types.test-d.ts [2m([22m[2m31 tests[22m[2m)[22m
 [32mâœ“[39m [44m[1m TS [22m[49m src/__tests__/types/task.test-d.ts [2m([22m[2m27 tests[22m[2m)[22m
 [32mâœ“[39m [44m[1m TS [22m[49m src/__tests__/types/validation.test-d.ts [2m([22m[2m47 tests[22m[2m)[22m

[2m Test Files [22m [1m[32m96 passed[39m[22m[90m (96)[39m
[2m      Tests [22m [1m[32m3344 passed[39m[22m[90m (3344)[39m
[2mType Errors [22m [2mno errors[22m
[2m   Start at [22m 10:48:53
[2m   Duration [22m 18.84s[2m (transform 8.68s, setup 0ms, import 25.28s, tests 45.87s, environment 23ms, typecheck 1.42s)[22m

